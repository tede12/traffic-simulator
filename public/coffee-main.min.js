!function r(i,o,s){function a(t,e){if(!o[t]){if(!i[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(l)return l(t,!0);throw(e=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",e}n=o[t]={exports:{}},i[t][0].call(n.exports,function(e){return a(i[t][1][e]||e)},n,n.exports,r,i,o,s)}return o[t].exports}for(var l="function"==typeof require&&require,e=0;e<s.length;e++)a(s[e]);return a}({1:[function(e,t,n){var r,i;r=this,i=function(){"use strict";for(var e=function(e,t,n){return void 0===n&&(n=1),e<(t=void 0===t?0:t)?t:n<e?n:e},I=e,P={},t=0,B=["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"];t<B.length;t+=1){var H=B[t];P["[object "+H+"]"]=H.toLowerCase()}function n(e){return P[Object.prototype.toString.call(e)]||"object"}function F(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if("object"===K(e[0])&&e[0].constructor&&e[0].constructor===this.constructor)return e[0];var n=!1;if(!(o=$(e))){n=!0,a.sorted||(a.autodetect=a.autodetect.sort(function(e,t){return t.p-e.p}),a.sorted=!0);for(var r=0,i=a.autodetect;r<i.length;r+=1){var o,s=i[r];if(o=s.test.apply(s,e))break}}if(!a.format[o])throw new Error("unknown format: "+e);n=a.format[o].apply(null,n?e:e.slice(0,-1)),this._rgb=Y(n),3===this._rgb.length&&this._rgb.push(1)}function r(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(r.Color,[null].concat(e)))}function q(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=(e=Z(e,"cmyk"))[0],r=e[1],i=e[2],o=e[3],s=4<e.length?e[4]:1;return 1===o?[0,0,0,s]:[1<=n?0:255*(1-n)*(1-o),1<=r?0:255*(1-r)*(1-o),1<=i?0:255*(1-i)*(1-o),s]}function i(e){return Math.round(100*e)/100}function z(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n,r,i=(e=se(e,"rgba"))[0],o=e[1],s=e[2],a=(i/=255,o/=255,s/=255,Math.min(i,o,s)),l=Math.max(i,o,s),c=(l+a)/2;return l===a?(n=0,r=Number.NaN):n=c<.5?(l-a)/(l+a):(l-a)/(2-l-a),i==l?r=(o-s)/(l-a):o==l?r=2+(s-i)/(l-a):s==l&&(r=4+(i-o)/(l-a)),(r*=60)<0&&(r+=360),3<e.length&&void 0!==e[3]?[r,n,c,e[3]]:[r,n,c]}function V(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=ae(e,"rgba"),r=le(e)||"rgb";return"hsl"==r.substr(0,3)?ce(ue(n),r):(n[0]=he(n[0]),n[1]=he(n[1]),n[2]=he(n[2]),("rgba"===r||3<n.length&&n[3]<1)&&(n[3]=3<n.length?n[3]:1,r="rgba"),r+"("+n.slice(0,"rgb"===r?3:4).join(",")+")")}function W(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n,r,i,o=(e=de(e,"hsl"))[0],s=e[1],a=e[2];if(0===s)n=r=i=255*a;else{var l=[0,0,0],c=[0,0,0],u=a<.5?a*(1+s):a+s-a*s,h=2*a-u,s=o/360;l[0]=s+1/3,l[1]=s,l[2]=s-1/3;for(var d=0;d<3;d++)l[d]<0&&(l[d]+=1),1<l[d]&&--l[d],c[d]=6*l[d]<1?h+6*(u-h)*l[d]:2*l[d]<1?u:3*l[d]<2?h+(u-h)*(2/3-l[d])*6:h;n=(a=[fe(255*c[0]),fe(255*c[1]),fe(255*c[2])])[0],r=a[1],i=a[2]}return 3<e.length?[n,r,i,e[3]]:[n,r,i,1]}function G(e){var t,n;if(e=e.toLowerCase().trim(),ge.format.named)try{return ge.format.named(e)}catch(e){}if(t=e.match(me)){for(var r=t.slice(1,4),i=0;i<3;i++)r[i]=+r[i];return r[3]=1,r}if(t=e.match(ve)){for(var o=t.slice(1,5),s=0;s<4;s++)o[s]=+o[s];return o}if(t=e.match(be)){for(var a=t.slice(1,4),l=0;l<3;l++)a[l]=we(2.55*a[l]);return a[3]=1,a}if(t=e.match(ye)){for(var c=t.slice(1,5),u=0;u<3;u++)c[u]=we(2.55*c[u]);return c[3]=+c[3],c}return(t=e.match(_e))?((n=t.slice(1,4))[1]*=.01,n[2]*=.01,(n=pe(n))[3]=1,n):(t=e.match(xe))?((n=t.slice(1,4))[1]*=.01,n[2]*=.01,(e=pe(n))[3]=+t[4],e):void 0}var U=n,X=n,o=Math.PI,e={clip_rgb:function(e){e._clipped=!1,e._unclipped=e.slice(0);for(var t=0;t<=3;t++)t<3?((e[t]<0||255<e[t])&&(e._clipped=!0),e[t]=I(e[t],0,255)):3===t&&(e[t]=I(e[t],0,1));return e},limit:e,type:n,unpack:function(t,e){return void 0===e&&(e=null),3<=t.length?Array.prototype.slice.call(t):"object"==U(t[0])&&e?e.split("").filter(function(e){return void 0!==t[0][e]}).map(function(e){return t[0][e]}):t[0]},last:function(e){var t;return!(e.length<2)&&(t=e.length-1,"string"==X(e[t]))?e[t].toLowerCase():null},PI:o,TWOPI:2*o,PITHIRD:o/3,DEG2RAD:o/180,RAD2DEG:180/o},o={format:{},autodetect:[]},$=e.last,Y=e.clip_rgb,K=e.type,a=o,s=(F.prototype.toString=function(){return"function"==K(this.hex)?this.hex():"["+this._rgb.join(",")+"]"},F),l=(r.Color=s,r.version="2.4.2",r),Q=e.unpack,J=Math.max,Z=e.unpack,c=l,ee=s,u=o,te=e.unpack,ne=e.type,re=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=Q(e,"rgb"),r=n[0],i=n[1],n=n[2],o=1-J(r/=255,J(i/=255,n/=255)),s=o<1?1/(1-o):0;return[(1-r-o)*s,(1-i-o)*s,(1-n-o)*s,o]},ie=(ee.prototype.cmyk=function(){return re(this._rgb)},c.cmyk=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(ee,[null].concat(e,["cmyk"])))},u.format.cmyk=q,u.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=te(e,"cmyk"),"array"===ne(e)&&4===e.length)return"cmyk"}}),e.unpack),oe=e.last,se=e.unpack,ae=e.unpack,le=e.last,ce=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=ie(e,"hsla"),r=oe(e)||"lsa";return n[0]=i(n[0]||0),n[1]=i(100*n[1])+"%",n[2]=i(100*n[2])+"%","hsla"===r||3<n.length&&n[3]<1?(n[3]=3<n.length?n[3]:1,r="hsla"):n.length=3,r+"("+n.join(",")+")"},ue=z,he=Math.round,de=e.unpack,fe=Math.round,pe=W,ge=o,me=/^rgb\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/,ve=/^rgba\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*([01]|[01]?\.\d+)\)$/,be=/^rgb\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,ye=/^rgba\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,_e=/^hsl\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,xe=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,we=Math.round;G.test=function(e){return me.test(e)||ve.test(e)||be.test(e)||ye.test(e)||_e.test(e)||xe.test(e)};function Ce(){for(var e,t=[],n=arguments.length;n--;)t[n]=arguments[n];var r,i,o,s=(t=Ue(t,"hcg"))[0],a=t[1],l=t[2],c=(l*=255,255*a);if(0===a)r=i=o=l;else{360<(s=360===s?0:s)&&(s-=360),s<0&&(s+=360);var u=Xe(s/=60),s=s-u,h=l*(1-a),d=h+c*(1-s),f=h+c*s,p=h+c;switch(u){case 0:r=(e=[p,f,h])[0],i=e[1],o=e[2];break;case 1:r=(e=[d,p,h])[0],i=e[1],o=e[2];break;case 2:r=(e=[h,p,f])[0],i=e[1],o=e[2];break;case 3:r=(e=[h,d,p])[0],i=e[1],o=e[2];break;case 4:r=(e=[f,h,p])[0],i=e[1],o=e[2];break;case 5:r=(e=[p,h,d])[0],i=e[1],o=e[2]}}return[r,i,o,3<t.length?t[3]:1]}function ke(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=(o=Je(e,"rgba"))[0],r=o[1],i=o[2],o=o[3],s=Ze(e)||"auto",a=(void 0===o&&(o=1),"auto"===s&&(s=o<1?"rgba":"rgb"),(a="000000"+(h(n)<<16|h(r)<<8|h(i)).toString(16)).substr(a.length-6)),l=(l="0"+h(255*o).toString(16)).substr(l.length-2);switch(s.toLowerCase()){case"rgba":return"#"+a+l;case"argb":return"#"+l+a;default:return"#"+a}}function Se(e){var t;if(e.match(et))return 3===(e=4!==e.length&&7!==e.length?e:e.substr(1)).length&&(e=(e=e.split(""))[0]+e[0]+e[1]+e[1]+e[2]+e[2]),[(t=parseInt(e,16))>>16,t>>8&255,255&t,1];if(e.match(tt))return 4===(e=5!==e.length&&9!==e.length?e:e.substr(1)).length&&(e=(e=e.split(""))[0]+e[0]+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]),[(t=parseInt(e,16))>>24&255,t>>16&255,t>>8&255,Math.round((255&t)/255*100)/100];throw new Error("unknown hex color: "+e)}function Ee(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n,r,i,o=(e=ut(e,"hsi"))[0],s=e[1],a=e[2];return isNaN(o)&&(o=0),isNaN(s)&&(s=0),360<o&&(o-=360),o<0&&(o+=360),(o/=360)<1/3?r=1-((i=(1-s)/3)+(n=(1+s*f(d*o)/f(dt-d*o))/3)):o<2/3?i=1-((n=(1-s)/3)+(r=(1+s*f(d*(o-=1/3))/f(dt-d*o))/3)):n=1-((r=(1-s)/3)+(i=(1+s*f(d*(o-=2/3))/f(dt-d*o))/3)),[255*(n=ht(a*n*3)),255*(r=ht(a*r*3)),255*(i=ht(a*i*3)),3<e.length?e[3]:1]}function Ae(){for(var e,t=[],n=arguments.length;n--;)t[n]=arguments[n];var r,i,o,s=(t=kt(t,"hsv"))[0],a=t[1],l=t[2];if(l*=255,0===a)r=i=o=l;else{360<(s=360===s?0:s)&&(s-=360),s<0&&(s+=360);var c=St(s/=60),s=s-c,u=l*(1-a),h=l*(1-a*s),d=l*(1-a*(1-s));switch(c){case 0:r=(e=[l,d,u])[0],i=e[1],o=e[2];break;case 1:r=(e=[h,l,u])[0],i=e[1],o=e[2];break;case 2:r=(e=[u,l,d])[0],i=e[1],o=e[2];break;case 3:r=(e=[u,h,l])[0],i=e[1],o=e[2];break;case 4:r=(e=[d,u,l])[0],i=e[1],o=e[2];break;case 5:r=(e=[l,u,h])[0],i=e[1],o=e[2]}}return[r,i,o,3<t.length?t[3]:1]}function Te(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=(i=jt(e,"rgb"))[0],r=i[1],i=i[2];return r=r,i=i,n=Mt(n=n),r=Mt(r),i=Mt(i),[(i=116*(r=(n=[Ot((.4124564*n+.3575761*r+.1804375*i)/p.Xn),Ot((.2126729*n+.7151522*r+.072175*i)/p.Yn),Ot((.0193339*n+.119192*r+.9503041*i)/p.Zn)])[1])-16)<0?0:i,500*(n[0]-r),200*(r-n[2])]}function Ne(e){return 255*(e<=.00304?12.92*e:1.055*Dt(e,1/2.4)-.055)}function je(e){return e>g.t1?e*e*e:g.t2*(e-g.t0)}function Le(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=(e=Rt(e,"lab"))[0],r=e[1],i=e[2],n=(n+16)/116,r=isNaN(r)?n:n+r/500,i=isNaN(i)?n:n-i/200;return n=g.Yn*je(n),r=g.Xn*je(r),i=g.Zn*je(i),[Ne(3.2404542*r-1.5371385*n-.4985314*i),Ne(-.969266*r+1.8760108*n+.041556*i),Ne(.0556434*r-.2040259*n+1.0572252*i),3<e.length?e[3]:1]}function Me(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=(i=Ft(e,"lab"))[0],r=i[1],i=i[2],o=zt(r*r+i*i),i=(Vt(i,r)*qt+360)%360;return[n,o,i=0===Wt(1e4*o)?Number.NaN:i]}function Oe(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=(i=$t(e,"lch"))[0],r=i[1],i=i[2];return isNaN(i)&&(i=0),[n,Qt(i*=Yt)*r,Kt(i)*r]}function Re(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=(e=Jt(e,"lch"))[0],r=e[1],i=e[2],r=(n=Zt(n,r,i))[0],i=n[1],n=n[2];return[(r=en(r,i,n))[0],r[1],r[2],3<e.length?e[3]:1]}function De(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=tn(e,"hcl").reverse();return nn.apply(void 0,n)}function Ie(e){if("number"==dn(e)&&0<=e&&e<=16777215)return[e>>16,e>>8&255,255&e,1];throw new Error("unknown num color: "+e)}function Pe(e){var t,n,r=(e=e/100)<66?(t=255,n=e<6?0:-155.25485562709179-.44596950469579133*(n=e-2)+104.49216199393888*_(n),e<20?0:.8274096064007395*(r=e-10)-254.76935184120902+115.67994401066147*_(r)):(t=351.97690566805693+.114206453784165*(t=e-55)-40.25366309332127*_(t),n=325.4494125711974+.07943456536662342*(n=e-50)-28.0852963507957*_(n),255);return[t,n,r,1]}function Be(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=(i=kn(e,"rgb"))[0],r=i[1],i=i[2],n=[Tn(n/255),Tn(r/255),Tn(i/255)],o=Sn(.4122214708*(r=n[0])+.5363325363*(i=n[1])+.0514459929*(n=n[2])),s=Sn(.2119034982*r+.6806995451*i+.1073969566*n),r=Sn(.0883024619*r+.2817188376*i+.6299787005*n);return[.2104542553*o+.793617785*s-.0040720468*r,1.9779984951*o-2.428592205*s+.4505937099*r,.0259040371*o+.7827717662*s-.808675766*r]}var c=l,He=s,u=o,Fe=e.type,qe=V,ze=G,Ve=(He.prototype.css=function(e){return qe(this._rgb,e)},c.css=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(He,[null].concat(e,["css"])))},u.format.css=ze,u.autodetect.push({p:5,test:function(e){for(var t=[],n=arguments.length-1;0<n--;)t[n]=arguments[n+1];if(!t.length&&"string"===Fe(e)&&ze.test(e))return"css"}}),s),c=l,u=o,We=e.unpack,Ge=(u.format.gl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=We(e,"rgba");return n[0]*=255,n[1]*=255,n[2]*=255,n},c.gl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Ve,[null].concat(e,["gl"])))},Ve.prototype.gl=function(){var e=this._rgb;return[e[0]/255,e[1]/255,e[2]/255,e[3]]},e.unpack),Ue=e.unpack,Xe=Math.floor,$e=e.unpack,Ye=e.type,u=l,Ke=s,c=o,Qe=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n,r=Ge(e,"rgb"),i=r[0],o=r[1],r=r[2],s=Math.min(i,o,r),a=Math.max(i,o,r),l=a-s;return 0==l?n=Number.NaN:(i===a&&(n=(o-r)/l),o===a&&(n=2+(r-i)/l),r===a&&(n=4+(i-o)/l),(n*=60)<0&&(n+=360)),[n,100*l/255,s/(255-l)*100]},Je=(Ke.prototype.hcg=function(){return Qe(this._rgb)},u.hcg=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Ke,[null].concat(e,["hcg"])))},c.format.hcg=Ce,c.autodetect.push({p:1,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=$e(e,"hcg"),"array"===Ye(e)&&3===e.length)return"hcg"}}),e.unpack),Ze=e.last,h=Math.round,et=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,tt=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,u=l,nt=s,rt=e.type,c=o,it=ke,ot=(nt.prototype.hex=function(e){return it(this._rgb,e)},u.hex=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(nt,[null].concat(e,["hex"])))},c.format.hex=Se,c.autodetect.push({p:4,test:function(e){for(var t=[],n=arguments.length-1;0<n--;)t[n]=arguments[n+1];if(!t.length&&"string"===rt(e)&&0<=[3,4,5,6,7,8,9].indexOf(e.length))return"hex"}}),e.unpack),st=e.TWOPI,at=Math.min,lt=Math.sqrt,ct=Math.acos,ut=e.unpack,ht=e.limit,d=e.TWOPI,dt=e.PITHIRD,f=Math.cos,ft=e.unpack,pt=e.type,u=l,gt=s,c=o,mt=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n,r=ot(e,"rgb"),i=r[0],o=r[1],r=r[2],s=at(i/=255,o/=255,r/=255),a=(i+o+r)/3,s=0<a?1-s/a:0;return 0==s?n=NaN:(n=(i-o+(i-r))/2,n/=lt((i-o)*(i-o)+(i-r)*(o-r)),n=ct(n),o<r&&(n=st-n),n/=st),[360*n,s,a]},vt=(gt.prototype.hsi=function(){return mt(this._rgb)},u.hsi=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(gt,[null].concat(e,["hsi"])))},c.format.hsi=Ee,c.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=ft(e,"hsi"),"array"===pt(e)&&3===e.length)return"hsi"}}),e.unpack),bt=e.type,u=l,yt=s,c=o,_t=z,xt=(yt.prototype.hsl=function(){return _t(this._rgb)},u.hsl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(yt,[null].concat(e,["hsl"])))},c.format.hsl=W,c.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=vt(e,"hsl"),"array"===bt(e)&&3===e.length)return"hsl"}}),e.unpack),wt=Math.min,Ct=Math.max,kt=e.unpack,St=Math.floor,Et=e.unpack,At=e.type,u=l,Tt=s,c=o,Nt=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n,r,i=(e=xt(e,"rgb"))[0],o=e[1],s=e[2],a=wt(i,o,s),l=Ct(i,o,s),a=l-a;return 0===l?(n=Number.NaN,r=0):(r=a/l,i===l&&(n=(o-s)/a),o===l&&(n=2+(s-i)/a),s===l&&(n=4+(i-o)/a),(n*=60)<0&&(n+=360)),[n,r,l/255]},u=(Tt.prototype.hsv=function(){return Nt(this._rgb)},u.hsv=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Tt,[null].concat(e,["hsv"])))},c.format.hsv=Ae,c.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=Et(e,"hsv"),"array"===At(e)&&3===e.length)return"hsv"}}),{Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452}),p=u,jt=e.unpack,Lt=Math.pow,Mt=function(e){return(e/=255)<=.04045?e/12.92:Lt((e+.055)/1.055,2.4)},Ot=function(e){return e>p.t3?Lt(e,1/3):e/p.t2+p.t0},g=u,Rt=e.unpack,Dt=Math.pow,It=e.unpack,Pt=e.type,c=l,Bt=s,m=o,Ht=Te,Ft=(Bt.prototype.lab=function(){return Ht(this._rgb)},c.lab=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Bt,[null].concat(e,["lab"])))},m.format.lab=Le,m.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=It(e,"lab"),"array"===Pt(e)&&3===e.length)return"lab"}}),e.unpack),qt=e.RAD2DEG,zt=Math.sqrt,Vt=Math.atan2,Wt=Math.round,Gt=e.unpack,Ut=Te,Xt=Me,$t=e.unpack,Yt=e.DEG2RAD,Kt=Math.sin,Qt=Math.cos,Jt=e.unpack,Zt=Oe,en=Le,tn=e.unpack,nn=Re,rn=e.unpack,on=e.type,c=l,v=s,sn=o,an=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=Gt(e,"rgb"),r=n[0],i=n[1],n=n[2],r=Ut(r,i,n),i=r[0],n=r[1],r=r[2];return Xt(i,n,r)},m=(v.prototype.lch=function(){return an(this._rgb)},v.prototype.hcl=function(){return an(this._rgb).reverse()},c.lch=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(v,[null].concat(e,["lch"])))},c.hcl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(v,[null].concat(e,["hcl"])))},sn.format.lch=Re,sn.format.hcl=De,["lch","hcl"].forEach(function(n){return sn.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=rn(e,n),"array"===on(e)&&3===e.length)return n}})}),{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"}),c=s,b=o,ln=e.type,y=m,cn=Se,un=ke,hn=(c.prototype.name=function(){for(var e=un(this._rgb,"rgb"),t=0,n=Object.keys(y);t<n.length;t+=1){var r=n[t];if(y[r]===e)return r.toLowerCase()}return e},b.format.named=function(e){if(e=e.toLowerCase(),y[e])return cn(y[e]);throw new Error("unknown color name: "+e)},b.autodetect.push({p:5,test:function(e){for(var t=[],n=arguments.length-1;0<n--;)t[n]=arguments[n+1];if(!t.length&&"string"===ln(e)&&y[e.toLowerCase()])return"named"}}),e.unpack),dn=e.type,c=l,fn=s,b=o,pn=e.type,gn=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=hn(e,"rgb");return(n[0]<<16)+(n[1]<<8)+n[2]},c=(fn.prototype.num=function(){return gn(this._rgb)},c.num=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(fn,[null].concat(e,["num"])))},b.format.num=Ie,b.autodetect.push({p:5,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(1===e.length&&"number"===pn(e[0])&&0<=e[0]&&e[0]<=16777215)return"num"}}),l),mn=s,b=o,vn=e.unpack,bn=e.type,yn=Math.round,_=(mn.prototype.rgb=function(e){return!1===(e=void 0===e?!0:e)?this._rgb.slice(0,3):this._rgb.slice(0,3).map(yn)},mn.prototype.rgba=function(n){return void 0===n&&(n=!0),this._rgb.slice(0,4).map(function(e,t){return!(t<3)||!1===n?e:yn(e)})},c.rgb=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(mn,[null].concat(e,["rgb"])))},b.format.rgb=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=vn(e,"rgba");return void 0===n[3]&&(n[3]=1),n},b.autodetect.push({p:3,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=vn(e,"rgba"),"array"===bn(e)&&(3===e.length||4===e.length&&"number"==bn(e[3])&&0<=e[3]&&e[3]<=1))return"rgb"}}),Math.log),_n=Pe,xn=e.unpack,wn=Math.round,c=l,x=s,b=o,Cn=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];for(var n=xn(e,"rgb"),r=n[0],i=n[2],o=1e3,s=4e4;.4<s-o;){var a,l=_n(a=.5*(s+o));l[2]/l[0]>=i/r?s=a:o=a}return wn(a)},kn=(x.prototype.temp=x.prototype.kelvin=x.prototype.temperature=function(){return Cn(this._rgb)},c.temp=c.kelvin=c.temperature=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(x,[null].concat(e,["temp"])))},b.format.temp=b.format.kelvin=b.format.temperature=Pe,e.unpack),Sn=Math.cbrt,En=Math.pow,An=Math.sign;function Tn(e){var t=Math.abs(e);return t<.04045?e/12.92:(An(e)||1)*En((t+.055)/1.055,2.4)}function Nn(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=(e=jn(e,"lab"))[0],r=e[1],i=e[2],o=w(n+.3963377774*r+.2158037573*i,3),s=w(n-.1055613458*r-.0638541728*i,3),n=w(n-.0894841775*r-1.291485548*i,3);return[255*Mn(4.0767416621*o-3.3077115913*s+.2309699292*n),255*Mn(-1.2684380046*o+2.6097574011*s-.3413193965*n),255*Mn(-.0041960863*o-.7034186147*s+1.707614701*n),3<e.length?e[3]:1]}var jn=e.unpack,w=Math.pow,Ln=Math.sign;function Mn(e){var t=Math.abs(e);return.0031308<t?(Ln(e)||1)*(1.055*w(t,1/2.4)-.055):12.92*e}function On(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=(e=qn(e,"lch"))[0],r=e[1],i=e[2],r=(n=zn(n,r,i))[0],i=n[1],n=n[2];return[(r=Vn(r,i,n))[0],r[1],r[2],3<e.length?e[3]:1]}var Rn=e.unpack,Dn=e.type,c=l,In=s,b=o,Pn=Be,Bn=(In.prototype.oklab=function(){return Pn(this._rgb)},c.oklab=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(In,[null].concat(e,["oklab"])))},b.format.oklab=Nn,b.autodetect.push({p:3,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=Rn(e,"oklab"),"array"===Dn(e)&&3===e.length)return"oklab"}}),e.unpack),Hn=Be,Fn=Me,qn=e.unpack,zn=Oe,Vn=Nn,Wn=e.unpack,Gn=e.type,c=l,Un=s,b=o,Xn=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=Bn(e,"rgb"),r=n[0],i=n[1],n=n[2],r=Hn(r,i,n),i=r[0],n=r[1],r=r[2];return Fn(i,n,r)},$n=(Un.prototype.oklch=function(){return Xn(this._rgb)},c.oklch=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Un,[null].concat(e,["oklch"])))},b.format.oklch=On,b.autodetect.push({p:3,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=Wn(e,"oklch"),"array"===Gn(e)&&3===e.length)return"oklch"}}),s),Yn=e.type;$n.prototype.alpha=function(e,t){return void 0===t&&(t=!1),void 0!==e&&"number"===Yn(e)?t?(this._rgb[3]=e,this):new $n([this._rgb[0],this._rgb[1],this._rgb[2],e],"rgb"):this._rgb[3]};s.prototype.clipped=function(){return this._rgb._clipped||!1};var C=s,Kn=u;C.prototype.darken=function(e){void 0===e&&(e=1);var t=this.lab();return t[0]-=Kn.Kn*e,new C(t,"lab").alpha(this.alpha(),!0)},C.prototype.brighten=function(e){return this.darken(-(e=void 0===e?1:e))},C.prototype.darker=C.prototype.darken,C.prototype.brighter=C.prototype.brighten;function Qn(e,t,n){void 0===n&&(n=.5);for(var r=[],i=arguments.length-3;0<i--;)r[i]=arguments[i+3];var o=r[0]||"lrgb";if(E[o]||r.length||(o=Object.keys(E)[0]),E[o])return"object"!==or(e)&&(e=new ir(e)),"object"!==or(t)&&(t=new ir(t)),E[o](e,t,n).alpha(e.alpha()+n*(t.alpha()-e.alpha()));throw new Error("interpolation mode "+o+" is not defined")}function k(e,t,n,r){var i,o,s,a,l,c,u,h,d,f;return"hsl"===r?(f=e.hsl(),i=t.hsl()):"hsv"===r?(f=e.hsv(),i=t.hsv()):"hcg"===r?(f=e.hcg(),i=t.hcg()):"hsi"===r?(f=e.hsi(),i=t.hsi()):"lch"===r||"hcl"===r?(r="hcl",f=e.hcl(),i=t.hcl()):"oklch"===r&&(f=e.oklch().reverse(),i=t.oklch().reverse()),"h"!==r.substr(0,1)&&"oklch"!==r||(o=(e=f)[0],a=e[1],c=e[2],s=(t=i)[0],l=t[1],u=t[2]),isNaN(o)||isNaN(s)?isNaN(o)?isNaN(s)?d=Number.NaN:(d=s,1!=c&&0!=c||"hsv"==r||(h=l)):(d=o,1!=u&&0!=u||"hsv"==r||(h=a)):d=o+n*(o<s&&180<s-o?s-(o+360):s<o&&180<o-s?s+360-o:s-o),void 0===h&&(h=a+n*(l-a)),f=c+n*(u-c),new mr("oklch"===r?[f,h,d]:[d,h,f],r)}function Jn(e,t,n){return vr(e,t,n,"lch")}function Zn(c){function n(e){if((e=e||["#fff","#000"])&&"string"===N(e)&&T.brewer&&T.brewer[e.toLowerCase()]&&(e=T.brewer[e.toLowerCase()]),"array"===N(e)){e=(e=1===e.length?[e[0],e[0]]:e).slice(0);for(var t=0;t<e.length;t++)e[t]=T(e[t]);for(var n=l.length=0;n<e.length;n++)l.push(n/(e.length-1))}r(),g=e}function u(e,t){var n,r;if(null==t&&(t=!1),isNaN(e)||null===e)return a;if(r=t?e:p&&2<p.length?x(e)/(p.length-2):v!==m?(e-m)/(v-m):1,r=C(r),t||(r=w(r)),1!==_&&(r=Or(r,_)),r=f[0]+r*(1-f[0]-f[1]),r=Math.min(1,Math.max(0,r)),e=Math.floor(1e4*r),y&&b[e])n=b[e];else{if("array"===N(g))for(var i=0;i<l.length;i++){var o=l[i];if(r<=o){n=g[i];break}if(o<=r&&i===l.length-1){n=g[i];break}if(o<r&&r<l[i+1]){r=(r-o)/(l[i+1]-o),n=T.interpolate(g[i],g[i+1],r,s);break}}else"function"===N(g)&&(n=g(r));y&&(b[e]=n)}return n}function r(){b={}}function h(e){return e=T(u(e)),i&&e[i]?e[i]():e}var s="rgb",a=T("#ccc"),t=0,d=[0,1],l=[],f=[0,0],p=!1,g=[],i=!1,m=0,v=1,b={},y=!0,_=1,x=function(e){if(null==p)return 0;for(var t=p.length-1,n=0;n<t&&e>=p[n];)n++;return n-1},w=function(e){return e},C=function(e){return e};return n(c),h.classes=function(e){var t;return null!=e?("array"===N(e)?d=[(p=e)[0],e[e.length-1]]:(t=T.analyze(d),p=0===e?[t.min,t.max]:T.limits(t,"e",e)),h):p},h.domain=function(n){if(!arguments.length)return d;m=n[0],v=n[n.length-1],l=[];var e=g.length;if(n.length===e&&m!==v)for(var t=0,r=Array.from(n);t<r.length;t+=1){var i=r[t];l.push((i-m)/(v-m))}else{for(var o,s,a=0;a<e;a++)l.push(a/(e-1));2<n.length&&(o=n.map(function(e,t){return t/(n.length-1)}),(s=n.map(function(e){return(e-m)/(v-m)})).every(function(e,t){return o[t]===e})||(C=function(e){if(e<=0||1<=e)return e;for(var t=0;e>=s[t+1];)t++;var n=(e-s[t])/(s[t+1]-s[t]);return o[t]+n*(o[t+1]-o[t])}))}return d=[m,v],h},h.mode=function(e){return arguments.length?(s=e,r(),h):s},h.range=function(e,t){return n(e),h},h.out=function(e){return i=e,h},h.spread=function(e){return arguments.length?(t=e,h):t},h.correctLightness=function(e){return r(),w=(e=null==e?!0:e)?function(e){for(var t=u(0,!0).lab()[0],n=u(1,!0).lab()[0],r=n<t,i=u(e,!0).lab()[0],o=t+(n-t)*e,s=i-o,a=0,l=1,c=20;.01<Math.abs(s)&&0<c--;)r&&(s*=-1),e+=s<0?.5*(l-(a=e)):.5*(a-(l=e)),i=u(e,!0).lab()[0],s=i-o;return e}:function(e){return e},h},h.padding=function(e){return null!=e?("number"===N(e)&&(e=[e,e]),f=e,h):f},h.colors=function(t,n){arguments.length<2&&(n="hex");var e=[];if(0===arguments.length)e=g.slice(0);else if(1===t)e=[h(.5)];else if(1<t)var r=d[0],i=d[1]-r,e=function(e,t,n){for(var r=[],i=e<t,o=n?i?t+1:t-1:t,s=e;i?s<o:o<s;i?s++:s--)r.push(s);return r}(0,t,!1).map(function(e){return h(r+e/(t-1)*i)});else{c=[];var o=[];if(p&&2<p.length)for(var s=1,a=p.length,l=1<=a;l?s<a:a<s;l?s++:s--)o.push(.5*(p[s-1]+p[s]));else o=d;e=o.map(h)}return e=T[n]?e.map(function(e){return e[n]()}):e},h.cache=function(e){return null!=e?(y=e,h):y},h.gamma=function(e){return null!=e?(_=e,h):_},h.nodata=function(e){return null!=e?(a=T(e),h):a},h}s.prototype.get=function(e){var e=e.split("."),t=e[0],e=e[1],n=this[t]();if(e){var r=t.indexOf(e)-("ok"===t.substr(0,2)?2:0);if(-1<r)return n[r];throw new Error("unknown channel "+e+" in mode "+t)}return n};var S=s,er=e.type,tr=Math.pow,nr=(S.prototype.luminance=function(i){var o,s,a,e;return void 0!==i&&"number"===er(i)?0===i?new S([0,0,0,this._rgb[3]],"rgb"):1===i?new S([255,255,255,this._rgb[3]],"rgb"):(e=this.luminance(),o="rgb",s=20,a=function(e,t){var n=e.interpolate(t,.5,o),r=n.luminance();return Math.abs(i-r)<1e-7||!s--?n:i<r?a(e,n):a(n,t)},e=(i<e?a(new S([0,0,0]),this):a(this,new S([255,255,255]))).rgb(),new S(e.concat([this._rgb[3]]))):nr.apply(void 0,this._rgb.slice(0,3))},function(e,t,n){return.2126*(e=rr(e))+.7152*(t=rr(t))+.0722*(n=rr(n))}),rr=function(e){return(e/=255)<=.03928?e/12.92:tr((e+.055)/1.055,2.4)},o={},ir=s,or=e.type,E=o,c=s,sr=Qn,ar=(c.prototype.mix=c.prototype.interpolate=function(e,t){void 0===t&&(t=.5);for(var n=[],r=arguments.length-2;0<r--;)n[r]=arguments[r+2];return sr.apply(void 0,[this,e,t].concat(n))},s),lr=(ar.prototype.premultiply=function(e){var t=this._rgb,n=t[3];return(e=void 0===e?!1:e)?(this._rgb=[t[0]*n,t[1]*n,t[2]*n,n],this):new ar([t[0]*n,t[1]*n,t[2]*n,n],"rgb")},s),cr=u,ur=(lr.prototype.saturate=function(e){void 0===e&&(e=1);var t=this.lch();return t[1]+=cr.Kn*e,t[1]<0&&(t[1]=0),new lr(t,"lch").alpha(this.alpha(),!0)},lr.prototype.desaturate=function(e){return this.saturate(-(e=void 0===e?1:e))},s),hr=e.type,dr=(ur.prototype.set=function(e,t,n){void 0===n&&(n=!1);var e=e.split("."),r=e[0],e=e[1],i=this[r]();if(e){var o=r.indexOf(e)-("ok"===r.substr(0,2)?2:0);if(-1<o){if("string"==hr(t))switch(t.charAt(0)){case"+":case"-":i[o]+=+t;break;case"*":i[o]*=+t.substr(1);break;case"/":i[o]/=+t.substr(1);break;default:i[o]=+t}else{if("number"!==hr(t))throw new Error("unsupported value for Color.set");i[o]=t}var s=new ur(i,r);return n?(this._rgb=s._rgb,this):s}throw new Error("unknown channel "+e+" in mode "+r)}return i},s),fr=(o.rgb=function(e,t,n){e=e._rgb,t=t._rgb;return new dr(e[0]+n*(t[0]-e[0]),e[1]+n*(t[1]-e[1]),e[2]+n*(t[2]-e[2]),"rgb")},s),pr=Math.sqrt,A=Math.pow,gr=(o.lrgb=function(e,t,n){var e=e._rgb,r=e[0],i=e[1],e=e[2],t=t._rgb,o=t[0],s=t[1],t=t[2];return new fr(pr(A(r,2)*(1-n)+A(o,2)*n),pr(A(i,2)*(1-n)+A(s,2)*n),pr(A(e,2)*(1-n)+A(t,2)*n),"rgb")},s),mr=(o.lab=function(e,t,n){e=e.lab(),t=t.lab();return new gr(e[0]+n*(t[0]-e[0]),e[1]+n*(t[1]-e[1]),e[2]+n*(t[2]-e[2]),"lab")},s),vr=k,br=(o.lch=Jn,o.hcl=Jn,s),yr=(o.num=function(e,t,n){e=e.num(),t=t.num();return new br(e+n*(t-e),"num")},k),_r=(o.hcg=function(e,t,n){return yr(e,t,n,"hcg")},k),xr=(o.hsi=function(e,t,n){return _r(e,t,n,"hsi")},k),wr=(o.hsl=function(e,t,n){return xr(e,t,n,"hsl")},k),Cr=(o.hsv=function(e,t,n){return wr(e,t,n,"hsv")},s),kr=(o.oklab=function(e,t,n){e=e.oklab(),t=t.oklab();return new Cr(e[0]+n*(t[0]-e[0]),e[1]+n*(t[1]-e[1]),e[2]+n*(t[2]-e[2]),"oklab")},k),Sr=(o.oklch=function(e,t,n){return kr(e,t,n,"oklch")},s),Er=e.clip_rgb,Ar=Math.pow,Tr=Math.sqrt,Nr=Math.PI,jr=Math.cos,Lr=Math.sin,Mr=Math.atan2,T=l,N=e.type,Or=Math.pow;for(var j=s,Rr=Zn,Dr=function(e){for(var t=[1,1],n=1;n<e;n++){for(var r=[1],i=1;i<=t.length;i++)r[i]=(t[i]||0)+t[i-1];t=r}return t},Ir=l,L=function(e,t,n){if(L[n])return L[n](e,t);throw new Error("unknown blend mode "+n)},b=function(n){return function(e,t){t=Ir(t).rgb(),e=Ir(e).rgb();return Ir.rgb(n(t,e))}},c=function(r){return function(e,t){var n=[];return n[0]=r(e[0],t[0]),n[1]=r(e[1],t[1]),n[2]=r(e[2],t[2]),n}},u=(L.normal=b(c(function(e){return e})),L.multiply=b(c(function(e,t){return e*t/255})),L.screen=b(c(function(e,t){return 255*(1-(1-e/255)*(1-t/255))})),L.overlay=b(c(function(e,t){return t<128?2*e*t/255:255*(1-2*(1-e/255)*(1-t/255))})),L.darken=b(c(function(e,t){return t<e?t:e})),L.lighten=b(c(function(e,t){return t<e?e:t})),L.dodge=b(c(function(e,t){return 255===e||255<(e=t/255*255/(1-e/255))?255:e})),L.burn=b(c(function(e,t){return 255*(1-(1-t/255)/(e/255))})),L),Pr=e.type,Br=e.clip_rgb,Hr=e.TWOPI,Fr=Math.pow,qr=Math.sin,zr=Math.cos,Vr=l,Wr=s,Gr=Math.floor,Ur=Math.random,Xr=n,$r=Math.log,Yr=Math.pow,Kr=Math.floor,Qr=Math.abs,Jr=function(e,t){void 0===t&&(t=null);var n={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0};return(e="object"===Xr(e)?Object.values(e):e).forEach(function(e){null==(e=t&&"object"===Xr(e)?e[t]:e)||isNaN(e)||(n.values.push(e),n.sum+=e,e<n.min&&(n.min=e),n.max<e&&(n.max=e),n.count+=1)}),n.domain=[n.min,n.max],n.limits=function(e,t){return Zr(n,e,t)},n},Zr=function(e,t,n){void 0===t&&(t="equal"),void 0===n&&(n=7);var r=(e="array"==Xr(e)?Jr(e):e).min,i=e.max,o=e.values.sort(function(e,t){return e-t});if(1===n)return[r,i];var s=[];if("c"===t.substr(0,1)&&(s.push(r),s.push(i)),"e"===t.substr(0,1)){s.push(r);for(var a=1;a<n;a++)s.push(r+a/n*(i-r));s.push(i)}else if("l"===t.substr(0,1)){if(r<=0)throw new Error("Logarithmic scales are only possible for values > 0");var l=Math.LOG10E*$r(r),I=Math.LOG10E*$r(i);s.push(r);for(var c=1;c<n;c++)s.push(Yr(10,l+c/n*(I-l)));s.push(i)}else if("q"===t.substr(0,1)){s.push(r);for(var u=1;u<n;u++){var h=(o.length-1)*u/n,d=Kr(h);s.push(d===h?o[d]:o[d]*(1-(h=h-d))+o[d+1]*h)}s.push(i)}else if("k"===t.substr(0,1)){var f,p=o.length,g=new Array(p),m=new Array(n),v=!0,P=0,b=null;(b=[]).push(r);for(var y=1;y<n;y++)b.push(r+y/n*(i-r));for(b.push(i);v;){for(var _=0;_<n;_++)m[_]=0;for(var x=0;x<p;x++)for(var B=o[x],H=Number.MAX_VALUE,w=void 0,C=0;C<n;C++){var F=Qr(b[C]-B);F<H&&(H=F,w=C),m[w]++,g[x]=w}for(var k=new Array(n),S=0;S<n;S++)k[S]=null;for(var E=0;E<p;E++)null===k[f=g[E]]?k[f]=o[E]:k[f]+=o[E];for(var A=0;A<n;A++)k[A]*=1/m[A];for(var v=!1,T=0;T<n;T++)if(k[T]!==b[T]){v=!0;break}b=k,200<++P&&(v=!1)}for(var N={},j=0;j<n;j++)N[j]=[];for(var L=0;L<p;L++)N[f=g[L]].push(o[L]);for(var M=[],O=0;O<n;O++)M.push(N[O][0]),M.push(N[O][N[O].length-1]);M=M.sort(function(e,t){return e-t}),s.push(M[0]);for(var R=1;R<M.length;R+=2){var D=M[R];isNaN(D)||-1!==s.indexOf(D)||s.push(D)}}return s},o=Jr,b=Zr,ei=s,ti=s,M=Math.sqrt,O=Math.pow,ni=Math.min,ri=Math.max,ii=Math.atan2,oi=Math.abs,R=Math.cos,si=Math.sin,ai=Math.exp,li=Math.PI,ci=s,ui=s,hi=l,di=Zn,c={cool:function(){return di([hi.hsl(180,1,.9),hi.hsl(250,.7,.4)])},hot:function(){return di(["#000","#f00","#ff0","#fff"]).mode("rgb")}},D={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},fi=0,pi=Object.keys(D);fi<pi.length;fi+=1){var gi=pi[fi];D[gi.toLowerCase()]=D[gi]}e=D,s=l;return s.average=function(e,o,s){void 0===o&&(o="lrgb"),void 0===s&&(s=null);var t=e.length,n=t/(s=s||Array.from(new Array(t)).map(function(){return 1})).reduce(function(e,t){return e+t});if(s.forEach(function(e,t){s[t]*=n}),e=e.map(function(e){return new Sr(e)}),"lrgb"===o){for(var r=e,i=s,a=r.length,l=[0,0,0,0],c=0;c<r.length;c++){var u=r[c];var h=i[c]/a;u=u._rgb;l[0]+=Ar(u[0],2)*h;l[1]+=Ar(u[1],2)*h;l[2]+=Ar(u[2],2)*h;l[3]+=u[3]*h}if(l[0]=Tr(l[0]),l[1]=Tr(l[1]),l[2]=Tr(l[2]),l[3]>.9999999)l[3]=1;return new Sr(Er(l))}for(var d,f=e.shift(),p=f.get(o),g=[],m=0,v=0,b=0;b<p.length;b++)p[b]=(p[b]||0)*s[0],g.push(isNaN(p[b])?0:s[0]),"h"!==o.charAt(b)||isNaN(p[b])||(d=p[b]/180*Nr,m+=jr(d)*s[0],v+=Lr(d)*s[0]);var y=f.alpha()*s[0];e.forEach(function(e,t){var n=e.get(o);y+=e.alpha()*s[t+1];for(var r,i=0;i<p.length;i++)isNaN(n[i])||(g[i]+=s[t+1],"h"===o.charAt(i)?(r=n[i]/180*Nr,m+=jr(r)*s[t+1],v+=Lr(r)*s[t+1]):p[i]+=n[i]*s[t+1])});for(var _=0;_<p.length;_++)if("h"===o.charAt(_)){for(var x=Mr(v/g[_],m/g[_])/Nr*180;x<0;)x+=360;for(;360<=x;)x-=360;p[_]=x}else p[_]=p[_]/g[_];return y/=t,new Sr(p,o).alpha(.99999<y?1:y,!0)},s.bezier=function(e){var t=function(e){if(2===(e=e.map(function(e){return new j(e)})).length)s=e.map(function(e){return e.lab()}),n=s[0],r=s[1],s=function(t){var e=[0,1,2].map(function(e){return n[e]+t*(r[e]-n[e])});return new j(e,"lab")};else if(3===e.length)t=e.map(function(e){return e.lab()}),n=t[0],r=t[1],i=t[2],s=function(t){var e=[0,1,2].map(function(e){return(1-t)*(1-t)*n[e]+2*(1-t)*t*r[e]+t*t*i[e]});return new j(e,"lab")};else if(4===e.length)var t,n=(t=e.map(function(e){return e.lab()}))[0],r=t[1],i=t[2],o=t[3],s=function(t){var e=[0,1,2].map(function(e){return(1-t)*(1-t)*(1-t)*n[e]+3*(1-t)*(1-t)*t*r[e]+3*(1-t)*t*t*i[e]+t*t*t*o[e]});return new j(e,"lab")};else{if(!(5<=e.length))throw new RangeError("No point in running bezier with only one color.");var a=e.map(function(e){return e.lab()}),l=e.length-1,c=Dr(l);s=function(i){var o=1-i,e=[0,1,2].map(function(r){return a.reduce(function(e,t,n){return e+c[n]*Math.pow(o,l-n)*Math.pow(i,n)*t[r]},0)});return new j(e,"lab")}}return s}(e);return t.scale=function(){return Rr(t)},t},s.blend=u,s.cubehelix=function(i,o,s,a,l){void 0===i&&(i=300),void 0===o&&(o=-1.5),void 0===s&&(s=1),void 0===a&&(a=1);function t(e){var t=Hr*((i+120)/360+o*e),n=Fr(l[0]+c*e,a),e=(0!==u?s[0]+e*u:s)*n*(1-n)/2,r=zr(t),t=qr(t);return Vr(Br([255*(n+e*(-.14861*r+1.78277*t)),255*(n+e*(-.29227*r-.90649*t)),255*(n+1.97294*r*e),1]))}var c,u=0;"array"===Pr(l=void 0===l?[0,1]:l)?c=l[1]-l[0]:(c=0,l=[l,l]);return t.start=function(e){return null==e?i:(i=e,t)},t.rotations=function(e){return null==e?o:(o=e,t)},t.gamma=function(e){return null==e?a:(a=e,t)},t.hue=function(e){return null==e?s:("array"===Pr(s=e)?0===(u=s[1]-s[0])&&(s=s[1]):u=0,t)},t.lightness=function(e){return null==e?l:(c="array"===Pr(e)?(l=e)[1]-e[0]:(l=[e,e],0),t)},t.scale=function(){return Vr.scale(t)},t.hue(s),t},s.mix=s.interpolate=Qn,s.random=function(){for(var e="#",t=0;t<6;t++)e+="0123456789abcdef".charAt(Gr(16*Ur()));return new Wr(e,"hex")},s.scale=Zn,s.analyze=o,s.contrast=function(e,t){e=new ei(e),t=new ei(t);e=e.luminance(),t=t.luminance();return t<e?(e+.05)/(t+.05):(t+.05)/(e+.05)},s.deltaE=function(e,t,n,r,i){void 0===n&&(n=1),void 0===r&&(r=1),void 0===i&&(i=1);function o(e){return 360*e/(2*li)}function s(e){return 2*li*e/360}e=new ti(e),t=new ti(t);var e=Array.from(e.lab()),a=e[0],l=e[1],e=e[2],t=Array.from(t.lab()),c=t[0],u=t[1],t=t[2],h=(a+c)/2,d=(M(O(l,2)+O(e,2))+M(O(u,2)+O(t,2)))/2,d=.5*(1-M(O(d,7)/(O(d,7)+O(25,7)))),l=l*(1+d),u=u*(1+d),d=M(O(l,2)+O(e,2)),f=M(O(u,2)+O(t,2)),p=(d+f)/2,e=o(ii(e,l)),l=o(ii(t,u)),t=0<=e?e:e+360,u=0<=l?l:l+360,e=180<oi(t-u)?(t+u+360)/2:(t+u)/2,l=1-.17*R(s(e-30))+.24*R(s(2*e))+.32*R(s(3*e+6))-.2*R(s(4*e-63)),g=oi(g=u-t)<=180?g:u<=t?360+g:g-360,u=(g=2*M(d*f)*si(s(g)/2),c-a),t=f-d,c=1+.015*O(h-50,2)/M(20+O(h-50,2)),a=1+.045*p,f=1+.015*p*l,d=30*ai(-O((e-275)/25,2)),h=-(2*M(O(p,7)/(O(p,7)+O(25,7))))*si(2*s(d)),l=M(O(u/(n*c),2)+O(t/(r*a),2)+O(g/(i*f),2)+t/(r*a)*h*(g/(i*f)));return ri(0,ni(100,l))},s.distance=function(e,t,n){void 0===n&&(n="lab"),e=new ci(e),t=new ci(t);var r,i=e.get(n),o=t.get(n),s=0;for(r in i){var a=(i[r]||0)-(o[r]||0);s+=a*a}return Math.sqrt(s)},s.limits=b,s.valid=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];try{return new(Function.prototype.bind.apply(ui,[null].concat(e))),!0}catch(e){return!1}},s.scales=c,s.colors=m,s.brewer=e,s},"object"==typeof n&&void 0!==t?t.exports=i():"function"==typeof define&&define.amd?define(i):(r="undefined"!=typeof globalThis?globalThis:r||self).chroma=i()},{}],2:[function(e,t,n){t.exports=e("./vendor/dat.gui"),t.exports.color=e("./vendor/dat.color")},{"./vendor/dat.color":3,"./vendor/dat.gui":4}],3:[function(e,t,n){var o,r,i,s,a,l,c,u,h,d,f,p,g,t=t.exports={};function m(){if(this.__state=s.apply(this,arguments),!1===this.__state)throw"Failed to interpret color arguments";this.__state.a=this.__state.a||1}function v(e,t,n){Object.defineProperty(e,t,{get:function(){return"RGB"!==this.__state.space&&y(this,t,n),this.__state[t]},set:function(e){"RGB"!==this.__state.space&&(y(this,t,n),this.__state.space="RGB"),this.__state[t]=e}})}function b(e,t){Object.defineProperty(e,t,{get:function(){return"HSV"!==this.__state.space&&_(this),this.__state[t]},set:function(e){"HSV"!==this.__state.space&&(_(this),this.__state.space="HSV"),this.__state[t]=e}})}function y(e,t,n){if("HEX"===e.__state.space)e.__state[t]=a.component_from_hex(e.__state.hex,n);else{if("HSV"!==e.__state.space)throw"Corrupted color state";c.extend(e.__state,a.hsv_to_rgb(e.__state.h,e.__state.s,e.__state.v))}}function _(e){var t=a.rgb_to_hsv(e.r,e.g,e.b);c.extend(e.__state,{s:t.s,v:t.v}),c.isNaN(t.h)?c.isUndefined(e.__state.h)&&(e.__state.h=0):e.__state.h=t.h}t.color=t.color||{},t.utils=t.utils||{},t.utils.common=(o=Array.prototype.forEach,r=Array.prototype.slice,{BREAK:{},extend:function(n){return this.each(r.call(arguments,1),function(e){for(var t in e)this.isUndefined(e[t])||(n[t]=e[t])},this),n},defaults:function(n){return this.each(r.call(arguments,1),function(e){for(var t in e)this.isUndefined(n[t])&&(n[t]=e[t])},this),n},compose:function(){var n=r.call(arguments);return function(){for(var e=r.call(arguments),t=n.length-1;0<=t;t--)e=[n[t].apply(this,e)];return e[0]}},each:function(e,t,n){if(o&&e.forEach===o)e.forEach(t,n);else if(e.length===e.length+0){for(var r=0,i=e.length;r<i;r++)if(r in e&&t.call(n,e[r],r)===this.BREAK)return}else for(var r in e)if(t.call(n,e[r],r)===this.BREAK)return},defer:function(e){setTimeout(e,0)},toArray:function(e){return e.toArray?e.toArray():r.call(e)},isUndefined:function(e){return void 0===e},isNull:function(e){return null===e},isNaN:function(e){return e!=e},isArray:Array.isArray||function(e){return e.constructor===Array},isObject:function(e){return e===Object(e)},isNumber:function(e){return e===e+0},isString:function(e){return e===e+""},isBoolean:function(e){return!1===e||!0===e},isFunction:function(e){return"[object Function]"===Object.prototype.toString.call(e)}}),t.color.toString=(i=t.utils.common,function(e){if(1==e.a||i.isUndefined(e.a)){for(var t=e.hex.toString(16);t.length<6;)t="0"+t;return"#"+t}return"rgba("+Math.round(e.r)+","+Math.round(e.g)+","+Math.round(e.b)+","+e.a+")"}),t.Color=t.color.Color=(s=t.color.interpret=(h=t.color.toString,d=t.utils.common,g=[{litmus:d.isString,conversions:{THREE_CHAR_HEX:{read:function(e){e=e.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);return null!==e&&{space:"HEX",hex:parseInt("0x"+e[1].toString()+e[1].toString()+e[2].toString()+e[2].toString()+e[3].toString()+e[3].toString())}},write:h},SIX_CHAR_HEX:{read:function(e){e=e.match(/^#([A-F0-9]{6})$/i);return null!==e&&{space:"HEX",hex:parseInt("0x"+e[1].toString())}},write:h},CSS_RGB:{read:function(e){e=e.match(/^rgb\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return null!==e&&{space:"RGB",r:parseFloat(e[1]),g:parseFloat(e[2]),b:parseFloat(e[3])}},write:h},CSS_RGBA:{read:function(e){e=e.match(/^rgba\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\,\s*(.+)\s*\)/);return null!==e&&{space:"RGB",r:parseFloat(e[1]),g:parseFloat(e[2]),b:parseFloat(e[3]),a:parseFloat(e[4])}},write:h}}},{litmus:d.isNumber,conversions:{HEX:{read:function(e){return{space:"HEX",hex:e,conversionName:"HEX"}},write:function(e){return e.hex}}}},{litmus:d.isArray,conversions:{RGB_ARRAY:{read:function(e){return 3==e.length&&{space:"RGB",r:e[0],g:e[1],b:e[2]}},write:function(e){return[e.r,e.g,e.b]}},RGBA_ARRAY:{read:function(e){return 4==e.length&&{space:"RGB",r:e[0],g:e[1],b:e[2],a:e[3]}},write:function(e){return[e.r,e.g,e.b,e.a]}}}},{litmus:d.isObject,conversions:{RGBA_OBJ:{read:function(e){return!!(d.isNumber(e.r)&&d.isNumber(e.g)&&d.isNumber(e.b)&&d.isNumber(e.a))&&{space:"RGB",r:e.r,g:e.g,b:e.b,a:e.a}},write:function(e){return{r:e.r,g:e.g,b:e.b,a:e.a}}},RGB_OBJ:{read:function(e){return!!(d.isNumber(e.r)&&d.isNumber(e.g)&&d.isNumber(e.b))&&{space:"RGB",r:e.r,g:e.g,b:e.b}},write:function(e){return{r:e.r,g:e.g,b:e.b}}},HSVA_OBJ:{read:function(e){return!!(d.isNumber(e.h)&&d.isNumber(e.s)&&d.isNumber(e.v)&&d.isNumber(e.a))&&{space:"HSV",h:e.h,s:e.s,v:e.v,a:e.a}},write:function(e){return{h:e.h,s:e.s,v:e.v,a:e.a}}},HSV_OBJ:{read:function(e){return!!(d.isNumber(e.h)&&d.isNumber(e.s)&&d.isNumber(e.v))&&{space:"HSV",h:e.h,s:e.s,v:e.v}},write:function(e){return{h:e.h,s:e.s,v:e.v}}}}}],function(){p=!1;var n=1<arguments.length?d.toArray(arguments):arguments[0];return d.each(g,function(e){if(e.litmus(n))return d.each(e.conversions,function(e,t){if(f=e.read(n),!1===p&&!1!==f)return(p=f).conversionName=t,f.conversion=e,d.BREAK}),d.BREAK}),p}),a=t.color.math={hsv_to_rgb:function(e,t,n){var r=Math.floor(e/60)%6,e=e/60-Math.floor(e/60),i=n*(1-t),o=n*(1-e*t),e=n*(1-(1-e)*t),t=[[n,e,i],[o,n,i],[i,n,e],[i,o,n],[e,i,n],[n,i,o]][r];return{r:255*t[0],g:255*t[1],b:255*t[2]}},rgb_to_hsv:function(e,t,n){var r=Math.min(e,t,n),i=Math.max(e,t,n),r=i-r;return 0==i?{h:NaN,s:0,v:0}:(n=e==i?(t-n)/r:t==i?2+(n-e)/r:4+(e-t)/r,(n/=6)<0&&(n+=1),{h:360*n,s:r/i,v:i/255})},rgb_to_hex:function(e,t,n){e=this.hex_with_component(0,2,e),e=this.hex_with_component(e,1,t);return this.hex_with_component(e,0,n)},component_from_hex:function(e,t){return e>>8*t&255},hex_with_component:function(e,t,n){return n<<(u=8*t)|e&~(255<<u)}},l=t.color.toString,c=t.utils.common,m.COMPONENTS=["r","g","b","h","s","v","hex","a"],c.extend(m.prototype,{toString:function(){return l(this)},toOriginal:function(){return this.__state.conversion.write(this)}}),v(m.prototype,"r",2),v(m.prototype,"g",1),v(m.prototype,"b",0),b(m.prototype,"h"),b(m.prototype,"s"),b(m.prototype,"v"),Object.defineProperty(m.prototype,"a",{get:function(){return this.__state.a},set:function(e){this.__state.a=e}}),Object.defineProperty(m.prototype,"hex",{get:function(){return"HEX"!==!this.__state.space&&(this.__state.hex=a.rgb_to_hex(this.r,this.g,this.b)),this.__state.hex},set:function(e){this.__state.space="HEX",this.__state.hex=e}}),m)},{}],4:[function(I,e,P){var B,r,l,H,F,i,q,o,z,c,V,u,W,G,U,X,s,a,$,Y,t,K,Q,J,Z,ee,te,ne,re,ie,d,f,oe,p,g,m,se,n,ae,v,h,le,b,ce,ue,y,he,de,_,fe,x,pe,ge,me,ve,be,ye,_e,w,C,k,S,e=e.exports={};function xe(e,t){this.initialValue=e[t],this.domElement=document.createElement("div"),this.object=e,this.property=t,this.__onChange=void 0,this.__onFinishChange=void 0}function E(e){return"0"===e||l.isUndefined(e)||(e=e.match(F),l.isNull(e))?0:parseFloat(e[1])}function A(e,t,n){A.superclass.call(this,e,t);var r,i=this;this.__select=document.createElement("select"),o.isArray(n)&&(r={},o.each(n,function(e){r[e]=e}),n=r),o.each(n,function(e,t){var n=document.createElement("option");n.innerHTML=t,n.setAttribute("value",e),i.__select.appendChild(n)}),this.updateDisplay(),q.bind(this.__select,"change",function(){var e=this.options[this.selectedIndex].value;i.setValue(e)}),this.domElement.appendChild(this.__select)}function T(e,t,n){T.superclass.call(this,e,t),this.__min=(n=n||{}).min,this.__max=n.max,this.__step=n.step,z.isUndefined(this.__step)?0==this.initialValue?this.__impliedStep=1:this.__impliedStep=Math.pow(10,Math.floor(Math.log(this.initialValue)/Math.LN10))/10:this.__impliedStep=this.__step,this.__precision=-1<(e=(e=this.__impliedStep).toString()).indexOf(".")?e.length-e.indexOf(".")-1:0}function N(e,t,n){this.__truncationSuspended=!1,N.superclass.call(this,e,t,n);var r,i=this;function o(){var e=parseFloat(i.__input.value);V.isNaN(e)||i.setValue(e)}function s(e){var t=r-e.clientY;i.setValue(i.getValue()+t*i.__impliedStep),r=e.clientY}function a(){c.unbind(window,"mousemove",s),c.unbind(window,"mouseup",a)}this.__input=document.createElement("input"),this.__input.setAttribute("type","text"),c.bind(this.__input,"change",o),c.bind(this.__input,"blur",function(){o(),i.__onFinishChange&&i.__onFinishChange.call(i,i.getValue())}),c.bind(this.__input,"mousedown",function(e){c.bind(window,"mousemove",s),c.bind(window,"mouseup",a),r=e.clientY}),c.bind(this.__input,"keydown",function(e){13===e.keyCode&&(i.__truncationSuspended=!0,this.blur(),i.__truncationSuspended=!1)}),this.updateDisplay(),this.domElement.appendChild(this.__input)}function j(e,t,n,r,i){j.superclass.call(this,e,t,{min:n,max:r,step:i});var o=this;function s(e){e.preventDefault();var t,n,r=u.getOffset(o.__background),i=u.getWidth(o.__background);return o.setValue((e=e.clientX,t=r.left,r=r.left+i,i=o.__min,n=o.__max,i+(e-t)/(r-t)*(n-i))),!1}function a(){u.unbind(window,"mousemove",s),u.unbind(window,"mouseup",a),o.__onFinishChange&&o.__onFinishChange.call(o,o.getValue())}this.__background=document.createElement("div"),this.__foreground=document.createElement("div"),u.bind(this.__background,"mousedown",function(e){u.bind(window,"mousemove",s),u.bind(window,"mouseup",a),s(e)}),u.addClass(this.__background,"slider"),u.addClass(this.__foreground,"slider-fg"),this.updateDisplay(),this.__background.appendChild(this.__foreground),this.domElement.appendChild(this.__background)}function we(e,t,n){we.superclass.call(this,e,t);var r=this;this.__button=document.createElement("div"),this.__button.innerHTML=void 0===n?"Fire":n,G.bind(this.__button,"click",function(e){return e.preventDefault(),r.fire(),!1}),G.addClass(this.__button,"button"),this.domElement.appendChild(this.__button)}function L(e,t){L.superclass.call(this,e,t);var n=this;this.__prev=this.getValue(),this.__checkbox=document.createElement("input"),this.__checkbox.setAttribute("type","checkbox"),U.bind(this.__checkbox,"change",function(){n.setValue(!n.__prev)},!1),this.domElement.appendChild(this.__checkbox),this.updateDisplay()}function M(e,t,n,r){if(void 0===t[n])throw new Error("Object "+t+' has no property "'+n+'"');n=r.color?new ne(t,n):(t=[t,n].concat(r.factoryArgs),K.apply(e,t)),r.before instanceof Q&&(r.before=r.before.__li),ke(e,n),d.addClass(n.domElement,"c");var i,t=document.createElement("span"),o=(d.addClass(t,"property-name"),t.innerHTML=n.property,document.createElement("div")),t=(o.appendChild(t),o.appendChild(n.domElement),Ce(e,o,r.before)),s=(d.addClass(t,v.CLASS_CONTROLLER_ROW),d.addClass(t,typeof n.getValue()),e),a=t,l=n;return l.__li=a,l.__gui=s,f.extend(l,{options:function(e){return 1<arguments.length?(l.remove(),M(s,l.object,l.property,{before:l.__li.nextElementSibling,factoryArgs:[f.toArray(arguments)]})):f.isArray(e)||f.isObject(e)?(l.remove(),M(s,l.object,l.property,{before:l.__li.nextElementSibling,factoryArgs:[e]})):void 0},name:function(e){return l.__li.firstElementChild.firstElementChild.innerHTML=e,l},listen:function(){return l.__gui.listen(l),l},remove:function(){return l.__gui.remove(l),l}}),l instanceof te?(i=new ee(l.object,l.property,{min:l.__min,max:l.__max,step:l.__step}),f.each(["updateDisplay","onChange","onFinishChange"],function(e){var t=l[e],n=i[e];l[e]=i[e]=function(){var e=Array.prototype.slice.call(arguments);return t.apply(l,e),n.apply(i,e)}}),d.addClass(a,"has-slider"),l.domElement.insertBefore(i.domElement,l.domElement.firstElementChild)):l instanceof ee?(o=function(e){return f.isNumber(l.__min)&&f.isNumber(l.__max)?(l.remove(),M(s,l.object,l.property,{before:l.__li.nextElementSibling,factoryArgs:[l.__min,l.__max,l.__step]})):e},l.min=f.compose(o,l.min),l.max=f.compose(o,l.max)):l instanceof J?(d.bind(a,"click",function(){d.fakeEvent(l.__checkbox,"click")}),d.bind(l.__checkbox,"click",function(e){e.stopPropagation()})):l instanceof Z?(d.bind(a,"click",function(){d.fakeEvent(l.__button,"click")}),d.bind(a,"mouseover",function(){d.addClass(l.__button,"hover")}),d.bind(a,"mouseout",function(){d.removeClass(l.__button,"hover")})):l instanceof ne&&(d.addClass(a,"color"),l.updateDisplay=f.compose(function(e){return a.style.borderLeftColor=l.__color.toString(),e},l.updateDisplay),l.updateDisplay()),l.setValue=f.compose(function(e){return s.getRoot().__preset_select&&l.isModified()&&Te(s.getRoot(),!0),e},l.setValue),e.__controllers.push(n),n}function Ce(e,t,n){var r=document.createElement("li");return t&&r.appendChild(t),n?e.__ul.insertBefore(r,params.before):e.__ul.appendChild(r),e.onResize(),r}function ke(e,t){var n=e.getRoot(),r=n.__rememberedObjects.indexOf(t.object);if(-1!=r){var i=n.__rememberedObjectIndecesToControllers[r];if(void 0===i&&(n.__rememberedObjectIndecesToControllers[r]=i={}),i[t.property]=t,n.load&&n.load.remembered){var o,i=n.load.remembered;if(i[e.preset])o=i[e.preset];else{if(!i[g])return;o=i[g]}o[r]&&void 0!==o[r][t.property]&&(n=o[r][t.property],t.initialValue=n,t.setValue(n))}}}function O(e,t){return document.location.href+"."+t}function Se(e,t){e.domElement.style.width=t+"px",e.__save_row&&e.autoPlace&&(e.__save_row.style.width=t+"px"),e.__closeButton&&(e.__closeButton.style.width=t+"px")}function Ee(i,o){var s={};return f.each(i.__rememberedObjects,function(e,t){var n={},r=i.__rememberedObjectIndecesToControllers[t];f.each(r,function(e,t){n[t]=o?e.initialValue:e.getValue()}),s[t]=n}),s}function Ae(e,t,n){var r=document.createElement("option");r.innerHTML=t,r.value=t,e.__preset_select.appendChild(r),n&&(e.__preset_select.selectedIndex=e.__preset_select.length-1)}function Te(e,t){e=e.__preset_select[e.__preset_select.selectedIndex];e.innerHTML=t?e.value+"*":e.value}function Ne(){this.backgroundElement=document.createElement("div"),le.extend(this.backgroundElement.style,{backgroundColor:"rgba(0,0,0,0.8)",top:0,left:0,display:"none",zIndex:"1000",opacity:0,WebkitTransition:"opacity 0.2s linear"}),h.makeFullscreen(this.backgroundElement),this.backgroundElement.style.position="fixed",this.domElement=document.createElement("div"),le.extend(this.domElement.style,{position:"fixed",display:"none",zIndex:"1001",opacity:0,WebkitTransition:"-webkit-transform 0.2s ease-out, opacity 0.2s linear"}),document.body.appendChild(this.backgroundElement),document.body.appendChild(this.domElement);var e=this;h.bind(this.backgroundElement,"click",function(){e.hide()})}function je(e,t){je.superclass.call(this,e,t),this.__color=new ce(this.getValue()),this.__temp=new ce(0);var i=this,e=(this.domElement=document.createElement("div"),b.makeSelectable(this.domElement,!1),this.__selector=document.createElement("div"),this.__selector.className="selector",this.__saturation_field=document.createElement("div"),this.__saturation_field.className="saturation-field",this.__field_knob=document.createElement("div"),this.__field_knob.className="field-knob",this.__field_knob_border="2px solid ",this.__hue_knob=document.createElement("div"),this.__hue_knob.className="hue-knob",this.__hue_field=document.createElement("div"),this.__hue_field.className="hue-field",this.__input=document.createElement("input"),this.__input.type="text",this.__input_textShadow="0 1px 1px ",b.bind(this.__input,"keydown",function(e){13===e.keyCode&&o.call(this)}),b.bind(this.__input,"blur",o),b.bind(this.__selector,"mousedown",function(e){b.addClass(this,"drag").bind(window,"mouseup",function(e){b.removeClass(i.__selector,"drag")})}),document.createElement("div"));function n(e){a(e),b.bind(window,"mousemove",a),b.bind(window,"mouseup",r)}function r(){b.unbind(window,"mousemove",a),b.unbind(window,"mouseup",r)}function o(){var e=ue(this.value);!1!==e?(i.__color.__state=e,i.setValue(i.__color.toOriginal())):this.value=i.__color.toString()}function s(){b.unbind(window,"mousemove",l),b.unbind(window,"mouseup",s)}function a(e){e.preventDefault();var t=b.getWidth(i.__saturation_field),n=b.getOffset(i.__saturation_field),r=(e.clientX-n.left+document.body.scrollLeft)/t,e=1-(e.clientY-n.top+document.body.scrollTop)/t;return 1<e?e=1:e<0&&(e=0),1<r?r=1:r<0&&(r=0),i.__color.v=e,i.__color.s=r,i.setValue(i.__color.toOriginal()),!1}function l(e){e.preventDefault();var t=b.getHeight(i.__hue_field),n=b.getOffset(i.__hue_field),e=1-(e.clientY-n.top+document.body.scrollTop)/t;return 1<e?e=1:e<0&&(e=0),i.__color.h=360*e,i.setValue(i.__color.toOriginal()),!1}y.extend(this.__selector.style,{width:"122px",height:"102px",padding:"3px",backgroundColor:"#222",boxShadow:"0px 1px 3px rgba(0,0,0,0.3)"}),y.extend(this.__field_knob.style,{position:"absolute",width:"12px",height:"12px",border:this.__field_knob_border+(this.__color.v<.5?"#fff":"#000"),boxShadow:"0px 1px 3px rgba(0,0,0,0.5)",borderRadius:"12px",zIndex:1}),y.extend(this.__hue_knob.style,{position:"absolute",width:"15px",height:"2px",borderRight:"4px solid #fff",zIndex:1}),y.extend(this.__saturation_field.style,{width:"100px",height:"100px",border:"1px solid #555",marginRight:"3px",display:"inline-block",cursor:"pointer"}),y.extend(e.style,{width:"100%",height:"100%",background:"none"}),Le(e,"top","rgba(0,0,0,0)","#000"),y.extend(this.__hue_field.style,{width:"15px",height:"100px",display:"inline-block",border:"1px solid #555",cursor:"ns-resize"}),(t=this.__hue_field).style.background="",t.style.cssText+="background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);",t.style.cssText+="background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",t.style.cssText+="background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",t.style.cssText+="background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",t.style.cssText+="background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",y.extend(this.__input.style,{outline:"none",textAlign:"center",color:"#fff",border:0,fontWeight:"bold",textShadow:this.__input_textShadow+"rgba(0,0,0,0.7)"}),b.bind(this.__saturation_field,"mousedown",n),b.bind(this.__field_knob,"mousedown",n),b.bind(this.__hue_field,"mousedown",function(e){l(e),b.bind(window,"mousemove",l),b.bind(window,"mouseup",s)}),this.__saturation_field.appendChild(e),this.__selector.appendChild(this.__field_knob),this.__selector.appendChild(this.__saturation_field),this.__selector.appendChild(this.__hue_field),this.__hue_field.appendChild(this.__hue_knob),this.domElement.appendChild(this.__input),this.domElement.appendChild(this.__selector),this.updateDisplay()}function Le(t,n,r,i){t.style.background="",y.each(he,function(e){t.style.cssText+="background: "+e+"linear-gradient("+n+", "+r+" 0%, "+i+" 100%); "})}function R(){if(this.__state=de.apply(this,arguments),!1===this.__state)throw"Failed to interpret color arguments";this.__state.a=this.__state.a||1}function Me(e,t,n){Object.defineProperty(e,t,{get:function(){return"RGB"!==this.__state.space&&Re(this,t,n),this.__state[t]},set:function(e){"RGB"!==this.__state.space&&(Re(this,t,n),this.__state.space="RGB"),this.__state[t]=e}})}function Oe(e,t){Object.defineProperty(e,t,{get:function(){return"HSV"!==this.__state.space&&De(this),this.__state[t]},set:function(e){"HSV"!==this.__state.space&&(De(this),this.__state.space="HSV"),this.__state[t]=e}})}function Re(e,t,n){if("HEX"===e.__state.space)e.__state[t]=_.component_from_hex(e.__state.hex,n);else{if("HSV"!==e.__state.space)throw"Corrupted color state";x.extend(e.__state,_.hsv_to_rgb(e.__state.h,e.__state.s,e.__state.v))}}function De(e){var t=_.rgb_to_hsv(e.r,e.g,e.b);x.extend(e.__state,{s:t.s,v:t.v}),x.isNaN(t.h)?x.isUndefined(e.__state.h)&&(e.__state.h=0):e.__state.h=t.h}function D(e,t){D.superclass.call(this,e,t);var n=this;function r(){n.setValue(n.__input.value)}this.__input=document.createElement("input"),this.__input.setAttribute("type","text"),k.bind(this.__input,"keyup",r),k.bind(this.__input,"change",r),k.bind(this.__input,"blur",function(){n.__onFinishChange&&n.__onFinishChange.call(n,n.getValue())}),k.bind(this.__input,"keydown",function(e){13===e.keyCode&&this.blur()}),this.updateDisplay(),this.domElement.appendChild(this.__input)}e.gui=e.gui||{},e.utils=e.utils||{},e.controllers=e.controllers||{},e.dom=e.dom||{},e.color=e.color||{},e.utils.css={load:function(e,t){var n=(t=t||document).createElement("link");n.type="text/css",n.rel="stylesheet",n.href=e,t.getElementsByTagName("head")[0].appendChild(n)},inject:function(e,t){t=t||document;var n=document.createElement("style");n.type="text/css",n.innerHTML=e,t.getElementsByTagName("head")[0].appendChild(n)}},e.utils.common=(B=Array.prototype.forEach,r=Array.prototype.slice,{BREAK:{},extend:function(n){return this.each(r.call(arguments,1),function(e){for(var t in e)this.isUndefined(e[t])||(n[t]=e[t])},this),n},defaults:function(n){return this.each(r.call(arguments,1),function(e){for(var t in e)this.isUndefined(n[t])&&(n[t]=e[t])},this),n},compose:function(){var n=r.call(arguments);return function(){for(var e=r.call(arguments),t=n.length-1;0<=t;t--)e=[n[t].apply(this,e)];return e[0]}},each:function(e,t,n){if(B&&e.forEach===B)e.forEach(t,n);else if(e.length===e.length+0){for(var r=0,i=e.length;r<i;r++)if(r in e&&t.call(n,e[r],r)===this.BREAK)return}else for(var r in e)if(t.call(n,e[r],r)===this.BREAK)return},defer:function(e){setTimeout(e,0)},toArray:function(e){return e.toArray?e.toArray():r.call(e)},isUndefined:function(e){return void 0===e},isNull:function(e){return null===e},isNaN:function(e){return e!=e},isArray:Array.isArray||function(e){return e.constructor===Array},isObject:function(e){return e===Object(e)},isNumber:function(e){return e===e+0},isString:function(e){return e===e+""},isBoolean:function(e){return!1===e||!0===e},isFunction:function(e){return"[object Function]"===Object.prototype.toString.call(e)}}),e.controllers.Controller=(e.utils.common.extend(xe.prototype,{onChange:function(e){return this.__onChange=e,this},onFinishChange:function(e){return this.__onFinishChange=e,this},setValue:function(e){return this.object[this.property]=e,this.__onChange&&this.__onChange.call(this,e),this.updateDisplay(),this},getValue:function(){return this.object[this.property]},updateDisplay:function(){return this},isModified:function(){return this.initialValue!==this.getValue()}}),xe),e.dom.dom=(l=e.utils.common,H={},l.each({HTMLEvents:["change"],MouseEvents:["click","mousemove","mousedown","mouseup","mouseover"],KeyboardEvents:["keydown"]},function(e,t){l.each(e,function(e){H[e]=t})}),F=/(\d+(\.\d+)?)px/,i={makeSelectable:function(e,t){void 0!==e&&void 0!==e.style&&(e.onselectstart=t?function(){return!1}:function(){},e.style.MozUserSelect=t?"auto":"none",e.style.KhtmlUserSelect=t?"auto":"none",e.unselectable=t?"on":"off")},makeFullscreen:function(e,t,n){l.isUndefined(t)&&(t=!0),l.isUndefined(n)&&(n=!0),e.style.position="absolute",t&&(e.style.left=0,e.style.right=0),n&&(e.style.top=0,e.style.bottom=0)},fakeEvent:function(e,t,n,r){n=n||{};var i=H[t];if(!i)throw new Error("Event type "+t+" not supported.");var o=document.createEvent(i);switch(i){case"MouseEvents":var s=n.x||n.clientX||0,a=n.y||n.clientY||0;o.initMouseEvent(t,n.bubbles||!1,n.cancelable||!0,window,n.clickCount||1,0,0,s,a,!1,!1,!1,!1,0,null);break;case"KeyboardEvents":s=o.initKeyboardEvent||o.initKeyEvent;l.defaults(n,{cancelable:!0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:void 0,charCode:void 0}),s(t,n.bubbles||!1,n.cancelable,window,n.ctrlKey,n.altKey,n.shiftKey,n.metaKey,n.keyCode,n.charCode);break;default:o.initEvent(t,n.bubbles||!1,n.cancelable||!0)}l.defaults(o,r),e.dispatchEvent(o)},bind:function(e,t,n,r){return r=r||!1,e.addEventListener?e.addEventListener(t,n,r):e.attachEvent&&e.attachEvent("on"+t,n),i},unbind:function(e,t,n,r){return r=r||!1,e.removeEventListener?e.removeEventListener(t,n,r):e.detachEvent&&e.detachEvent("on"+t,n),i},addClass:function(e,t){var n;return void 0===e.className?e.className=t:e.className!==t&&-1==(n=e.className.split(/ +/)).indexOf(t)&&(n.push(t),e.className=n.join(" ").replace(/^\s+/,"").replace(/\s+$/,"")),i},removeClass:function(e,t){var n;return t?void 0!==e.className&&(e.className===t?e.removeAttribute("class"):-1!=(t=(n=e.className.split(/ +/)).indexOf(t))&&(n.splice(t,1),e.className=n.join(" "))):e.className=void 0,i},hasClass:function(e,t){return new RegExp("(?:^|\\s+)"+t+"(?:\\s+|$)").test(e.className)||!1},getWidth:function(e){e=getComputedStyle(e);return E(e["border-left-width"])+E(e["border-right-width"])+E(e["padding-left"])+E(e["padding-right"])+E(e.width)},getHeight:function(e){e=getComputedStyle(e);return E(e["border-top-width"])+E(e["border-bottom-width"])+E(e["padding-top"])+E(e["padding-bottom"])+E(e.height)},getOffset:function(e){var t={left:0,top:0};if(e.offsetParent)for(;t.left+=e.offsetLeft,t.top+=e.offsetTop,e=e.offsetParent;);return t},isActive:function(e){return e===document.activeElement&&(e.type||e.href)}}),e.controllers.OptionController=(t=e.controllers.Controller,q=e.dom.dom,o=e.utils.common,A.superclass=t,o.extend(A.prototype,t.prototype,{setValue:function(e){e=A.superclass.prototype.setValue.call(this,e);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),e},updateDisplay:function(){return this.__select.value=this.getValue(),A.superclass.prototype.updateDisplay.call(this)}}),A),e.controllers.NumberController=(t=e.controllers.Controller,z=e.utils.common,T.superclass=t,z.extend(T.prototype,t.prototype,{setValue:function(e){return void 0!==this.__min&&e<this.__min?e=this.__min:void 0!==this.__max&&e>this.__max&&(e=this.__max),void 0!==this.__step&&e%this.__step!=0&&(e=Math.round(e/this.__step)*this.__step),T.superclass.prototype.setValue.call(this,e)},min:function(e){return this.__min=e,this},max:function(e){return this.__max=e,this},step:function(e){return this.__step=e,this}}),T),e.controllers.NumberControllerBox=(t=e.controllers.NumberController,c=e.dom.dom,V=e.utils.common,N.superclass=t,V.extend(N.prototype,t.prototype,{updateDisplay:function(){return this.__input.value=this.__truncationSuspended?this.getValue():function(e,t){t=Math.pow(10,t);return Math.round(e*t)/t}(this.getValue(),this.__precision),N.superclass.prototype.updateDisplay.call(this)}}),N),e.controllers.NumberControllerSlider=(t=e.controllers.NumberController,u=e.dom.dom,W=e.utils.css,C=e.utils.common,j.superclass=t,j.useDefaultStyles=function(){W.inject(".slider {\n  box-shadow: inset 0 2px 4px rgba(0,0,0,0.15);\n  height: 1em;\n  border-radius: 1em;\n  background-color: #eee;\n  padding: 0 0.5em;\n  overflow: hidden;\n}\n\n.slider-fg {\n  padding: 1px 0 2px 0;\n  background-color: #aaa;\n  height: 1em;\n  margin-left: -0.5em;\n  padding-right: 0.5em;\n  border-radius: 1em 0 0 1em;\n}\n\n.slider-fg:after {\n  display: inline-block;\n  border-radius: 1em;\n  background-color: #fff;\n  border:  1px solid #aaa;\n  content: '';\n  float: right;\n  margin-right: -1em;\n  margin-top: -1px;\n  height: 0.9em;\n  width: 0.9em;\n}")},C.extend(j.prototype,t.prototype,{updateDisplay:function(){var e=(this.getValue()-this.__min)/(this.__max-this.__min);return this.__foreground.style.width=100*e+"%",j.superclass.prototype.updateDisplay.call(this)}}),j),e.controllers.FunctionController=(C=e.controllers.Controller,G=e.dom.dom,t=e.utils.common,we.superclass=C,t.extend(we.prototype,C.prototype,{fire:function(){this.__onChange&&this.__onChange.call(this),this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.getValue().call(this.object)}}),we),e.controllers.BooleanController=(t=e.controllers.Controller,U=e.dom.dom,C=e.utils.common,L.superclass=t,C.extend(L.prototype,t.prototype,{setValue:function(e){e=L.superclass.prototype.setValue.call(this,e);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.__prev=this.getValue(),e},updateDisplay:function(){return!0===this.getValue()?(this.__checkbox.setAttribute("checked","checked"),this.__checkbox.checked=!0):this.__checkbox.checked=!1,L.superclass.prototype.updateDisplay.call(this)}}),L),e.color.toString=(X=e.utils.common,function(e){if(1==e.a||X.isUndefined(e.a)){for(var t=e.hex.toString(16);t.length<6;)t="0"+t;return"#"+t}return"rgba("+Math.round(e.r)+","+Math.round(e.g)+","+Math.round(e.b)+","+e.a+")"}),e.color.interpret=(C=e.color.toString,s=e.utils.common,Y=[{litmus:s.isString,conversions:{THREE_CHAR_HEX:{read:function(e){e=e.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);return null!==e&&{space:"HEX",hex:parseInt("0x"+e[1].toString()+e[1].toString()+e[2].toString()+e[2].toString()+e[3].toString()+e[3].toString())}},write:C},SIX_CHAR_HEX:{read:function(e){e=e.match(/^#([A-F0-9]{6})$/i);return null!==e&&{space:"HEX",hex:parseInt("0x"+e[1].toString())}},write:C},CSS_RGB:{read:function(e){e=e.match(/^rgb\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return null!==e&&{space:"RGB",r:parseFloat(e[1]),g:parseFloat(e[2]),b:parseFloat(e[3])}},write:C},CSS_RGBA:{read:function(e){e=e.match(/^rgba\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\,\s*(.+)\s*\)/);return null!==e&&{space:"RGB",r:parseFloat(e[1]),g:parseFloat(e[2]),b:parseFloat(e[3]),a:parseFloat(e[4])}},write:C}}},{litmus:s.isNumber,conversions:{HEX:{read:function(e){return{space:"HEX",hex:e,conversionName:"HEX"}},write:function(e){return e.hex}}}},{litmus:s.isArray,conversions:{RGB_ARRAY:{read:function(e){return 3==e.length&&{space:"RGB",r:e[0],g:e[1],b:e[2]}},write:function(e){return[e.r,e.g,e.b]}},RGBA_ARRAY:{read:function(e){return 4==e.length&&{space:"RGB",r:e[0],g:e[1],b:e[2],a:e[3]}},write:function(e){return[e.r,e.g,e.b,e.a]}}}},{litmus:s.isObject,conversions:{RGBA_OBJ:{read:function(e){return!!(s.isNumber(e.r)&&s.isNumber(e.g)&&s.isNumber(e.b)&&s.isNumber(e.a))&&{space:"RGB",r:e.r,g:e.g,b:e.b,a:e.a}},write:function(e){return{r:e.r,g:e.g,b:e.b,a:e.a}}},RGB_OBJ:{read:function(e){return!!(s.isNumber(e.r)&&s.isNumber(e.g)&&s.isNumber(e.b))&&{space:"RGB",r:e.r,g:e.g,b:e.b}},write:function(e){return{r:e.r,g:e.g,b:e.b}}},HSVA_OBJ:{read:function(e){return!!(s.isNumber(e.h)&&s.isNumber(e.s)&&s.isNumber(e.v)&&s.isNumber(e.a))&&{space:"HSV",h:e.h,s:e.s,v:e.v,a:e.a}},write:function(e){return{h:e.h,s:e.s,v:e.v,a:e.a}}},HSV_OBJ:{read:function(e){return!!(s.isNumber(e.h)&&s.isNumber(e.s)&&s.isNumber(e.v))&&{space:"HSV",h:e.h,s:e.s,v:e.v}},write:function(e){return{h:e.h,s:e.s,v:e.v}}}}}],function(){$=!1;var n=1<arguments.length?s.toArray(arguments):arguments[0];return s.each(Y,function(e){if(e.litmus(n))return s.each(e.conversions,function(e,t){if(a=e.read(n),!1===$&&!1!==a)return($=a).conversionName=t,a.conversion=e,s.BREAK}),s.BREAK}),$}),e.GUI=e.gui.GUI=(t=e.utils.css,K=e.controllers.factory=(ge=e.controllers.OptionController,me=e.controllers.NumberControllerBox,ve=e.controllers.NumberControllerSlider,be=e.controllers.StringController=(C=e.controllers.Controller,k=e.dom.dom,S=e.utils.common,D.superclass=C,S.extend(D.prototype,C.prototype,{updateDisplay:function(){return k.isActive(this.__input)||(this.__input.value=this.getValue()),D.superclass.prototype.updateDisplay.call(this)}}),D),ye=e.controllers.FunctionController,_e=e.controllers.BooleanController,w=e.utils.common,function(e,t){var n=e[t];return w.isArray(arguments[2])||w.isObject(arguments[2])?new ge(e,t,arguments[2]):w.isNumber(n)?w.isNumber(arguments[2])&&w.isNumber(arguments[3])?new ve(e,t,arguments[2],arguments[3]):new me(e,t,{min:arguments[2],max:arguments[3]}):w.isString(n)?new be(e,t):w.isFunction(n)?new ye(e,t,""):w.isBoolean(n)?new _e(e,t):void 0}),Q=e.controllers.Controller,J=e.controllers.BooleanController,Z=e.controllers.FunctionController,ee=e.controllers.NumberControllerBox,te=e.controllers.NumberControllerSlider,e.controllers.OptionController,ne=e.controllers.ColorController=(S=e.controllers.Controller,b=e.dom.dom,ce=e.color.Color=(de=e.color.interpret,_=e.color.math={hsv_to_rgb:function(e,t,n){var r=Math.floor(e/60)%6,e=e/60-Math.floor(e/60),i=n*(1-t),o=n*(1-e*t),e=n*(1-(1-e)*t),t=[[n,e,i],[o,n,i],[i,n,e],[i,o,n],[e,i,n],[n,i,o]][r];return{r:255*t[0],g:255*t[1],b:255*t[2]}},rgb_to_hsv:function(e,t,n){var r=Math.min(e,t,n),i=Math.max(e,t,n),r=i-r;return 0==i?{h:NaN,s:0,v:0}:(n=e==i?(t-n)/r:t==i?2+(n-e)/r:4+(e-t)/r,(n/=6)<0&&(n+=1),{h:360*n,s:r/i,v:i/255})},rgb_to_hex:function(e,t,n){e=this.hex_with_component(0,2,e),e=this.hex_with_component(e,1,t);return this.hex_with_component(e,0,n)},component_from_hex:function(e,t){return e>>8*t&255},hex_with_component:function(e,t,n){return n<<(pe=8*t)|e&~(255<<pe)}},fe=e.color.toString,x=e.utils.common,R.COMPONENTS=["r","g","b","h","s","v","hex","a"],x.extend(R.prototype,{toString:function(){return fe(this)},toOriginal:function(){return this.__state.conversion.write(this)}}),Me(R.prototype,"r",2),Me(R.prototype,"g",1),Me(R.prototype,"b",0),Oe(R.prototype,"h"),Oe(R.prototype,"s"),Oe(R.prototype,"v"),Object.defineProperty(R.prototype,"a",{get:function(){return this.__state.a},set:function(e){this.__state.a=e}}),Object.defineProperty(R.prototype,"hex",{get:function(){return"HEX"!==!this.__state.space&&(this.__state.hex=_.rgb_to_hex(this.r,this.g,this.b)),this.__state.hex},set:function(e){this.__state.space="HEX",this.__state.hex=e}}),R),ue=e.color.interpret,y=e.utils.common,je.superclass=S,y.extend(je.prototype,S.prototype,{updateDisplay:function(){var t,n=ue(this.getValue()),e=(!1!==n&&(t=!1,y.each(ce.COMPONENTS,function(e){if(!y.isUndefined(n[e])&&!y.isUndefined(this.__color.__state[e])&&n[e]!==this.__color.__state[e])return t=!0,{}},this),t)&&y.extend(this.__color.__state,n),y.extend(this.__temp.__state,this.__color.__state),this.__temp.a=1,this.__color.v<.5||.5<this.__color.s?255:0),r=255-e;y.extend(this.__field_knob.style,{marginLeft:100*this.__color.s-7+"px",marginTop:100*(1-this.__color.v)-7+"px",backgroundColor:this.__temp.toString(),border:this.__field_knob_border+"rgb("+e+","+e+","+e+")"}),this.__hue_knob.style.marginTop=100*(1-this.__color.h/360)+"px",this.__temp.s=1,this.__temp.v=1,Le(this.__saturation_field,"left","#fff",this.__temp.toString()),y.extend(this.__input.style,{backgroundColor:this.__input.value=this.__color.toString(),color:"rgb("+e+","+e+","+e+")",textShadow:this.__input_textShadow+"rgba("+r+","+r+","+r+",.7)"})}}),he=["-moz-","-o-","-webkit-","-ms-",""],je),re=e.utils.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e,t){window.setTimeout(e,1e3/60)},ie=e.dom.CenteredDiv=(h=e.dom.dom,le=e.utils.common,Ne.prototype.show=function(){var e=this;this.backgroundElement.style.display="block",this.domElement.style.display="block",this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)",this.layout(),le.defer(function(){e.backgroundElement.style.opacity=1,e.domElement.style.opacity=1,e.domElement.style.webkitTransform="scale(1)"})},Ne.prototype.hide=function(){function e(){t.domElement.style.display="none",t.backgroundElement.style.display="none",h.unbind(t.domElement,"webkitTransitionEnd",e),h.unbind(t.domElement,"transitionend",e),h.unbind(t.domElement,"oTransitionEnd",e)}var t=this;h.bind(this.domElement,"webkitTransitionEnd",e),h.bind(this.domElement,"transitionend",e),h.bind(this.domElement,"oTransitionEnd",e),this.backgroundElement.style.opacity=0,this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)"},Ne.prototype.layout=function(){this.domElement.style.left=window.innerWidth/2-h.getWidth(this.domElement)/2+"px",this.domElement.style.top=window.innerHeight/2-h.getHeight(this.domElement)/2+"px"},Ne),d=e.dom.dom,f=e.utils.common,t.inject(".dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity 0.1s linear;-o-transition:opacity 0.1s linear;-moz-transition:opacity 0.1s linear;transition:opacity 0.1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1 !important}.dg.main:hover .close-button,.dg.main .close-button.drag{opacity:1}.dg.main .close-button{-webkit-transition:opacity 0.1s linear;-o-transition:opacity 0.1s linear;-moz-transition:opacity 0.1s linear;transition:opacity 0.1s linear;border:0;position:absolute;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-x:hidden}.dg.a.has-save ul{margin-top:27px}.dg.a.has-save ul.closed{margin-top:0}.dg.a .save-row{position:fixed;top:0;z-index:1002}.dg li{-webkit-transition:height 0.1s ease-out;-o-transition:height 0.1s ease-out;-moz-transition:height 0.1s ease-out;transition:height 0.1s ease-out}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;overflow:hidden;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid rgba(0,0,0,0)}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li > *{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .c{float:left;width:60%}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:9px}.dg .c select{margin-top:5px}.dg .cr.function,.dg .cr.function .property-name,.dg .cr.function *,.dg .cr.boolean,.dg .cr.boolean *{cursor:pointer}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0px 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco, monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px 'Lucida Grande', sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px 4px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2fa1d6}.dg .cr.number input[type=text]{color:#2fa1d6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.function:hover,.dg .cr.boolean:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2fa1d6}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}\n"),g="Default",m=function(){try{return"localStorage"in window&&null!==window.localStorage}catch(e){return!1}}(),n=!(se=!0),ae=[],(v=function(r){var t,e,n,i,o=this,s=(this.domElement=document.createElement("div"),this.__ul=document.createElement("ul"),this.domElement.appendChild(this.__ul),d.addClass(this.domElement,"dg"),this.__folders={},this.__controllers=[],this.__rememberedObjects=[],this.__rememberedObjectIndecesToControllers=[],this.__listening=[],r=r||{},r=f.defaults(r,{autoPlace:!0,width:v.DEFAULT_WIDTH}),r=f.defaults(r,{resizable:r.autoPlace,hideable:r.autoPlace}),f.isUndefined(r.load)?r.load={preset:g}:r.preset&&(r.load.preset=r.preset),f.isUndefined(r.parent)&&r.hideable&&ae.push(this),r.resizable=f.isUndefined(r.parent)&&r.resizable,r.autoPlace&&f.isUndefined(r.scrollable)&&(r.scrollable=!0),m&&"true"===localStorage.getItem(O(0,"isLocal")));function a(e){return e.preventDefault(),i=e.clientX,d.addClass(n.__closeButton,v.CLASS_DRAG),d.bind(window,"mousemove",l),d.bind(window,"mouseup",c),!1}function l(e){return e.preventDefault(),n.width+=i-e.clientX,n.onResize(),i=e.clientX,!1}function c(){d.removeClass(n.__closeButton,v.CLASS_DRAG),d.unbind(window,"mousemove",l),d.unbind(window,"mouseup",c)}function u(){localStorage.setItem(O(0,"gui"),JSON.stringify(o.getSaveObject()))}Object.defineProperties(this,{parent:{get:function(){return r.parent}},scrollable:{get:function(){return r.scrollable}},autoPlace:{get:function(){return r.autoPlace}},preset:{get:function(){return(o.parent?o.getRoot():r.load).preset},set:function(e){o.parent?o.getRoot().preset=e:r.load.preset=e;for(var t=this,n=0;n<t.__preset_select.length;n++)t.__preset_select[n].value==t.preset&&(t.__preset_select.selectedIndex=n);o.revert()}},width:{get:function(){return r.width},set:function(e){r.width=e,Se(o,e)}},name:{get:function(){return r.name},set:function(e){r.name=e,t&&(t.innerHTML=r.name)}},closed:{get:function(){return r.closed},set:function(e){r.closed=e,r.closed?d.addClass(o.__ul,v.CLASS_CLOSED):d.removeClass(o.__ul,v.CLASS_CLOSED),this.onResize(),o.__closeButton&&(o.__closeButton.innerHTML=e?v.TEXT_OPEN:v.TEXT_CLOSED)}},load:{get:function(){return r.load}},useLocalStorage:{get:function(){return s},set:function(e){m&&((s=e)?d.bind(window,"unload",u):d.unbind(window,"unload",u),localStorage.setItem(O(0,"isLocal"),e))}}}),f.isUndefined(r.parent)?(r.closed=!1,d.addClass(this.domElement,v.CLASS_MAIN),d.makeSelectable(this.domElement,!1),m&&s&&(o.useLocalStorage=!0,e=localStorage.getItem(O(0,"gui")))&&(r.load=JSON.parse(e)),this.__closeButton=document.createElement("div"),this.__closeButton.innerHTML=v.TEXT_CLOSED,d.addClass(this.__closeButton,v.CLASS_CLOSE_BUTTON),this.domElement.appendChild(this.__closeButton),d.bind(this.__closeButton,"click",function(){o.closed=!o.closed})):(void 0===r.closed&&(r.closed=!0),t=document.createTextNode(r.name),d.addClass(t,"controller-name"),e=Ce(o,t),d.addClass(this.__ul,v.CLASS_CLOSED),d.addClass(e,"title"),d.bind(e,"click",function(e){return e.preventDefault(),o.closed=!o.closed,!1}),r.closed||(this.closed=!1)),r.autoPlace&&(f.isUndefined(r.parent)&&(se&&(p=document.createElement("div"),d.addClass(p,"dg"),d.addClass(p,v.CLASS_AUTO_PLACE_CONTAINER),document.body.appendChild(p),se=!1),p.appendChild(this.domElement),d.addClass(this.domElement,v.CLASS_AUTO_PLACE)),this.parent||Se(o,r.width)),d.bind(window,"resize",function(){o.onResize()}),d.bind(this.__ul,"webkitTransitionEnd",function(){o.onResize()}),d.bind(this.__ul,"transitionend",function(){o.onResize()}),d.bind(this.__ul,"oTransitionEnd",function(){o.onResize()}),this.onResize(),r.resizable&&((n=this).__resize_handle=document.createElement("div"),f.extend(n.__resize_handle.style,{width:"6px",marginLeft:"-3px",height:"200px",cursor:"ew-resize",position:"absolute"}),d.bind(n.__resize_handle,"mousedown",a),d.bind(n.__closeButton,"mousedown",a),n.domElement.insertBefore(n.__resize_handle,n.domElement.firstElementChild));var h;o.getRoot();r.parent||((h=o.getRoot()).width+=1,f.defer(function(){--h.width}))}).toggleHide=function(){n=!n,f.each(ae,function(e){e.domElement.style.zIndex=n?-999:999,e.domElement.style.opacity=n?0:1})},v.CLASS_AUTO_PLACE="a",v.CLASS_AUTO_PLACE_CONTAINER="ac",v.CLASS_MAIN="main",v.CLASS_CONTROLLER_ROW="cr",v.CLASS_TOO_TALL="taller-than-window",v.CLASS_CLOSED="closed",v.CLASS_CLOSE_BUTTON="close-button",v.CLASS_DRAG="drag",v.DEFAULT_WIDTH=245,v.TEXT_CLOSED="Close Controls",v.TEXT_OPEN="Open Controls",d.bind(window,"keydown",function(e){"text"===document.activeElement.type||72!==e.which&&72!=e.keyCode||v.toggleHide()},!1),f.extend(v.prototype,{add:function(e,t){return M(this,e,t,{factoryArgs:Array.prototype.slice.call(arguments,2)})},addColor:function(e,t){return M(this,e,t,{color:!0})},remove:function(e){this.__ul.removeChild(e.__li),this.__controllers.slice(this.__controllers.indexOf(e),1);var t=this;f.defer(function(){t.onResize()})},destroy:function(){this.autoPlace&&p.removeChild(this.domElement)},addFolder:function(e){if(void 0!==this.__folders[e])throw new Error('You already have a folder in this GUI by the name "'+e+'"');var t={name:e,parent:this},t=(t.autoPlace=this.autoPlace,this.load&&this.load.folders&&this.load.folders[e]&&(t.closed=this.load.folders[e].closed,t.load=this.load.folders[e]),new v(t)),e=(this.__folders[e]=t,Ce(this,t.domElement));return d.addClass(e,"folder"),t},open:function(){this.closed=!1},close:function(){this.closed=!0},onResize:function(){var e,t,n=this.getRoot();n.scrollable&&(e=d.getOffset(n.__ul).top,t=0,f.each(n.__ul.childNodes,function(e){n.autoPlace&&e===n.__save_row||(t+=d.getHeight(e))}),window.innerHeight-e-20<t?(d.addClass(n.domElement,v.CLASS_TOO_TALL),n.__ul.style.height=window.innerHeight-e-20+"px"):(d.removeClass(n.domElement,v.CLASS_TOO_TALL),n.__ul.style.height="auto")),n.__resize_handle&&f.defer(function(){n.__resize_handle.style.height=n.__ul.offsetHeight+"px"}),n.__closeButton&&(n.__closeButton.style.width=n.width+"px")},remember:function(){if(f.isUndefined(oe)&&((oe=new ie).domElement.innerHTML='<div id="dg-save" class="dg dialogue">\n\n  Here\'s the new load parameter for your <code>GUI</code>\'s constructor:\n\n  <textarea id="dg-new-constructor"></textarea>\n\n  <div id="dg-save-locally">\n\n    <input id="dg-local-storage" type="checkbox"/> Automatically save\n    values to <code>localStorage</code> on exit.\n\n    <div id="dg-local-explain">The values saved to <code>localStorage</code> will\n      override those passed to <code>dat.GUI</code>\'s constructor. This makes it\n      easier to work incrementally, but <code>localStorage</code> is fragile,\n      and your friends may not see the same values you do.\n      \n    </div>\n    \n  </div>\n\n</div>'),this.parent)throw new Error("You can only call remember on a top level GUI.");var h=this;f.each(Array.prototype.slice.call(arguments),function(e){function t(){c.style.display=n.useLocalStorage?"block":"none"}var n,r,i,o,s,a,l,c,u;0==h.__rememberedObjects.length&&(r=(n=h).__save_row=document.createElement("li"),d.addClass(n.domElement,"has-save"),n.__ul.insertBefore(r,n.__ul.firstChild),d.addClass(r,"save-row"),(i=document.createElement("span")).innerHTML="&nbsp;",d.addClass(i,"button gears"),(o=document.createElement("span")).innerHTML="Save",d.addClass(o,"button"),d.addClass(o,"save"),(s=document.createElement("span")).innerHTML="New",d.addClass(s,"button"),d.addClass(s,"save-as"),(a=document.createElement("span")).innerHTML="Revert",d.addClass(a,"button"),d.addClass(a,"revert"),l=n.__preset_select=document.createElement("select"),n.load&&n.load.remembered?f.each(n.load.remembered,function(e,t){Ae(n,t,t==n.preset)}):Ae(n,g,!1),d.bind(l,"change",function(){for(var e=0;e<n.__preset_select.length;e++)n.__preset_select[e].innerHTML=n.__preset_select[e].value;n.preset=this.value}),r.appendChild(l),r.appendChild(i),r.appendChild(o),r.appendChild(s),r.appendChild(a),m&&(l=document.getElementById("dg-save-locally"),c=document.getElementById("dg-local-explain"),l.style.display="block",r=document.getElementById("dg-local-storage"),"true"===localStorage.getItem(O(0,"isLocal"))&&r.setAttribute("checked","checked"),t(),d.bind(r,"change",function(){n.useLocalStorage=!n.useLocalStorage,t()})),u=document.getElementById("dg-new-constructor"),d.bind(u,"keydown",function(e){!e.metaKey||67!==e.which&&67!=e.keyCode||oe.hide()}),d.bind(i,"click",function(){u.innerHTML=JSON.stringify(n.getSaveObject(),void 0,2),oe.show(),u.focus(),u.select()}),d.bind(o,"click",function(){n.save()}),d.bind(s,"click",function(){var e=prompt("Enter a new preset name.");e&&n.saveAs(e)}),d.bind(a,"click",function(){n.revert()})),-1==h.__rememberedObjects.indexOf(e)&&h.__rememberedObjects.push(e)}),this.autoPlace&&Se(this,this.width)},getRoot:function(){for(var e=this;e.parent;)e=e.parent;return e},getSaveObject:function(){var n=this.load;return n.closed=this.closed,0<this.__rememberedObjects.length&&(n.preset=this.preset,n.remembered||(n.remembered={}),n.remembered[this.preset]=Ee(this)),n.folders={},f.each(this.__folders,function(e,t){n.folders[t]=e.getSaveObject()}),n},save:function(){this.load.remembered||(this.load.remembered={}),this.load.remembered[this.preset]=Ee(this),Te(this,!1)},saveAs:function(e){this.load.remembered||(this.load.remembered={},this.load.remembered[g]=Ee(this,!0)),this.load.remembered[e]=Ee(this),this.preset=e,Ae(this,e,!0)},revert:function(t){f.each(this.__controllers,function(e){this.getRoot().load.remembered?ke(t||this.getRoot(),e):e.setValue(e.initialValue)},this),f.each(this.__folders,function(e){e.revert(e)}),t||Te(this.getRoot(),!1)},listen:function(e){var t=0==this.__listening.length;this.__listening.push(e),t&&function e(t){0!=t.length&&re(function(){e(t)});f.each(t,function(e){e.updateDisplay()})}(this.__listening)}}),v)},{}],5:[function(e,t,n){var r;r=function(c){var u,h,e=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],t="onwheel"in document||9<=document.documentMode?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],d=Array.prototype.slice;if(c.event.fixHooks)for(var n=e.length;n;)c.event.fixHooks[e[--n]]=c.event.mouseHooks;var f=c.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var e=t.length;e;)this.addEventListener(t[--e],r,!1);else this.onmousewheel=r;c.data(this,"mousewheel-line-height",f.getLineHeight(this)),c.data(this,"mousewheel-page-height",f.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var e=t.length;e;)this.removeEventListener(t[--e],r,!1);else this.onmousewheel=null;c.removeData(this,"mousewheel-line-height"),c.removeData(this,"mousewheel-page-height")},getLineHeight:function(e){var e=c(e),t=e["offsetParent"in c.fn?"offsetParent":"parent"]();return t.length||(t=c("body")),parseInt(t.css("fontSize"),10)||parseInt(e.css("fontSize"),10)||16},getPageHeight:function(e){return c(e).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};function r(e){var t,n=e||window.event,r=d.call(arguments,1),i=0,o=0,s=0,a=0,l=0;if((e=c.event.fix(n)).type="mousewheel","detail"in n&&(s=-1*n.detail),"wheelDelta"in n&&(s=n.wheelDelta),"wheelDeltaY"in n&&(s=n.wheelDeltaY),"wheelDeltaX"in n&&(o=-1*n.wheelDeltaX),"axis"in n&&n.axis===n.HORIZONTAL_AXIS&&(o=-1*s,s=0),i=0===s?o:s,"deltaY"in n&&(i=s=-1*n.deltaY),"deltaX"in n&&(o=n.deltaX,0===s)&&(i=-1*o),0!==s||0!==o)return 1===n.deltaMode?(i*=t=c.data(this,"mousewheel-line-height"),s*=t,o*=t):2===n.deltaMode&&(i*=t=c.data(this,"mousewheel-page-height"),s*=t,o*=t),t=Math.max(Math.abs(s),Math.abs(o)),(!h||t<h)&&g(n,h=t)&&(h/=40),g(n,t)&&(i/=40,o/=40,s/=40),i=Math[1<=i?"floor":"ceil"](i/h),o=Math[1<=o?"floor":"ceil"](o/h),s=Math[1<=s?"floor":"ceil"](s/h),f.settings.normalizeOffset&&this.getBoundingClientRect&&(n=this.getBoundingClientRect(),a=e.clientX-n.left,l=e.clientY-n.top),e.deltaX=o,e.deltaY=s,e.deltaFactor=h,e.offsetX=a,e.offsetY=l,e.deltaMode=0,r.unshift(e,i,o,s),u&&clearTimeout(u),u=setTimeout(p,200),(c.event.dispatch||c.event.handle).apply(this,r)}function p(){h=null}function g(e,t){return f.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120==0}c.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})},"function"==typeof define&&define.amd?define(["jquery"],r):"object"==typeof n?t.exports=r:r(jQuery)},{}],6:[function(e,n,t){!function(e,t){"use strict";"object"==typeof n&&"object"==typeof n.exports?n.exports=e.document?t(e,!0):function(e){if(e.document)return t(e);throw new Error("jQuery requires a window with a document")}:t(e)}("undefined"!=typeof window?window:this,function(x,I){"use strict";function b(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item}function g(e){return null!=e&&e===e.window}var t=[],P=Object.getPrototypeOf,a=t.slice,B=t.flat?function(e){return t.flat.call(e)}:function(e){return t.concat.apply([],e)},H=t.push,F=t.indexOf,q={},z=q.toString,V=q.hasOwnProperty,W=V.toString,G=W.call(Object),m={},w=x.document,U={type:!0,src:!0,nonce:!0,noModule:!0};function X(e,t,n){var r,i,o=(n=n||w).createElement("script");if(o.text=e,t)for(r in U)(i=t[r]||t.getAttribute&&t.getAttribute(r))&&o.setAttribute(r,i);n.head.appendChild(o).parentNode.removeChild(o)}function p(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?q[z.call(e)]||"object":typeof e}var C=function(e,t){return new C.fn.init(e,t)};function $(e){var t=!!e&&"length"in e&&e.length,n=p(e);return!b(e)&&!g(e)&&("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}C.fn=C.prototype={jquery:"3.6.4",constructor:C,length:0,toArray:function(){return a.call(this)},get:function(e){return null==e?a.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){e=C.merge(this.constructor(),e);return e.prevObject=this,e},each:function(e){return C.each(this,e)},map:function(n){return this.pushStack(C.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(C.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(C.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,e=+e+(e<0?t:0);return this.pushStack(0<=e&&e<t?[this[e]]:[])},end:function(){return this.prevObject||this.constructor()},push:H,sort:t.sort,splice:t.splice},C.extend=C.fn.extend=function(){var e,t,n,r,i,o=arguments[0]||{},s=1,a=arguments.length,l=!1;for("boolean"==typeof o&&(l=o,o=arguments[s]||{},s++),"object"==typeof o||b(o)||(o={}),s===a&&(o=this,s--);s<a;s++)if(null!=(e=arguments[s]))for(t in e)n=e[t],"__proto__"!==t&&o!==n&&(l&&n&&(C.isPlainObject(n)||(r=Array.isArray(n)))?(i=o[t],i=r&&!Array.isArray(i)?[]:r||C.isPlainObject(i)?i:{},r=!1,o[t]=C.extend(l,i,n)):void 0!==n&&(o[t]=n));return o},C.extend({expando:"jQuery"+("3.6.4"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){return!(!e||"[object Object]"!==z.call(e)||(e=P(e))&&("function"!=typeof(e=V.call(e,"constructor")&&e.constructor)||W.call(e)!==G))},isEmptyObject:function(e){for(var t in e)return!1;return!0},globalEval:function(e,t,n){X(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,r=0;if($(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},makeArray:function(e,t){t=t||[];return null!=e&&($(Object(e))?C.merge(t,"string"==typeof e?[e]:e):H.call(t,e)),t},inArray:function(e,t,n){return null==t?-1:F.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,s=!n;i<o;i++)!t(e[i],i)!=s&&r.push(e[i]);return r},map:function(e,t,n){var r,i,o=0,s=[];if($(e))for(r=e.length;o<r;o++)null!=(i=t(e[o],o,n))&&s.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&s.push(i);return B(s)},guid:1,support:m}),"function"==typeof Symbol&&(C.fn[Symbol.iterator]=t[Symbol.iterator]),C.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){q["[object "+t+"]"]=t.toLowerCase()});function r(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&C(e).is(n))break;r.push(e)}return r}function Y(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}var e=function(I){function h(e,t){return e="0x"+e.slice(1)-65536,t||(e<0?String.fromCharCode(65536+e):String.fromCharCode(e>>10|55296,1023&e|56320))}function P(e,t){return t?"\0"===e?"":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e}function B(){w()}var e,d,_,o,H,f,F,q,x,l,c,w,C,n,k,p,r,i,g,S="sizzle"+ +new Date,u=I.document,E=0,z=0,V=L(),W=L(),G=L(),m=L(),U=function(e,t){return e===t&&(c=!0),0},X={}.hasOwnProperty,t=[],$=t.pop,Y=t.push,A=t.push,K=t.slice,b=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},Q="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",s="[\\x20\\t\\r\\n\\f]",a="(?:\\\\[\\da-fA-F]{1,6}"+s+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",J="\\["+s+"*("+a+")(?:"+s+"*([*^$|!~]?=)"+s+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+a+"))|)"+s+"*\\]",Z=":("+a+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+J+")*)|.*)\\)|)",ee=new RegExp(s+"+","g"),v=new RegExp("^"+s+"+|((?:^|[^\\\\])(?:\\\\.)*)"+s+"+$","g"),te=new RegExp("^"+s+"*,"+s+"*"),ne=new RegExp("^"+s+"*([>+~]|"+s+")"+s+"*"),re=new RegExp(s+"|>"),ie=new RegExp(Z),oe=new RegExp("^"+a+"$"),y={ID:new RegExp("^#("+a+")"),CLASS:new RegExp("^\\.("+a+")"),TAG:new RegExp("^("+a+"|[*])"),ATTR:new RegExp("^"+J),PSEUDO:new RegExp("^"+Z),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+s+"*(even|odd|(([+-]|)(\\d*)n|)"+s+"*(?:([+-]|)"+s+"*(\\d+)|))"+s+"*\\)|)","i"),bool:new RegExp("^(?:"+Q+")$","i"),needsContext:new RegExp("^"+s+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+s+"*((?:-\\d)?\\d*)"+s+"*\\)|)(?=[^-]|$)","i")},se=/HTML$/i,ae=/^(?:input|select|textarea|button)$/i,le=/^h\d$/i,T=/^[^{]+\{\s*\[native \w/,ce=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ue=/[+~]/,N=new RegExp("\\\\[\\da-fA-F]{1,6}"+s+"?|\\\\([^\\r\\n\\f])","g"),he=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,de=be(function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{A.apply(t=K.call(u.childNodes),u.childNodes),t[u.childNodes.length].nodeType}catch(e){A={apply:t.length?function(e,t){Y.apply(e,K.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}function j(t,e,n,r){var i,o,s,a,l,c,u=e&&e.ownerDocument,h=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==h&&9!==h&&11!==h)return n;if(!r&&(w(e),e=e||C,k)){if(11!==h&&(a=ce.exec(t)))if(i=a[1]){if(9===h){if(!(c=e.getElementById(i)))return n;if(c.id===i)return n.push(c),n}else if(u&&(c=u.getElementById(i))&&g(e,c)&&c.id===i)return n.push(c),n}else{if(a[2])return A.apply(n,e.getElementsByTagName(t)),n;if((i=a[3])&&d.getElementsByClassName&&e.getElementsByClassName)return A.apply(n,e.getElementsByClassName(i)),n}if(d.qsa&&!m[t+" "]&&(!p||!p.test(t))&&(1!==h||"object"!==e.nodeName.toLowerCase())){if(c=t,u=e,1===h&&(re.test(t)||ne.test(t))){for((u=ue.test(t)&&me(e.parentNode)||e)===e&&d.scope||((s=e.getAttribute("id"))?s=s.replace(he,P):e.setAttribute("id",s=S)),o=(l=f(t)).length;o--;)l[o]=(s?"#"+s:":scope")+" "+D(l[o]);c=l.join(",")}try{return A.apply(n,u.querySelectorAll(c)),n}catch(e){m(t,!0)}finally{s===S&&e.removeAttribute("id")}}}return q(t.replace(v,"$1"),e,n,r)}function L(){var n=[];function r(e,t){return n.push(e+" ")>_.cacheLength&&delete r[n.shift()],r[e+" "]=t}return r}function M(e){return e[S]=!0,e}function O(e){var t=C.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t)}}function fe(e,t){for(var n=e.split("|"),r=n.length;r--;)_.attrHandle[n[r]]=t}function pe(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function ge(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&de(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function R(s){return M(function(o){return o=+o,M(function(e,t){for(var n,r=s([],e.length,o),i=r.length;i--;)e[n=r[i]]&&(e[n]=!(t[n]=e[n]))})})}function me(e){return e&&void 0!==e.getElementsByTagName&&e}for(e in d=j.support={},H=j.isXML=function(e){var t=e&&e.namespaceURI,e=e&&(e.ownerDocument||e).documentElement;return!se.test(t||e&&e.nodeName||"HTML")},w=j.setDocument=function(e){var e=e?e.ownerDocument||e:u;return e!=C&&9===e.nodeType&&e.documentElement&&(n=(C=e).documentElement,k=!H(C),u!=C&&(e=C.defaultView)&&e.top!==e&&(e.addEventListener?e.addEventListener("unload",B,!1):e.attachEvent&&e.attachEvent("onunload",B)),d.scope=O(function(e){return n.appendChild(e).appendChild(C.createElement("div")),void 0!==e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length}),d.cssHas=O(function(){try{C.querySelector(":has(*,:jqfake)")}catch(e){return 1}}),d.attributes=O(function(e){return e.className="i",!e.getAttribute("className")}),d.getElementsByTagName=O(function(e){return e.appendChild(C.createComment("")),!e.getElementsByTagName("*").length}),d.getElementsByClassName=T.test(C.getElementsByClassName),d.getById=O(function(e){return n.appendChild(e).id=S,!C.getElementsByName||!C.getElementsByName(S).length}),d.getById?(_.filter.ID=function(e){var t=e.replace(N,h);return function(e){return e.getAttribute("id")===t}},_.find.ID=function(e,t){if(void 0!==t.getElementById&&k)return(t=t.getElementById(e))?[t]:[]}):(_.filter.ID=function(e){var t=e.replace(N,h);return function(e){e=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return e&&e.value===t}},_.find.ID=function(e,t){if(void 0!==t.getElementById&&k){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];for(i=t.getElementsByName(e),r=0;o=i[r++];)if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),_.find.TAG=d.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):d.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"!==e)return o;for(;n=o[i++];)1===n.nodeType&&r.push(n);return r},_.find.CLASS=d.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&k)return t.getElementsByClassName(e)},r=[],p=[],(d.qsa=T.test(C.querySelectorAll))&&(O(function(e){var t;n.appendChild(e).innerHTML="<a id='"+S+"'></a><select id='"+S+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&p.push("[*^$]="+s+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||p.push("\\["+s+"*(?:value|"+Q+")"),e.querySelectorAll("[id~="+S+"-]").length||p.push("~="),(t=C.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||p.push("\\["+s+"*name"+s+"*="+s+"*(?:''|\"\")"),e.querySelectorAll(":checked").length||p.push(":checked"),e.querySelectorAll("a#"+S+"+*").length||p.push(".#.+[+~]"),e.querySelectorAll("\\\f"),p.push("[\\r\\n\\f]")}),O(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=C.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&p.push("name"+s+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&p.push(":enabled",":disabled"),n.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&p.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),p.push(",.*:")})),(d.matchesSelector=T.test(i=n.matches||n.webkitMatchesSelector||n.mozMatchesSelector||n.oMatchesSelector||n.msMatchesSelector))&&O(function(e){d.disconnectedMatch=i.call(e,"*"),i.call(e,"[s!='']:x"),r.push("!=",Z)}),d.cssHas||p.push(":has"),p=p.length&&new RegExp(p.join("|")),r=r.length&&new RegExp(r.join("|")),e=T.test(n.compareDocumentPosition),g=e||T.test(n.contains)?function(e,t){var n=9===e.nodeType&&e.documentElement||e,t=t&&t.parentNode;return e===t||!(!t||1!==t.nodeType||!(n.contains?n.contains(t):e.compareDocumentPosition&&16&e.compareDocumentPosition(t)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},U=e?function(e,t){var n;return e===t?(c=!0,0):(n=!e.compareDocumentPosition-!t.compareDocumentPosition)||(1&(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!d.sortDetached&&t.compareDocumentPosition(e)===n?e==C||e.ownerDocument==u&&g(u,e)?-1:t==C||t.ownerDocument==u&&g(u,t)?1:l?b(l,e)-b(l,t):0:4&n?-1:1)}:function(e,t){if(e===t)return c=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,s=[e],a=[t];if(!i||!o)return e==C?-1:t==C?1:i?-1:o?1:l?b(l,e)-b(l,t):0;if(i===o)return pe(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)a.unshift(n);for(;s[r]===a[r];)r++;return r?pe(s[r],a[r]):s[r]==u?-1:a[r]==u?1:0}),C},j.matches=function(e,t){return j(e,null,null,t)},j.matchesSelector=function(e,t){if(w(e),d.matchesSelector&&k&&!m[t+" "]&&(!r||!r.test(t))&&(!p||!p.test(t)))try{var n=i.call(e,t);if(n||d.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){m(t,!0)}return 0<j(t,C,null,[e]).length},j.contains=function(e,t){return(e.ownerDocument||e)!=C&&w(e),g(e,t)},j.attr=function(e,t){(e.ownerDocument||e)!=C&&w(e);var n=_.attrHandle[t.toLowerCase()],n=n&&X.call(_.attrHandle,t.toLowerCase())?n(e,t,!k):void 0;return void 0!==n?n:d.attributes||!k?e.getAttribute(t):(n=e.getAttributeNode(t))&&n.specified?n.value:null},j.escape=function(e){return(e+"").replace(he,P)},j.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},j.uniqueSort=function(e){var t,n=[],r=0,i=0;if(c=!d.detectDuplicates,l=!d.sortStable&&e.slice(0),e.sort(U),c){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return l=null,e},o=j.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=o(t);return n},(_=j.selectors={cacheLength:50,createPseudo:M,match:y,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(N,h),e[3]=(e[3]||e[4]||e[5]||"").replace(N,h),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||j.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&j.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return y.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&ie.test(n)&&(t=(t=f(n,!0))&&n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(N,h).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=V[e+" "];return t||(t=new RegExp("(^|"+s+")"+e+"("+s+"|$)"))&&V(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(t,n,r){return function(e){e=j.attr(e,t);return null==e?"!="===n:!n||(e+="","="===n?e===r:"!="===n?e!==r:"^="===n?r&&0===e.indexOf(r):"*="===n?r&&-1<e.indexOf(r):"$="===n?r&&e.slice(-r.length)===r:"~="===n?-1<(" "+e.replace(ee," ")+" ").indexOf(r):"|="===n&&(e===r||e.slice(0,r.length+1)===r+"-"))}},CHILD:function(p,e,t,g,m){var v="nth"!==p.slice(0,3),b="last"!==p.slice(-4),y="of-type"===e;return 1===g&&0===m?function(e){return!!e.parentNode}:function(e,t,n){var r,i,o,s,a,l,c=v!=b?"nextSibling":"previousSibling",u=e.parentNode,h=y&&e.nodeName.toLowerCase(),d=!n&&!y,f=!1;if(u){if(v){for(;c;){for(s=e;s=s[c];)if(y?s.nodeName.toLowerCase()===h:1===s.nodeType)return!1;l=c="only"===p&&!l&&"nextSibling"}return!0}if(l=[b?u.firstChild:u.lastChild],b&&d){for(f=(a=(r=(i=(o=(s=u)[S]||(s[S]={}))[s.uniqueID]||(o[s.uniqueID]={}))[p]||[])[0]===E&&r[1])&&r[2],s=a&&u.childNodes[a];s=++a&&s&&s[c]||(f=a=0,l.pop());)if(1===s.nodeType&&++f&&s===e){i[p]=[E,a,f];break}}else if(!1===(f=d?a=(r=(i=(o=(s=e)[S]||(s[S]={}))[s.uniqueID]||(o[s.uniqueID]={}))[p]||[])[0]===E&&r[1]:f))for(;(s=++a&&s&&s[c]||(f=a=0,l.pop()))&&((y?s.nodeName.toLowerCase()!==h:1!==s.nodeType)||!++f||(d&&((i=(o=s[S]||(s[S]={}))[s.uniqueID]||(o[s.uniqueID]={}))[p]=[E,f]),s!==e)););return(f-=m)===g||f%g==0&&0<=f/g}}},PSEUDO:function(e,o){var t,s=_.pseudos[e]||_.setFilters[e.toLowerCase()]||j.error("unsupported pseudo: "+e);return s[S]?s(o):1<s.length?(t=[e,e,"",o],_.setFilters.hasOwnProperty(e.toLowerCase())?M(function(e,t){for(var n,r=s(e,o),i=r.length;i--;)e[n=b(e,r[i])]=!(t[n]=r[i])}):function(e){return s(e,0,t)}):s}},pseudos:{not:M(function(e){var r=[],i=[],a=F(e.replace(v,"$1"));return a[S]?M(function(e,t,n,r){for(var i,o=a(e,null,r,[]),s=e.length;s--;)(i=o[s])&&(e[s]=!(t[s]=i))}):function(e,t,n){return r[0]=e,a(r,null,n,i),r[0]=null,!i.pop()}}),has:M(function(t){return function(e){return 0<j(t,e).length}}),contains:M(function(t){return t=t.replace(N,h),function(e){return-1<(e.textContent||o(e)).indexOf(t)}}),lang:M(function(n){return oe.test(n||"")||j.error("unsupported lang: "+n),n=n.replace(N,h).toLowerCase(),function(e){var t;do{if(t=k?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=I.location&&I.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===n},focus:function(e){return e===C.activeElement&&(!C.hasFocus||C.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:ge(!1),disabled:ge(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!_.pseudos.empty(e)},header:function(e){return le.test(e.nodeName)},input:function(e){return ae.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(e=e.getAttribute("type"))||"text"===e.toLowerCase())},first:R(function(){return[0]}),last:R(function(e,t){return[t-1]}),eq:R(function(e,t,n){return[n<0?n+t:n]}),even:R(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:R(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:R(function(e,t,n){for(var r=n<0?n+t:t<n?t:n;0<=--r;)e.push(r);return e}),gt:R(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=_.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})_.pseudos[e]=function(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}(e);for(e in{submit:!0,reset:!0})_.pseudos[e]=function(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}(e);function ve(){}function D(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function be(s,e,t){var a=e.dir,l=e.next,c=l||a,u=t&&"parentNode"===c,h=z++;return e.first?function(e,t,n){for(;e=e[a];)if(1===e.nodeType||u)return s(e,t,n);return!1}:function(e,t,n){var r,i,o=[E,h];if(n){for(;e=e[a];)if((1===e.nodeType||u)&&s(e,t,n))return!0}else for(;e=e[a];)if(1===e.nodeType||u)if(i=(i=e[S]||(e[S]={}))[e.uniqueID]||(i[e.uniqueID]={}),l&&l===e.nodeName.toLowerCase())e=e[a]||e;else{if((r=i[c])&&r[0]===E&&r[1]===h)return o[2]=r[2];if((i[c]=o)[2]=s(e,t,n))return!0}return!1}}function ye(i){return 1<i.length?function(e,t,n){for(var r=i.length;r--;)if(!i[r](e,t,n))return!1;return!0}:i[0]}function _e(e,t,n,r,i){for(var o,s=[],a=0,l=e.length,c=null!=t;a<l;a++)!(o=e[a])||n&&!n(o,r,i)||(s.push(o),c&&t.push(a));return s}function xe(f,p,g,m,v,e){return m&&!m[S]&&(m=xe(m)),v&&!v[S]&&(v=xe(v,e)),M(function(e,t,n,r){var i,o,s,a=[],l=[],c=t.length,u=e||function(e,t,n){for(var r=0,i=t.length;r<i;r++)j(e,t[r],n);return n}(p||"*",n.nodeType?[n]:n,[]),h=!f||!e&&p?u:_e(u,a,f,n,r),d=g?v||(e?f:c||m)?[]:t:h;if(g&&g(h,d,n,r),m)for(i=_e(d,l),m(i,[],n,r),o=i.length;o--;)(s=i[o])&&(d[l[o]]=!(h[l[o]]=s));if(e){if(v||f){if(v){for(i=[],o=d.length;o--;)(s=d[o])&&i.push(h[o]=s);v(null,d=[],i,r)}for(o=d.length;o--;)(s=d[o])&&-1<(i=v?b(e,s):a[o])&&(e[i]=!(t[i]=s))}}else d=_e(d===t?d.splice(c,d.length):d),v?v(null,t,d,r):A.apply(t,d)})}function we(m,v){function e(e,t,n,r,i){var o,s,a,l=0,c="0",u=e&&[],h=[],d=x,f=e||y&&_.find.TAG("*",i),p=E+=null==d?1:Math.random()||.1,g=f.length;for(i&&(x=t==C||t||i);c!==g&&null!=(o=f[c]);c++){if(y&&o){for(s=0,t||o.ownerDocument==C||(w(o),n=!k);a=m[s++];)if(a(o,t||C,n)){r.push(o);break}i&&(E=p)}b&&((o=!a&&o)&&l--,e)&&u.push(o)}if(l+=c,b&&c!==l){for(s=0;a=v[s++];)a(u,h,t,n);if(e){if(0<l)for(;c--;)u[c]||h[c]||(h[c]=$.call(r));h=_e(h)}A.apply(r,h),i&&!e&&0<h.length&&1<l+v.length&&j.uniqueSort(r)}return i&&(E=p,x=d),u}var b=0<v.length,y=0<m.length;return b?M(e):e}return ve.prototype=_.filters=_.pseudos,_.setFilters=new ve,f=j.tokenize=function(e,t){var n,r,i,o,s,a,l,c=W[e+" "];if(c)return t?0:c.slice(0);for(s=e,a=[],l=_.preFilter;s;){for(o in n&&!(r=te.exec(s))||(r&&(s=s.slice(r[0].length)||s),a.push(i=[])),n=!1,(r=ne.exec(s))&&(n=r.shift(),i.push({value:n,type:r[0].replace(v," ")}),s=s.slice(n.length)),_.filter)!(r=y[o].exec(s))||l[o]&&!(r=l[o](r))||(n=r.shift(),i.push({value:n,type:o,matches:r}),s=s.slice(n.length));if(!n)break}return t?s.length:s?j.error(e):W(e,a).slice(0)},F=j.compile=function(e,t){var n,r=[],i=[],o=G[e+" "];if(!o){for(n=(t=t||f(e)).length;n--;)((o=function e(t){for(var r,n,i,o=t.length,s=_.relative[t[0].type],a=s||_.relative[" "],l=s?1:0,c=be(function(e){return e===r},a,!0),u=be(function(e){return-1<b(r,e)},a,!0),h=[function(e,t,n){return e=!s&&(n||t!==x)||((r=t).nodeType?c:u)(e,t,n),r=null,e}];l<o;l++)if(n=_.relative[t[l].type])h=[be(ye(h),n)];else{if((n=_.filter[t[l].type].apply(null,t[l].matches))[S]){for(i=++l;i<o&&!_.relative[t[i].type];i++);return xe(1<l&&ye(h),1<l&&D(t.slice(0,l-1).concat({value:" "===t[l-2].type?"*":""})).replace(v,"$1"),n,l<i&&e(t.slice(l,i)),i<o&&e(t=t.slice(i)),i<o&&D(t))}h.push(n)}return ye(h)}(t[n]))[S]?r:i).push(o);(o=G(e,we(i,r))).selector=e}return o},q=j.select=function(e,t,n,r){var i,o,s,a,l,c="function"==typeof e&&e,u=!r&&f(e=c.selector||e);if(n=n||[],1===u.length){if(2<(o=u[0]=u[0].slice(0)).length&&"ID"===(s=o[0]).type&&9===t.nodeType&&k&&_.relative[o[1].type]){if(!(t=(_.find.ID(s.matches[0].replace(N,h),t)||[])[0]))return n;c&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=y.needsContext.test(e)?0:o.length;i--&&(s=o[i],!_.relative[a=s.type]);)if((l=_.find[a])&&(r=l(s.matches[0].replace(N,h),ue.test(o[0].type)&&me(t.parentNode)||t))){if(o.splice(i,1),e=r.length&&D(o))break;return A.apply(n,r),n}}return(c||F(e,u))(r,t,!k,n,!t||ue.test(e)&&me(t.parentNode)||t),n},d.sortStable=S.split("").sort(U).join("")===S,d.detectDuplicates=!!c,w(),d.sortDetached=O(function(e){return 1&e.compareDocumentPosition(C.createElement("fieldset"))}),O(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||fe("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),d.attributes&&O(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||fe("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),O(function(e){return null==e.getAttribute("disabled")})||fe(Q,function(e,t,n){if(!n)return!0===e[t]?t.toLowerCase():(n=e.getAttributeNode(t))&&n.specified?n.value:null}),j}(x),K=(C.find=e,C.expr=e.selectors,C.expr[":"]=C.expr.pseudos,C.uniqueSort=C.unique=e.uniqueSort,C.text=e.getText,C.isXMLDoc=e.isXML,C.contains=e.contains,C.escapeSelector=e.escape,C.expr.match.needsContext);function l(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var Q=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function J(e,n,r){return b(n)?C.grep(e,function(e,t){return!!n.call(e,t,e)!==r}):n.nodeType?C.grep(e,function(e){return e===n!==r}):"string"!=typeof n?C.grep(e,function(e){return-1<F.call(n,e)!==r}):C.filter(n,e,r)}C.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?C.find.matchesSelector(r,e)?[r]:[]:C.find.matches(e,C.grep(t,function(e){return 1===e.nodeType}))},C.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(C(e).filter(function(){for(t=0;t<r;t++)if(C.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)C.find(e,i[t],n);return 1<r?C.uniqueSort(n):n},filter:function(e){return this.pushStack(J(this,e||[],!1))},not:function(e){return this.pushStack(J(this,e||[],!0))},is:function(e){return!!J(this,"string"==typeof e&&K.test(e)?C(e):e||[],!1).length}});var Z,ee=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,te=((C.fn.init=function(e,t,n){if(e){if(n=n||Z,"string"!=typeof e)return e.nodeType?(this[0]=e,this.length=1,this):b(e)?void 0!==n.ready?n.ready(e):e(C):C.makeArray(e,this);if(!(r="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:ee.exec(e))||!r[1]&&t)return(!t||t.jquery?t||n:this.constructor(t)).find(e);if(r[1]){if(t=t instanceof C?t[0]:t,C.merge(this,C.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:w,!0)),Q.test(r[1])&&C.isPlainObject(t))for(var r in t)b(this[r])?this[r](t[r]):this.attr(r,t[r])}else(n=w.getElementById(r[2]))&&(this[0]=n,this.length=1)}return this}).prototype=C.fn,Z=C(w),/^(?:parents|prev(?:Until|All))/),ne={children:!0,contents:!0,next:!0,prev:!0};function re(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}C.fn.extend({has:function(e){var t=C(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(C.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,o=[],s="string"!=typeof e&&C(e);if(!K.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?-1<s.index(n):1===n.nodeType&&C.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(1<o.length?C.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?F.call(C(e),this[0]):F.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(C.uniqueSort(C.merge(this.get(),C(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),C.each({parent:function(e){e=e.parentNode;return e&&11!==e.nodeType?e:null},parents:function(e){return r(e,"parentNode")},parentsUntil:function(e,t,n){return r(e,"parentNode",n)},next:function(e){return re(e,"nextSibling")},prev:function(e){return re(e,"previousSibling")},nextAll:function(e){return r(e,"nextSibling")},prevAll:function(e){return r(e,"previousSibling")},nextUntil:function(e,t,n){return r(e,"nextSibling",n)},prevUntil:function(e,t,n){return r(e,"previousSibling",n)},siblings:function(e){return Y((e.parentNode||{}).firstChild,e)},children:function(e){return Y(e.firstChild)},contents:function(e){return null!=e.contentDocument&&P(e.contentDocument)?e.contentDocument:(l(e,"template")&&(e=e.content||e),C.merge([],e.childNodes))}},function(r,i){C.fn[r]=function(e,t){var n=C.map(this,i,e);return(t="Until"!==r.slice(-5)?e:t)&&"string"==typeof t&&(n=C.filter(t,n)),1<this.length&&(ne[r]||C.uniqueSort(n),te.test(r))&&n.reverse(),this.pushStack(n)}});var k=/[^\x20\t\r\n\f]+/g;function u(e){return e}function ie(e){throw e}function oe(e,t,n,r){var i;try{e&&b(i=e.promise)?i.call(e).done(t).fail(n):e&&b(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}C.Callbacks=function(r){var e,n;r="string"==typeof r?(e=r,n={},C.each(e.match(k)||[],function(e,t){n[t]=!0}),n):C.extend({},r);function i(){for(a=a||r.once,s=o=!0;c.length;u=-1)for(t=c.shift();++u<l.length;)!1===l[u].apply(t[0],t[1])&&r.stopOnFalse&&(u=l.length,t=!1);r.memory||(t=!1),o=!1,a&&(l=t?[]:"")}var o,t,s,a,l=[],c=[],u=-1,h={add:function(){return l&&(t&&!o&&(u=l.length-1,c.push(t)),function n(e){C.each(e,function(e,t){b(t)?r.unique&&h.has(t)||l.push(t):t&&t.length&&"string"!==p(t)&&n(t)})}(arguments),t)&&!o&&i(),this},remove:function(){return C.each(arguments,function(e,t){for(var n;-1<(n=C.inArray(t,l,n));)l.splice(n,1),n<=u&&u--}),this},has:function(e){return e?-1<C.inArray(e,l):0<l.length},empty:function(){return l=l&&[],this},disable:function(){return a=c=[],l=t="",this},disabled:function(){return!l},lock:function(){return a=c=[],t||o||(l=t=""),this},locked:function(){return!!a},fireWith:function(e,t){return a||(t=[e,(t=t||[]).slice?t.slice():t],c.push(t),o)||i(),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!s}};return h},C.extend({Deferred:function(e){var o=[["notify","progress",C.Callbacks("memory"),C.Callbacks("memory"),2],["resolve","done",C.Callbacks("once memory"),C.Callbacks("once memory"),0,"resolved"],["reject","fail",C.Callbacks("once memory"),C.Callbacks("once memory"),1,"rejected"]],i="pending",s={state:function(){return i},always:function(){return a.done(arguments).fail(arguments),this},catch:function(e){return s.then(null,e)},pipe:function(){var i=arguments;return C.Deferred(function(r){C.each(o,function(e,t){var n=b(i[t[4]])&&i[t[4]];a[t[1]](function(){var e=n&&n.apply(this,arguments);e&&b(e.promise)?e.promise().progress(r.notify).done(r.resolve).fail(r.reject):r[t[0]+"With"](this,n?[e]:arguments)})}),i=null}).promise()},then:function(t,n,r){var l=0;function c(i,o,s,a){return function(){function e(){var e,t;if(!(i<l)){if((e=s.apply(n,r))===o.promise())throw new TypeError("Thenable self-resolution");t=e&&("object"==typeof e||"function"==typeof e)&&e.then,b(t)?a?t.call(e,c(l,o,u,a),c(l,o,ie,a)):(l++,t.call(e,c(l,o,u,a),c(l,o,ie,a),c(l,o,u,o.notifyWith))):(s!==u&&(n=void 0,r=[e]),(a||o.resolveWith)(n,r))}}var n=this,r=arguments,t=a?e:function(){try{e()}catch(e){C.Deferred.exceptionHook&&C.Deferred.exceptionHook(e,t.stackTrace),l<=i+1&&(s!==ie&&(n=void 0,r=[e]),o.rejectWith(n,r))}};i?t():(C.Deferred.getStackHook&&(t.stackTrace=C.Deferred.getStackHook()),x.setTimeout(t))}}return C.Deferred(function(e){o[0][3].add(c(0,e,b(r)?r:u,e.notifyWith)),o[1][3].add(c(0,e,b(t)?t:u)),o[2][3].add(c(0,e,b(n)?n:ie))}).promise()},promise:function(e){return null!=e?C.extend(e,s):s}},a={};return C.each(o,function(e,t){var n=t[2],r=t[5];s[t[1]]=n.add,r&&n.add(function(){i=r},o[3-e][2].disable,o[3-e][3].disable,o[0][2].lock,o[0][3].lock),n.add(t[3].fire),a[t[0]]=function(){return a[t[0]+"With"](this===a?void 0:this,arguments),this},a[t[0]+"With"]=n.fireWith}),s.promise(a),e&&e.call(a,a),a},when:function(e){function t(t){return function(e){i[t]=this,o[t]=1<arguments.length?a.call(arguments):e,--n||s.resolveWith(i,o)}}var n=arguments.length,r=n,i=Array(r),o=a.call(arguments),s=C.Deferred();if(n<=1&&(oe(e,s.done(t(r)).resolve,s.reject,!n),"pending"===s.state()||b(o[r]&&o[r].then)))return s.then();for(;r--;)oe(o[r],t(r),s.reject);return s.promise()}});var se=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/,ae=(C.Deferred.exceptionHook=function(e,t){x.console&&x.console.warn&&e&&se.test(e.name)&&x.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},C.readyException=function(e){x.setTimeout(function(){throw e})},C.Deferred());function le(){w.removeEventListener("DOMContentLoaded",le),x.removeEventListener("load",le),C.ready()}C.fn.ready=function(e){return ae.then(e).catch(function(e){C.readyException(e)}),this},C.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--C.readyWait:C.isReady)||(C.isReady=!0)!==e&&0<--C.readyWait||ae.resolveWith(w,[C])}}),C.ready.then=ae.then,"complete"===w.readyState||"loading"!==w.readyState&&!w.documentElement.doScroll?x.setTimeout(C.ready):(w.addEventListener("DOMContentLoaded",le),x.addEventListener("load",le));function h(e,t,n,r,i,o,s){var a=0,l=e.length,c=null==n;if("object"===p(n))for(a in i=!0,n)h(e,t,a,n[a],!0,o,s);else if(void 0!==r&&(i=!0,b(r)||(s=!0),t=c?s?(t.call(e,r),null):(c=t,function(e,t,n){return c.call(C(e),n)}):t))for(;a<l;a++)t(e[a],n,s?r:r.call(e[a],a,t(e[a],n)));return i?e:c?t.call(e):l?t(e[0],n):o}var ce=/^-ms-/,ue=/-([a-z])/g;function he(e,t){return t.toUpperCase()}function y(e){return e.replace(ce,"ms-").replace(ue,he)}function v(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType}function de(){this.expando=C.expando+de.uid++}de.uid=1,de.prototype={cache:function(e){var t=e[this.expando];return t||(t={},v(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[y(t)]=n;else for(r in t)i[y(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][y(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(y):(t=y(t))in r?[t]:t.match(k)||[]).length;for(;n--;)delete r[t[n]]}void 0!==t&&!C.isEmptyObject(r)||(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){e=e[this.expando];return void 0!==e&&!C.isEmptyObject(e)}};var _=new de,c=new de,fe=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,pe=/[A-Z]/g;function ge(e,t,n){var r,i;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(pe,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n="true"===(i=n)||"false"!==i&&("null"===i?null:i===+i+""?+i:fe.test(i)?JSON.parse(i):i)}catch(e){}c.set(e,t,n)}else n=void 0;return n}C.extend({hasData:function(e){return c.hasData(e)||_.hasData(e)},data:function(e,t,n){return c.access(e,t,n)},removeData:function(e,t){c.remove(e,t)},_data:function(e,t,n){return _.access(e,t,n)},_removeData:function(e,t){_.remove(e,t)}}),C.fn.extend({data:function(n,e){var t,r,i,o=this[0],s=o&&o.attributes;if(void 0!==n)return"object"==typeof n?this.each(function(){c.set(this,n)}):h(this,function(e){var t;if(o&&void 0===e)return void 0!==(t=c.get(o,n))||void 0!==(t=ge(o,n))?t:void 0;this.each(function(){c.set(this,n,e)})},null,e,1<arguments.length,null,!0);if(this.length&&(i=c.get(o),1===o.nodeType)&&!_.get(o,"hasDataAttrs")){for(t=s.length;t--;)s[t]&&0===(r=s[t].name).indexOf("data-")&&(r=y(r.slice(5)),ge(o,r,i[r]));_.set(o,"hasDataAttrs",!0)}return i},removeData:function(e){return this.each(function(){c.remove(this,e)})}}),C.extend({queue:function(e,t,n){var r;if(e)return r=_.get(e,t=(t||"fx")+"queue"),n&&(!r||Array.isArray(n)?r=_.access(e,t,C.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=C.queue(e,t),r=n.length,i=n.shift(),o=C._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,function(){C.dequeue(e,t)},o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return _.get(e,n)||_.access(e,n,{empty:C.Callbacks("once memory").add(function(){_.remove(e,[t+"queue",n])})})}}),C.fn.extend({queue:function(t,n){var e=2;return"string"!=typeof t&&(n=t,t="fx",e--),arguments.length<e?C.queue(this[0],t):void 0===n?this:this.each(function(){var e=C.queue(this,t,n);C._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&C.dequeue(this,t)})},dequeue:function(e){return this.each(function(){C.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){function n(){--i||o.resolveWith(s,[s])}var r,i=1,o=C.Deferred(),s=this,a=this.length;for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(r=_.get(s[a],e+"queueHooks"))&&r.empty&&(i++,r.empty.add(n));return n(),o.promise(t)}});function me(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&E(e)&&"none"===C.css(e,"display")}var e=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ve=new RegExp("^(?:([+-])=|)("+e+")([a-z%]*)$","i"),d=["Top","Right","Bottom","Left"],S=w.documentElement,E=function(e){return C.contains(e.ownerDocument,e)},be={composed:!0};S.getRootNode&&(E=function(e){return C.contains(e.ownerDocument,e)||e.getRootNode(be)===e.ownerDocument});function ye(e,t,n,r){var i,o,s=20,a=r?function(){return r.cur()}:function(){return C.css(e,t,"")},l=a(),c=n&&n[3]||(C.cssNumber[t]?"":"px"),u=e.nodeType&&(C.cssNumber[t]||"px"!==c&&+l)&&ve.exec(C.css(e,t));if(u&&u[3]!==c){for(c=c||u[3],u=+(l/=2)||1;s--;)C.style(e,t,u+c),(1-o)*(1-(o=a()/l||.5))<=0&&(s=0),u/=o;C.style(e,t,(u*=2)+c),n=n||[]}return n&&(u=+u||+l||0,i=n[1]?u+(n[1]+1)*n[2]:+n[2],r)&&(r.unit=c,r.start=u,r.end=i),i}var _e={};function A(e,t){for(var n,r,i,o,s,a=[],l=0,c=e.length;l<c;l++)(r=e[l]).style&&(n=r.style.display,t?("none"===n&&(a[l]=_.get(r,"display")||null,a[l]||(r.style.display="")),""===r.style.display&&me(r)&&(a[l]=(s=o=void 0,o=(i=r).ownerDocument,i=i.nodeName,(s=_e[i])||(o=o.body.appendChild(o.createElement(i)),s=C.css(o,"display"),o.parentNode.removeChild(o),_e[i]=s="none"===s?"block":s),s))):"none"!==n&&(a[l]="none",_.set(r,"display",n)));for(l=0;l<c;l++)null!=a[l]&&(e[l].style.display=a[l]);return e}C.fn.extend({show:function(){return A(this,!0)},hide:function(){return A(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){me(this)?C(this).show():C(this).hide()})}});var xe=/^(?:checkbox|radio)$/i,we=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Ce=/^$|^module$|\/(?:java|ecma)script/i,T=(M=w.createDocumentFragment().appendChild(w.createElement("div")),(o=w.createElement("input")).setAttribute("type","radio"),o.setAttribute("checked","checked"),o.setAttribute("name","t"),M.appendChild(o),m.checkClone=M.cloneNode(!0).cloneNode(!0).lastChild.checked,M.innerHTML="<textarea>x</textarea>",m.noCloneChecked=!!M.cloneNode(!0).lastChild.defaultValue,M.innerHTML="<option></option>",m.option=!!M.lastChild,{thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]});function N(e,t){var n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&l(e,t)?C.merge([e],n):n}function ke(e,t){for(var n=0,r=e.length;n<r;n++)_.set(e[n],"globalEval",!t||_.get(t[n],"globalEval"))}T.tbody=T.tfoot=T.colgroup=T.caption=T.thead,T.th=T.td,m.option||(T.optgroup=T.option=[1,"<select multiple='multiple'>","</select>"]);var Se=/<|&#?\w+;/;function Ee(e,t,n,r,i){for(var o,s,a,l,c,u=t.createDocumentFragment(),h=[],d=0,f=e.length;d<f;d++)if((o=e[d])||0===o)if("object"===p(o))C.merge(h,o.nodeType?[o]:o);else if(Se.test(o)){for(s=s||u.appendChild(t.createElement("div")),a=(we.exec(o)||["",""])[1].toLowerCase(),a=T[a]||T._default,s.innerHTML=a[1]+C.htmlPrefilter(o)+a[2],c=a[0];c--;)s=s.lastChild;C.merge(h,s.childNodes),(s=u.firstChild).textContent=""}else h.push(t.createTextNode(o));for(u.textContent="",d=0;o=h[d++];)if(r&&-1<C.inArray(o,r))i&&i.push(o);else if(l=E(o),s=N(u.appendChild(o),"script"),l&&ke(s),n)for(c=0;o=s[c++];)Ce.test(o.type||"")&&n.push(o);return u}var Ae=/^([^.]*)(?:\.(.+)|)/;function n(){return!0}function f(){return!1}function Te(e,t){return e===function(){try{return w.activeElement}catch(e){}}()==("focus"===t)}function Ne(e,t,n,r,i,o){var s,a;if("object"==typeof t){for(a in"string"!=typeof n&&(r=r||n,n=void 0),t)Ne(e,a,n,r,t[a],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=f;else if(!i)return e;return 1===o&&(s=i,(i=function(e){return C().off(e),s.apply(this,arguments)}).guid=s.guid||(s.guid=C.guid++)),e.each(function(){C.event.add(this,t,i,r,n)})}function je(e,i,o){o?(_.set(e,i,!1),C.event.add(e,i,{namespace:!1,handler:function(e){var t,n,r=_.get(this,i);if(1&e.isTrigger&&this[i]){if(r.length)(C.event.special[i]||{}).delegateType&&e.stopPropagation();else if(r=a.call(arguments),_.set(this,i,r),t=o(this,i),this[i](),r!==(n=_.get(this,i))||t?_.set(this,i,!1):n={},r!==n)return e.stopImmediatePropagation(),e.preventDefault(),n&&n.value}else r.length&&(_.set(this,i,{value:C.event.trigger(C.extend(r[0],C.Event.prototype),r.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===_.get(e,i)&&C.event.add(e,i,n)}C.event={global:{},add:function(t,e,n,r,i){var o,s,a,l,c,u,h,d,f,p=_.get(t);if(v(t))for(n.handler&&(n=(o=n).handler,i=o.selector),i&&C.find.matchesSelector(S,i),n.guid||(n.guid=C.guid++),a=(a=p.events)||(p.events=Object.create(null)),s=(s=p.handle)||(p.handle=function(e){return void 0!==C&&C.event.triggered!==e.type?C.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||"").match(k)||[""]).length;l--;)h=f=(d=Ae.exec(e[l])||[])[1],d=(d[2]||"").split(".").sort(),h&&(c=C.event.special[h]||{},h=(i?c.delegateType:c.bindType)||h,c=C.event.special[h]||{},f=C.extend({type:h,origType:f,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&C.expr.match.needsContext.test(i),namespace:d.join(".")},o),(u=a[h])||((u=a[h]=[]).delegateCount=0,c.setup&&!1!==c.setup.call(t,r,d,s))||t.addEventListener&&t.addEventListener(h,s),c.add&&(c.add.call(t,f),f.handler.guid||(f.handler.guid=n.guid)),i?u.splice(u.delegateCount++,0,f):u.push(f),C.event.global[h]=!0)},remove:function(e,t,n,r,i){var o,s,a,l,c,u,h,d,f,p,g,m=_.hasData(e)&&_.get(e);if(m&&(l=m.events)){for(c=(t=(t||"").match(k)||[""]).length;c--;)if(f=g=(a=Ae.exec(t[c])||[])[1],p=(a[2]||"").split(".").sort(),f){for(h=C.event.special[f]||{},d=l[f=(r?h.delegateType:h.bindType)||f]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=d.length;o--;)u=d[o],!i&&g!==u.origType||n&&n.guid!==u.guid||a&&!a.test(u.namespace)||r&&r!==u.selector&&("**"!==r||!u.selector)||(d.splice(o,1),u.selector&&d.delegateCount--,h.remove&&h.remove.call(e,u));s&&!d.length&&(h.teardown&&!1!==h.teardown.call(e,p,m.handle)||C.removeEvent(e,f,m.handle),delete l[f])}else for(f in l)C.event.remove(e,f+t[c],n,r,!0);C.isEmptyObject(l)&&_.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,o,s=new Array(arguments.length),a=C.event.fix(e),e=(_.get(this,"events")||Object.create(null))[a.type]||[],l=C.event.special[a.type]||{};for(s[0]=a,t=1;t<arguments.length;t++)s[t]=arguments[t];if(a.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,a)){for(o=C.event.handlers.call(this,a,e),t=0;(r=o[t++])&&!a.isPropagationStopped();)for(a.currentTarget=r.elem,n=0;(i=r.handlers[n++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!1!==i.namespace&&!a.rnamespace.test(i.namespace)||(a.handleObj=i,a.data=i.data,void 0!==(i=((C.event.special[i.origType]||{}).handle||i.handler).apply(r.elem,s))&&!1===(a.result=i)&&(a.preventDefault(),a.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,a),a.result}},handlers:function(e,t){var n,r,i,o,s,a=[],l=t.delegateCount,c=e.target;if(l&&c.nodeType&&!("click"===e.type&&1<=e.button))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(o=[],s={},n=0;n<l;n++)void 0===s[i=(r=t[n]).selector+" "]&&(s[i]=r.needsContext?-1<C(i,this).index(c):C.find(i,this,null,[c]).length),s[i]&&o.push(r);o.length&&a.push({elem:c,handlers:o})}return c=this,l<t.length&&a.push({elem:c,handlers:t.slice(l)}),a},addProp:function(t,e){Object.defineProperty(C.Event.prototype,t,{enumerable:!0,configurable:!0,get:b(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(e){return e[C.expando]?e:new C.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){e=this||e;return xe.test(e.type)&&e.click&&l(e,"input")&&je(e,"click",n),!1},trigger:function(e){e=this||e;return xe.test(e.type)&&e.click&&l(e,"input")&&je(e,"click"),!0},_default:function(e){e=e.target;return xe.test(e.type)&&e.click&&l(e,"input")&&_.get(e,"click")||l(e,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},C.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},C.Event=function(e,t){if(!(this instanceof C.Event))return new C.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?n:f,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&C.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[C.expando]=!0},C.Event.prototype={constructor:C.Event,isDefaultPrevented:f,isPropagationStopped:f,isImmediatePropagationStopped:f,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=n,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=n,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=n,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},C.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},C.event.addProp),C.each({focus:"focusin",blur:"focusout"},function(t,e){C.event.special[t]={setup:function(){return je(this,t,Te),!1},trigger:function(){return je(this,t),!0},_default:function(e){return _.get(e.target,t)},delegateType:e}}),C.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,i){C.event.special[e]={delegateType:i,bindType:i,handle:function(e){var t,n=e.relatedTarget,r=e.handleObj;return n&&(n===this||C.contains(this,n))||(e.type=r.origType,t=r.handler.apply(this,arguments),e.type=i),t}}}),C.fn.extend({on:function(e,t,n,r){return Ne(this,e,t,n,r)},one:function(e,t,n,r){return Ne(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)r=e.handleObj,C(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler);else{if("object"!=typeof e)return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=f),this.each(function(){C.event.remove(this,e,n,t)});for(i in e)this.off(i,t,e[i])}return this}});var Le=/<script|<style|<link/i,Me=/checked\s*(?:[^=]|=\s*.checked.)/i,Oe=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Re(e,t){return l(e,"table")&&l(11!==t.nodeType?t:t.firstChild,"tr")&&C(e).children("tbody")[0]||e}function De(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Ie(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Pe(e,t){var n,r,i,o;if(1===t.nodeType){if(_.hasData(e)&&(o=_.get(e).events))for(i in _.remove(t,"handle events"),o)for(n=0,r=o[i].length;n<r;n++)C.event.add(t,i,o[i][n]);c.hasData(e)&&(e=c.access(e),e=C.extend({},e),c.set(t,e))}}function j(n,r,i,o){r=B(r);var e,t,s,a,l,c,u=0,h=n.length,d=h-1,f=r[0],p=b(f);if(p||1<h&&"string"==typeof f&&!m.checkClone&&Me.test(f))return n.each(function(e){var t=n.eq(e);p&&(r[0]=f.call(this,e,t.html())),j(t,r,i,o)});if(h&&(t=(e=Ee(r,n[0].ownerDocument,!1,n,o)).firstChild,1===e.childNodes.length&&(e=t),t||o)){for(a=(s=C.map(N(e,"script"),De)).length;u<h;u++)l=e,u!==d&&(l=C.clone(l,!0,!0),a)&&C.merge(s,N(l,"script")),i.call(n[u],l,u);if(a)for(c=s[s.length-1].ownerDocument,C.map(s,Ie),u=0;u<a;u++)l=s[u],Ce.test(l.type||"")&&!_.access(l,"globalEval")&&C.contains(c,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?C._evalUrl&&!l.noModule&&C._evalUrl(l.src,{nonce:l.nonce||l.getAttribute("nonce")},c):X(l.textContent.replace(Oe,""),l,c))}return n}function Be(e,t,n){for(var r,i=t?C.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||C.cleanData(N(r)),r.parentNode&&(n&&E(r)&&ke(N(r,"script")),r.parentNode.removeChild(r));return e}C.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var r,i,o,s,a,l,c,u=e.cloneNode(!0),h=E(e);if(!(m.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||C.isXMLDoc(e)))for(s=N(u),r=0,i=(o=N(e)).length;r<i;r++)a=o[r],l=s[r],c=void 0,"input"===(c=l.nodeName.toLowerCase())&&xe.test(a.type)?l.checked=a.checked:"input"!==c&&"textarea"!==c||(l.defaultValue=a.defaultValue);if(t)if(n)for(o=o||N(e),s=s||N(u),r=0,i=o.length;r<i;r++)Pe(o[r],s[r]);else Pe(e,u);return 0<(s=N(u,"script")).length&&ke(s,!h&&N(e,"script")),u},cleanData:function(e){for(var t,n,r,i=C.event.special,o=0;void 0!==(n=e[o]);o++)if(v(n)){if(t=n[_.expando]){if(t.events)for(r in t.events)i[r]?C.event.remove(n,r):C.removeEvent(n,r,t.handle);n[_.expando]=void 0}n[c.expando]&&(n[c.expando]=void 0)}}}),C.fn.extend({detach:function(e){return Be(this,e,!0)},remove:function(e){return Be(this,e)},text:function(e){return h(this,function(e){return void 0===e?C.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return j(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Re(this,e).appendChild(e)})},prepend:function(){return j(this,arguments,function(e){var t;1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(t=Re(this,e)).insertBefore(e,t.firstChild)})},before:function(){return j(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return j(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(C.cleanData(N(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return C.clone(this,e,t)})},html:function(e){return h(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Le.test(e)&&!T[(we.exec(e)||["",""])[1].toLowerCase()]){e=C.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(C.cleanData(N(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var n=[];return j(this,arguments,function(e){var t=this.parentNode;C.inArray(this,n)<0&&(C.cleanData(N(this)),t)&&t.replaceChild(e,this)},n)}}),C.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,s){C.fn[e]=function(e){for(var t,n=[],r=C(e),i=r.length-1,o=0;o<=i;o++)t=o===i?this:this.clone(!0),C(r[o])[s](t),H.apply(n,t.get());return this.pushStack(n)}});function He(e){var t=e.ownerDocument.defaultView;return(t=t&&t.opener?t:x).getComputedStyle(e)}function Fe(e,t,n){var r,i={};for(r in t)i[r]=e.style[r],e.style[r]=t[r];for(r in n=n.call(e),t)e.style[r]=i[r];return n}var qe,ze,Ve,We,Ge,Ue,Xe,i,$e=new RegExp("^("+e+")(?!px)[a-z%]+$","i"),Ye=/^--/,Ke=new RegExp(d.join("|"),"i"),o="[\\x20\\t\\r\\n\\f]",Qe=new RegExp("^"+o+"+|((?:^|[^\\\\])(?:\\\\.)*)"+o+"+$","g");function Je(){var e;i&&(Xe.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",i.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",S.appendChild(Xe).appendChild(i),e=x.getComputedStyle(i),qe="1%"!==e.top,Ue=12===Ze(e.marginLeft),i.style.right="60%",We=36===Ze(e.right),ze=36===Ze(e.width),i.style.position="absolute",Ve=12===Ze(i.offsetWidth/3),S.removeChild(Xe),i=null)}function Ze(e){return Math.round(parseFloat(e))}function et(e,t,n){var r,i=Ye.test(t),o=e.style;return(n=n||He(e))&&(r=n.getPropertyValue(t)||n[t],""!==(r=i?r&&(r.replace(Qe,"$1")||void 0):r)||E(e)||(r=C.style(e,t)),!m.pixelBoxStyles())&&$e.test(r)&&Ke.test(t)&&(i=o.width,e=o.minWidth,t=o.maxWidth,o.minWidth=o.maxWidth=o.width=r,r=n.width,o.width=i,o.minWidth=e,o.maxWidth=t),void 0!==r?r+"":r}function tt(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}Xe=w.createElement("div"),(i=w.createElement("div")).style&&(i.style.backgroundClip="content-box",i.cloneNode(!0).style.backgroundClip="",m.clearCloneStyle="content-box"===i.style.backgroundClip,C.extend(m,{boxSizingReliable:function(){return Je(),ze},pixelBoxStyles:function(){return Je(),We},pixelPosition:function(){return Je(),qe},reliableMarginLeft:function(){return Je(),Ue},scrollboxSize:function(){return Je(),Ve},reliableTrDimensions:function(){var e,t,n;return null==Ge&&(e=w.createElement("table"),t=w.createElement("tr"),n=w.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",t.style.cssText="border:1px solid",t.style.height="1px",n.style.height="9px",n.style.display="block",S.appendChild(e).appendChild(t).appendChild(n),n=x.getComputedStyle(t),Ge=parseInt(n.height,10)+parseInt(n.borderTopWidth,10)+parseInt(n.borderBottomWidth,10)===t.offsetHeight,S.removeChild(e)),Ge}}));var nt=["Webkit","Moz","ms"],rt=w.createElement("div").style,it={};function ot(e){var t=C.cssProps[e]||it[e];return t||(e in rt?e:it[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=nt.length;n--;)if((e=nt[n]+t)in rt)return e}(e)||e)}var st=/^(none|table(?!-c[ea]).+)/,at={position:"absolute",visibility:"hidden",display:"block"},lt={letterSpacing:"0",fontWeight:"400"};function ct(e,t,n){var r=ve.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function ut(e,t,n,r,i,o){var s="width"===t?1:0,a=0,l=0;if(n===(r?"border":"content"))return 0;for(;s<4;s+=2)"margin"===n&&(l+=C.css(e,n+d[s],!0,i)),r?("content"===n&&(l-=C.css(e,"padding"+d[s],!0,i)),"margin"!==n&&(l-=C.css(e,"border"+d[s]+"Width",!0,i))):(l+=C.css(e,"padding"+d[s],!0,i),"padding"!==n?l+=C.css(e,"border"+d[s]+"Width",!0,i):a+=C.css(e,"border"+d[s]+"Width",!0,i));return!r&&0<=o&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-l-a-.5))||0),l}function ht(e,t,n){var r=He(e),i=(!m.boxSizingReliable()||n)&&"border-box"===C.css(e,"boxSizing",!1,r),o=i,s=et(e,t,r),a="offset"+t[0].toUpperCase()+t.slice(1);if($e.test(s)){if(!n)return s;s="auto"}return(!m.boxSizingReliable()&&i||!m.reliableTrDimensions()&&l(e,"tr")||"auto"===s||!parseFloat(s)&&"inline"===C.css(e,"display",!1,r))&&e.getClientRects().length&&(i="border-box"===C.css(e,"boxSizing",!1,r),o=a in e)&&(s=e[a]),(s=parseFloat(s)||0)+ut(e,t,n||(i?"border":"content"),o,r,s)+"px"}function s(e,t,n,r,i){return new s.prototype.init(e,t,n,r,i)}C.extend({cssHooks:{opacity:{get:function(e,t){if(t)return""===(t=et(e,"opacity"))?"1":t}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,s,a=y(t),l=Ye.test(t),c=e.style;if(l||(t=ot(a)),s=C.cssHooks[t]||C.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(i=s.get(e,!1,r))?i:c[t];"string"===(o=typeof n)&&(i=ve.exec(n))&&i[1]&&(n=ye(e,t,i),o="number"),null==n||n!=n||("number"!==o||l||(n+=i&&i[3]||(C.cssNumber[a]?"":"px")),m.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),s&&"set"in s&&void 0===(n=s.set(e,n,r)))||(l?c.setProperty(t,n):c[t]=n)}},css:function(e,t,n,r){var i,o=y(t);return Ye.test(t)||(t=ot(o)),"normal"===(i=void 0===(i=(o=C.cssHooks[t]||C.cssHooks[o])&&"get"in o?o.get(e,!0,n):i)?et(e,t,r):i)&&t in lt&&(i=lt[t]),(""===n||n)&&(o=parseFloat(i),!0===n||isFinite(o))?o||0:i}}),C.each(["height","width"],function(e,s){C.cssHooks[s]={get:function(e,t,n){if(t)return!st.test(C.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?ht(e,s,n):Fe(e,at,function(){return ht(e,s,n)})},set:function(e,t,n){var r=He(e),i=!m.scrollboxSize()&&"absolute"===r.position,o=(i||n)&&"border-box"===C.css(e,"boxSizing",!1,r),n=n?ut(e,s,n,o,r):0;return o&&i&&(n-=Math.ceil(e["offset"+s[0].toUpperCase()+s.slice(1)]-parseFloat(r[s])-ut(e,s,"border",!1,r)-.5)),n&&(o=ve.exec(t))&&"px"!==(o[3]||"px")&&(e.style[s]=t,t=C.css(e,s)),ct(0,t,n)}}}),C.cssHooks.marginLeft=tt(m.reliableMarginLeft,function(e,t){if(t)return(parseFloat(et(e,"marginLeft"))||e.getBoundingClientRect().left-Fe(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),C.each({margin:"",padding:"",border:"Width"},function(i,o){C.cssHooks[i+o]={expand:function(e){for(var t=0,n={},r="string"==typeof e?e.split(" "):[e];t<4;t++)n[i+d[t]+o]=r[t]||r[t-2]||r[0];return n}},"margin"!==i&&(C.cssHooks[i+o].set=ct)}),C.fn.extend({css:function(e,t){return h(this,function(e,t,n){var r,i,o={},s=0;if(Array.isArray(t)){for(r=He(e),i=t.length;s<i;s++)o[t[s]]=C.css(e,t[s],!1,r);return o}return void 0!==n?C.style(e,t,n):C.css(e,t)},e,t,1<arguments.length)}}),((C.Tween=s).prototype={constructor:s,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||C.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(C.cssNumber[n]?"":"px")},cur:function(){var e=s.propHooks[this.prop];return(e&&e.get?e:s.propHooks._default).get(this)},run:function(e){var t,n=s.propHooks[this.prop];return this.options.duration?this.pos=t=C.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),(n&&n.set?n:s.propHooks._default).set(this),this}}).init.prototype=s.prototype,(s.propHooks={_default:{get:function(e){return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(e=C.css(e.elem,e.prop,""))&&"auto"!==e?e:0},set:function(e){C.fx.step[e.prop]?C.fx.step[e.prop](e):1!==e.elem.nodeType||!C.cssHooks[e.prop]&&null==e.elem.style[ot(e.prop)]?e.elem[e.prop]=e.now:C.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=s.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},C.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},C.fx=s.prototype.init,C.fx.step={};var L,dt,M,ft=/^(?:toggle|show|hide)$/,pt=/queueHooks$/;function gt(){dt&&(!1===w.hidden&&x.requestAnimationFrame?x.requestAnimationFrame(gt):x.setTimeout(gt,C.fx.interval),C.fx.tick())}function mt(){return x.setTimeout(function(){L=void 0}),L=Date.now()}function vt(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=d[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function bt(e,t,n){for(var r,i=(O.tweeners[t]||[]).concat(O.tweeners["*"]),o=0,s=i.length;o<s;o++)if(r=i[o].call(n,t,e))return r}function O(i,e,t){var n,o,r,s,a,l,c,u=0,h=O.prefilters.length,d=C.Deferred().always(function(){delete f.elem}),f=function(){if(!o){for(var e=L||mt(),e=Math.max(0,p.startTime+p.duration-e),t=1-(e/p.duration||0),n=0,r=p.tweens.length;n<r;n++)p.tweens[n].run(t);if(d.notifyWith(i,[p,t,e]),t<1&&r)return e;r||d.notifyWith(i,[p,1,0]),d.resolveWith(i,[p])}return!1},p=d.promise({elem:i,props:C.extend({},e),opts:C.extend(!0,{specialEasing:{},easing:C.easing._default},t),originalProperties:e,originalOptions:t,startTime:L||mt(),duration:t.duration,tweens:[],createTween:function(e,t){t=C.Tween(i,p.opts,e,t,p.opts.specialEasing[e]||p.opts.easing);return p.tweens.push(t),t},stop:function(e){var t=0,n=e?p.tweens.length:0;if(!o){for(o=!0;t<n;t++)p.tweens[t].run(1);e?(d.notifyWith(i,[p,1,0]),d.resolveWith(i,[p,e])):d.rejectWith(i,[p,e])}return this}}),g=p.props,m=g,v=p.opts.specialEasing;for(r in m)if(a=v[s=y(r)],l=m[r],Array.isArray(l)&&(a=l[1],l=m[r]=l[0]),r!==s&&(m[s]=l,delete m[r]),(c=C.cssHooks[s])&&"expand"in c)for(r in l=c.expand(l),delete m[s],l)r in m||(m[r]=l[r],v[r]=a);else v[s]=a;for(;u<h;u++)if(n=O.prefilters[u].call(p,i,g,p.opts))return b(n.stop)&&(C._queueHooks(p.elem,p.opts.queue).stop=n.stop.bind(n)),n;return C.map(g,bt,p),b(p.opts.start)&&p.opts.start.call(i,p),p.progress(p.opts.progress).done(p.opts.done,p.opts.complete).fail(p.opts.fail).always(p.opts.always),C.fx.timer(C.extend(f,{elem:i,anim:p,queue:p.opts.queue})),p}C.Animation=C.extend(O,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return ye(n.elem,e,ve.exec(t),n),n}]},tweener:function(e,t){for(var n,r=0,i=(e=b(e)?(t=e,["*"]):e.match(k)).length;r<i;r++)n=e[r],O.tweeners[n]=O.tweeners[n]||[],O.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,i,o,s,a,l,c,u="width"in t||"height"in t,h=this,d={},f=e.style,p=e.nodeType&&me(e),g=_.get(e,"fxshow");for(r in n.queue||(null==(s=C._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,h.always(function(){h.always(function(){s.unqueued--,C.queue(e,"fx").length||s.empty.fire()})})),t)if(i=t[r],ft.test(i)){if(delete t[r],o=o||"toggle"===i,i===(p?"hide":"show")){if("show"!==i||!g||void 0===g[r])continue;p=!0}d[r]=g&&g[r]||C.style(e,r)}if((l=!C.isEmptyObject(t))||!C.isEmptyObject(d))for(r in u&&1===e.nodeType&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],null==(c=g&&g.display)&&(c=_.get(e,"display")),"none"===(u=C.css(e,"display"))&&(c?u=c:(A([e],!0),c=e.style.display||c,u=C.css(e,"display"),A([e]))),"inline"===u||"inline-block"===u&&null!=c)&&"none"===C.css(e,"float")&&(l||(h.done(function(){f.display=c}),null==c&&(u=f.display,c="none"===u?"":u)),f.display="inline-block"),n.overflow&&(f.overflow="hidden",h.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]})),l=!1,d)l||(g?"hidden"in g&&(p=g.hidden):g=_.access(e,"fxshow",{display:c}),o&&(g.hidden=!p),p&&A([e],!0),h.done(function(){for(r in p||A([e]),_.remove(e,"fxshow"),d)C.style(e,r,d[r])})),l=bt(p?g[r]:0,r,h),r in g||(g[r]=l.start,p&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?O.prefilters.unshift(e):O.prefilters.push(e)}}),C.speed=function(e,t,n){var r=e&&"object"==typeof e?C.extend({},e):{complete:n||!n&&t||b(e)&&e,duration:e,easing:n&&t||t&&!b(t)&&t};return C.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in C.fx.speeds?r.duration=C.fx.speeds[r.duration]:r.duration=C.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){b(r.old)&&r.old.call(this),r.queue&&C.dequeue(this,r.queue)},r},C.fn.extend({fadeTo:function(e,t,n,r){return this.filter(me).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(t,e,n,r){function i(){var e=O(this,C.extend({},t),s);(o||_.get(this,"finish"))&&e.stop(!0)}var o=C.isEmptyObject(t),s=C.speed(e,n,r);return i.finish=i,o||!1===s.queue?this.each(i):this.queue(s.queue,i)},stop:function(i,e,o){function s(e){var t=e.stop;delete e.stop,t(o)}return"string"!=typeof i&&(o=e,e=i,i=void 0),e&&this.queue(i||"fx",[]),this.each(function(){var e=!0,t=null!=i&&i+"queueHooks",n=C.timers,r=_.get(this);if(t)r[t]&&r[t].stop&&s(r[t]);else for(t in r)r[t]&&r[t].stop&&pt.test(t)&&s(r[t]);for(t=n.length;t--;)n[t].elem!==this||null!=i&&n[t].queue!==i||(n[t].anim.stop(o),e=!1,n.splice(t,1));!e&&o||C.dequeue(this,i)})},finish:function(s){return!1!==s&&(s=s||"fx"),this.each(function(){var e,t=_.get(this),n=t[s+"queue"],r=t[s+"queueHooks"],i=C.timers,o=n?n.length:0;for(t.finish=!0,C.queue(this,s,[]),r&&r.stop&&r.stop.call(this,!0),e=i.length;e--;)i[e].elem===this&&i[e].queue===s&&(i[e].anim.stop(!0),i.splice(e,1));for(e=0;e<o;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),C.each(["toggle","show","hide"],function(e,r){var i=C.fn[r];C.fn[r]=function(e,t,n){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(vt(r,!0),e,t,n)}}),C.each({slideDown:vt("show"),slideUp:vt("hide"),slideToggle:vt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,r){C.fn[e]=function(e,t,n){return this.animate(r,e,t,n)}}),C.timers=[],C.fx.tick=function(){var e,t=0,n=C.timers;for(L=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||C.fx.stop(),L=void 0},C.fx.timer=function(e){C.timers.push(e),C.fx.start()},C.fx.interval=13,C.fx.start=function(){dt||(dt=!0,gt())},C.fx.stop=function(){dt=null},C.fx.speeds={slow:600,fast:200,_default:400},C.fn.delay=function(r,e){return r=C.fx&&C.fx.speeds[r]||r,this.queue(e=e||"fx",function(e,t){var n=x.setTimeout(e,r);t.stop=function(){x.clearTimeout(n)}})},M=w.createElement("input"),e=w.createElement("select").appendChild(w.createElement("option")),M.type="checkbox",m.checkOn=""!==M.value,m.optSelected=e.selected,(M=w.createElement("input")).value="t",M.type="radio",m.radioValue="t"===M.value;var yt,_t=C.expr.attrHandle,xt=(C.fn.extend({attr:function(e,t){return h(this,C.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){C.removeAttr(this,e)})}}),C.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?C.prop(e,t,n):(1===o&&C.isXMLDoc(e)||(i=C.attrHooks[t.toLowerCase()]||(C.expr.match.bool.test(t)?yt:void 0)),void 0!==n?null===n?void C.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):!(i&&"get"in i&&null!==(r=i.get(e,t)))&&null==(r=C.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){var n;if(!m.radioValue&&"radio"===t&&l(e,"input"))return n=e.value,e.setAttribute("type",t),n&&(e.value=n),t}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(k);if(i&&1===e.nodeType)for(;n=i[r++];)e.removeAttribute(n)}}),yt={set:function(e,t,n){return!1===t?C.removeAttr(e,n):e.setAttribute(n,n),n}},C.each(C.expr.match.bool.source.match(/\w+/g),function(e,t){var s=_t[t]||C.find.attr;_t[t]=function(e,t,n){var r,i,o=t.toLowerCase();return n||(i=_t[o],_t[o]=r,r=null!=s(e,t,n)?o:null,_t[o]=i),r}}),/^(?:input|select|textarea|button)$/i),wt=/^(?:a|area)$/i;function R(e){return(e.match(k)||[]).join(" ")}function D(e){return e.getAttribute&&e.getAttribute("class")||""}function Ct(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(k)||[]}C.fn.extend({prop:function(e,t){return h(this,C.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[C.propFix[e]||e]})}}),C.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&C.isXMLDoc(e)||(t=C.propFix[t]||t,i=C.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=C.find.attr(e,"tabindex");return t?parseInt(t,10):xt.test(e.nodeName)||wt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),m.optSelected||(C.propHooks.selected={get:function(e){e=e.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(e){e=e.parentNode;e&&(e.selectedIndex,e.parentNode)&&e.parentNode.selectedIndex}}),C.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){C.propFix[this.toLowerCase()]=this}),C.fn.extend({addClass:function(t){var e,n,r,i,o,s;return b(t)?this.each(function(e){C(this).addClass(t.call(this,e,D(this)))}):(e=Ct(t)).length?this.each(function(){if(r=D(this),n=1===this.nodeType&&" "+R(r)+" "){for(o=0;o<e.length;o++)i=e[o],n.indexOf(" "+i+" ")<0&&(n+=i+" ");s=R(n),r!==s&&this.setAttribute("class",s)}}):this},removeClass:function(t){var e,n,r,i,o,s;return b(t)?this.each(function(e){C(this).removeClass(t.call(this,e,D(this)))}):arguments.length?(e=Ct(t)).length?this.each(function(){if(r=D(this),n=1===this.nodeType&&" "+R(r)+" "){for(o=0;o<e.length;o++)for(i=e[o];-1<n.indexOf(" "+i+" ");)n=n.replace(" "+i+" "," ");s=R(n),r!==s&&this.setAttribute("class",s)}}):this:this.attr("class","")},toggleClass:function(t,n){var e,r,i,o,s=typeof t,a="string"==s||Array.isArray(t);return b(t)?this.each(function(e){C(this).toggleClass(t.call(this,e,D(this),n),n)}):"boolean"==typeof n&&a?n?this.addClass(t):this.removeClass(t):(e=Ct(t),this.each(function(){if(a)for(o=C(this),i=0;i<e.length;i++)r=e[i],o.hasClass(r)?o.removeClass(r):o.addClass(r);else void 0!==t&&"boolean"!=s||((r=D(this))&&_.set(this,"__className__",r),this.setAttribute&&this.setAttribute("class",!r&&!1!==t&&_.get(this,"__className__")||""))}))},hasClass:function(e){for(var t,n=0,r=" "+e+" ";t=this[n++];)if(1===t.nodeType&&-1<(" "+R(D(t))+" ").indexOf(r))return!0;return!1}});function kt(e){e.stopPropagation()}var St=/\r/g,Et=(C.fn.extend({val:function(t){var n,e,r,i=this[0];return arguments.length?(r=b(t),this.each(function(e){1!==this.nodeType||(null==(e=r?t.call(this,e,C(this).val()):t)?e="":"number"==typeof e?e+="":Array.isArray(e)&&(e=C.map(e,function(e){return null==e?"":e+""})),(n=C.valHooks[this.type]||C.valHooks[this.nodeName.toLowerCase()])&&"set"in n&&void 0!==n.set(this,e,"value"))||(this.value=e)})):i?(n=C.valHooks[i.type]||C.valHooks[i.nodeName.toLowerCase()])&&"get"in n&&void 0!==(e=n.get(i,"value"))?e:"string"==typeof(e=i.value)?e.replace(St,""):null==e?"":e:void 0}}),C.extend({valHooks:{option:{get:function(e){var t=C.find.attr(e,"value");return null!=t?t:R(C.text(e))}},select:{get:function(e){for(var t,n=e.options,r=e.selectedIndex,i="select-one"===e.type,o=i?null:[],s=i?r+1:n.length,a=r<0?s:i?r:0;a<s;a++)if(((t=n[a]).selected||a===r)&&!t.disabled&&(!t.parentNode.disabled||!l(t.parentNode,"optgroup"))){if(t=C(t).val(),i)return t;o.push(t)}return o},set:function(e,t){for(var n,r,i=e.options,o=C.makeArray(t),s=i.length;s--;)((r=i[s]).selected=-1<C.inArray(C.valHooks.option.get(r),o))&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),C.each(["radio","checkbox"],function(){C.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<C.inArray(C(e).val(),t)}},m.checkOn||(C.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),m.focusin="onfocusin"in x,/^(?:focusinfocus|focusoutblur)$/),At=(C.extend(C.event,{trigger:function(e,t,n,r){var i,o,s,a,l,c,u,h=[n||w],d=V.call(e,"type")?e.type:e,f=V.call(e,"namespace")?e.namespace.split("."):[],p=u=o=n=n||w;if(3!==n.nodeType&&8!==n.nodeType&&!Et.test(d+C.event.triggered)&&(-1<d.indexOf(".")&&(d=(f=d.split(".")).shift(),f.sort()),a=d.indexOf(":")<0&&"on"+d,(e=e[C.expando]?e:new C.Event(d,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=f.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:C.makeArray(t,[e]),c=C.event.special[d]||{},r||!c.trigger||!1!==c.trigger.apply(n,t))){if(!r&&!c.noBubble&&!g(n)){for(s=c.delegateType||d,Et.test(s+d)||(p=p.parentNode);p;p=p.parentNode)h.push(p),o=p;o===(n.ownerDocument||w)&&h.push(o.defaultView||o.parentWindow||x)}for(i=0;(p=h[i++])&&!e.isPropagationStopped();)u=p,e.type=1<i?s:c.bindType||d,(l=(_.get(p,"events")||Object.create(null))[e.type]&&_.get(p,"handle"))&&l.apply(p,t),(l=a&&p[a])&&l.apply&&v(p)&&(e.result=l.apply(p,t),!1===e.result)&&e.preventDefault();return e.type=d,r||e.isDefaultPrevented()||c._default&&!1!==c._default.apply(h.pop(),t)||!v(n)||a&&b(n[d])&&!g(n)&&((o=n[a])&&(n[a]=null),C.event.triggered=d,e.isPropagationStopped()&&u.addEventListener(d,kt),n[d](),e.isPropagationStopped()&&u.removeEventListener(d,kt),C.event.triggered=void 0,o)&&(n[a]=o),e.result}},simulate:function(e,t,n){n=C.extend(new C.Event,n,{type:e,isSimulated:!0});C.event.trigger(n,null,t)}}),C.fn.extend({trigger:function(e,t){return this.each(function(){C.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return C.event.trigger(e,t,n,!0)}}),m.focusin||C.each({focus:"focusin",blur:"focusout"},function(n,r){function i(e){C.event.simulate(r,e.target,C.event.fix(e))}C.event.special[r]={setup:function(){var e=this.ownerDocument||this.document||this,t=_.access(e,r);t||e.addEventListener(n,i,!0),_.access(e,r,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this.document||this,t=_.access(e,r)-1;t?_.access(e,r,t):(e.removeEventListener(n,i,!0),_.remove(e,r))}}}),x.location),Tt={guid:Date.now()},Nt=/\?/,jt=(C.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{t=(new x.DOMParser).parseFromString(e,"text/xml")}catch(e){}return n=t&&t.getElementsByTagName("parsererror")[0],t&&!n||C.error("Invalid XML: "+(n?C.map(n.childNodes,function(e){return e.textContent}).join("\n"):e)),t},/\[\]$/),Lt=/\r?\n/g,Mt=/^(?:submit|button|image|reset|file)$/i,Ot=/^(?:input|select|textarea|keygen)/i;C.param=function(e,t){function n(e,t){t=b(t)?t():t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==t?"":t)}var r,i=[];if(null==e)return"";if(Array.isArray(e)||e.jquery&&!C.isPlainObject(e))C.each(e,function(){n(this.name,this.value)});else for(r in e)!function n(r,e,i,o){if(Array.isArray(e))C.each(e,function(e,t){i||jt.test(r)?o(r,t):n(r+"["+("object"==typeof t&&null!=t?e:"")+"]",t,i,o)});else if(i||"object"!==p(e))o(r,e);else for(var t in e)n(r+"["+t+"]",e[t],i,o)}(r,e[r],t,n);return i.join("&")},C.fn.extend({serialize:function(){return C.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=C.prop(this,"elements");return e?C.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!C(this).is(":disabled")&&Ot.test(this.nodeName)&&!Mt.test(e)&&(this.checked||!xe.test(e))}).map(function(e,t){var n=C(this).val();return null==n?null:Array.isArray(n)?C.map(n,function(e){return{name:t.name,value:e.replace(Lt,"\r\n")}}):{name:t.name,value:n.replace(Lt,"\r\n")}}).get()}});var Rt=/%20/g,Dt=/#.*$/,It=/([?&])_=[^&]*/,Pt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Bt=/^(?:GET|HEAD)$/,Ht=/^\/\//,Ft={},qt={},zt="*/".concat("*"),Vt=w.createElement("a");function Wt(o){return function(e,t){"string"!=typeof e&&(t=e,e="*");var n,r=0,i=e.toLowerCase().match(k)||[];if(b(t))for(;n=i[r++];)"+"===n[0]?(n=n.slice(1)||"*",(o[n]=o[n]||[]).unshift(t)):(o[n]=o[n]||[]).push(t)}}function Gt(t,r,i,o){var s={},a=t===qt;function l(e){var n;return s[e]=!0,C.each(t[e]||[],function(e,t){t=t(r,i,o);return"string"!=typeof t||a||s[t]?a?!(n=t):void 0:(r.dataTypes.unshift(t),l(t),!1)}),n}return l(r.dataTypes[0])||!s["*"]&&l("*")}function Ut(e,t){var n,r,i=C.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r=r||{})[n]=t[n]);return r&&C.extend(!0,e,r),e}Vt.href=At.href,C.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:At.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(At.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":zt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":C.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Ut(Ut(e,C.ajaxSettings),t):Ut(C.ajaxSettings,e)},ajaxPrefilter:Wt(Ft),ajaxTransport:Wt(qt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0);var l,c,u,n,h,d,f,r,p=C.ajaxSetup({},t=t||{}),g=p.context||p,m=p.context&&(g.nodeType||g.jquery)?C(g):C.event,v=C.Deferred(),b=C.Callbacks("once memory"),y=p.statusCode||{},i={},o={},s="canceled",_={readyState:0,getResponseHeader:function(e){var t;if(d){if(!n)for(n={};t=Pt.exec(u);)n[t[1].toLowerCase()+" "]=(n[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=n[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return d?u:null},setRequestHeader:function(e,t){return null==d&&(e=o[e.toLowerCase()]=o[e.toLowerCase()]||e,i[e]=t),this},overrideMimeType:function(e){return null==d&&(p.mimeType=e),this},statusCode:function(e){if(e)if(d)_.always(e[_.status]);else for(var t in e)y[t]=[y[t],e[t]];return this},abort:function(e){e=e||s;return l&&l.abort(e),a(0,e),this}};if(v.promise(_),p.url=((e||p.url||At.href)+"").replace(Ht,At.protocol+"//"),p.type=t.method||t.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(k)||[""],null==p.crossDomain){e=w.createElement("a");try{e.href=p.url,e.href=e.href,p.crossDomain=Vt.protocol+"//"+Vt.host!=e.protocol+"//"+e.host}catch(e){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=C.param(p.data,p.traditional)),Gt(Ft,p,t,_),!d){for(r in(f=C.event&&p.global)&&0==C.active++&&C.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Bt.test(p.type),c=p.url.replace(Dt,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(Rt,"+")):(e=p.url.slice(c.length),p.data&&(p.processData||"string"==typeof p.data)&&(c+=(Nt.test(c)?"&":"?")+p.data,delete p.data),!1===p.cache&&(c=c.replace(It,"$1"),e=(Nt.test(c)?"&":"?")+"_="+Tt.guid+++e),p.url=c+e),p.ifModified&&(C.lastModified[c]&&_.setRequestHeader("If-Modified-Since",C.lastModified[c]),C.etag[c])&&_.setRequestHeader("If-None-Match",C.etag[c]),(p.data&&p.hasContent&&!1!==p.contentType||t.contentType)&&_.setRequestHeader("Content-Type",p.contentType),_.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+zt+"; q=0.01":""):p.accepts["*"]),p.headers)_.setRequestHeader(r,p.headers[r]);if(p.beforeSend&&(!1===p.beforeSend.call(g,_,p)||d))return _.abort();if(s="abort",b.add(p.complete),_.done(p.success),_.fail(p.error),l=Gt(qt,p,t,_)){if(_.readyState=1,f&&m.trigger("ajaxSend",[_,p]),d)return _;p.async&&0<p.timeout&&(h=x.setTimeout(function(){_.abort("timeout")},p.timeout));try{d=!1,l.send(i,a)}catch(e){if(d)throw e;a(-1,e)}}else a(-1,"No Transport")}return _;function a(e,t,n,r){var i,o,s,a=t;d||(d=!0,h&&x.clearTimeout(h),l=void 0,u=r||"",_.readyState=0<e?4:0,r=200<=e&&e<300||304===e,n&&(s=function(e,t,n){for(var r,i,o,s,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in a)if(a[i]&&a[i].test(r)){l.unshift(i);break}if(l[0]in n)o=l[0];else{for(i in n){if(!l[0]||e.converters[i+" "+l[0]]){o=i;break}s=s||i}o=o||s}if(o)return o!==l[0]&&l.unshift(o),n[o]}(p,_,n)),!r&&-1<C.inArray("script",p.dataTypes)&&C.inArray("json",p.dataTypes)<0&&(p.converters["text script"]=function(){}),s=function(e,t,n,r){var i,o,s,a,l,c={},u=e.dataTypes.slice();if(u[1])for(s in e.converters)c[s.toLowerCase()]=e.converters[s];for(o=u.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=u.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(s=c[l+" "+o]||c["* "+o]))for(i in c)if((a=i.split(" "))[1]===o&&(s=c[l+" "+a[0]]||c["* "+a[0]])){!0===s?s=c[i]:!0!==c[i]&&(o=a[0],u.unshift(a[1]));break}if(!0!==s)if(s&&e.throws)t=s(t);else try{t=s(t)}catch(e){return{state:"parsererror",error:s?e:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}(p,s,_,r),r?(p.ifModified&&((n=_.getResponseHeader("Last-Modified"))&&(C.lastModified[c]=n),n=_.getResponseHeader("etag"))&&(C.etag[c]=n),204===e||"HEAD"===p.type?a="nocontent":304===e?a="notmodified":(a=s.state,i=s.data,r=!(o=s.error))):(o=a,!e&&a||(a="error",e<0&&(e=0))),_.status=e,_.statusText=(t||a)+"",r?v.resolveWith(g,[i,a,_]):v.rejectWith(g,[_,a,o]),_.statusCode(y),y=void 0,f&&m.trigger(r?"ajaxSuccess":"ajaxError",[_,p,r?i:o]),b.fireWith(g,[_,a]),f&&(m.trigger("ajaxComplete",[_,p]),--C.active||C.event.trigger("ajaxStop")))}},getJSON:function(e,t,n){return C.get(e,t,n,"json")},getScript:function(e,t){return C.get(e,void 0,t,"script")}}),C.each(["get","post"],function(e,i){C[i]=function(e,t,n,r){return b(t)&&(r=r||n,n=t,t=void 0),C.ajax(C.extend({url:e,type:i,dataType:r,data:t,success:n},C.isPlainObject(e)&&e))}}),C.ajaxPrefilter(function(e){for(var t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")}),C._evalUrl=function(e,t,n){return C.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){C.globalEval(e,t,n)}})},C.fn.extend({wrapAll:function(e){return this[0]&&(b(e)&&(e=e.call(this[0])),e=C(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(n){return b(n)?this.each(function(e){C(this).wrapInner(n.call(this,e))}):this.each(function(){var e=C(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=b(t);return this.each(function(e){C(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(e){return this.parent(e).not("body").each(function(){C(this).replaceWith(this.childNodes)}),this}}),C.expr.pseudos.hidden=function(e){return!C.expr.pseudos.visible(e)},C.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},C.ajaxSettings.xhr=function(){try{return new x.XMLHttpRequest}catch(e){}};var Xt={0:200,1223:204},$t=C.ajaxSettings.xhr(),Yt=(m.cors=!!$t&&"withCredentials"in $t,m.ajax=$t=!!$t,C.ajaxTransport(function(i){var o,s;if(m.cors||$t&&!i.crossDomain)return{send:function(e,t){var n,r=i.xhr();if(r.open(i.type,i.url,i.async,i.username,i.password),i.xhrFields)for(n in i.xhrFields)r[n]=i.xhrFields[n];for(n in i.mimeType&&r.overrideMimeType&&r.overrideMimeType(i.mimeType),i.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)r.setRequestHeader(n,e[n]);o=function(e){return function(){o&&(o=s=r.onload=r.onerror=r.onabort=r.ontimeout=r.onreadystatechange=null,"abort"===e?r.abort():"error"===e?"number"!=typeof r.status?t(0,"error"):t(r.status,r.statusText):t(Xt[r.status]||r.status,r.statusText,"text"!==(r.responseType||"text")||"string"!=typeof r.responseText?{binary:r.response}:{text:r.responseText},r.getAllResponseHeaders()))}},r.onload=o(),s=r.onerror=r.ontimeout=o("error"),void 0!==r.onabort?r.onabort=s:r.onreadystatechange=function(){4===r.readyState&&x.setTimeout(function(){o&&s()})},o=o("abort");try{r.send(i.hasContent&&i.data||null)}catch(e){if(o)throw e}},abort:function(){o&&o()}}}),C.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),C.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return C.globalEval(e),e}}}),C.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),C.ajaxTransport("script",function(n){var r,i;if(n.crossDomain||n.scriptAttrs)return{send:function(e,t){r=C("<script>").attr(n.scriptAttrs||{}).prop({charset:n.scriptCharset,src:n.url}).on("load error",i=function(e){r.remove(),i=null,e&&t("error"===e.type?404:200,e.type)}),w.head.appendChild(r[0])},abort:function(){i&&i()}}}),[]),Kt=/(=)\?(?=&|$)|\?\?/,Qt=(C.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Yt.pop()||C.expando+"_"+Tt.guid++;return this[e]=!0,e}}),C.ajaxPrefilter("json jsonp",function(e,t,n){var r,i,o,s=!1!==e.jsonp&&(Kt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Kt.test(e.data)&&"data");if(s||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=b(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(Kt,"$1"+r):!1!==e.jsonp&&(e.url+=(Nt.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return o||C.error(r+" was not called"),o[0]},e.dataTypes[0]="json",i=x[r],x[r]=function(){o=arguments},n.always(function(){void 0===i?C(x).removeProp(r):x[r]=i,e[r]&&(e.jsonpCallback=t.jsonpCallback,Yt.push(r)),o&&b(i)&&i(o[0]),o=i=void 0}),"script"}),m.createHTMLDocument=((o=w.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===o.childNodes.length),C.parseHTML=function(e,t,n){var r;return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(m.createHTMLDocument?((r=(t=w.implementation.createHTMLDocument("")).createElement("base")).href=w.location.href,t.head.appendChild(r)):t=w),r=!n&&[],(n=Q.exec(e))?[t.createElement(n[1])]:(n=Ee([e],t,r),r&&r.length&&C(r).remove(),C.merge([],n.childNodes)))},C.fn.load=function(e,t,n){var r,i,o,s=this,a=e.indexOf(" ");return-1<a&&(r=R(e.slice(a)),e=e.slice(0,a)),b(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),0<s.length&&C.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,s.html(r?C("<div>").append(C.parseHTML(e)).find(r):e)}).always(n&&function(e,t){s.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},C.expr.pseudos.animated=function(t){return C.grep(C.timers,function(e){return t===e.elem}).length},C.offset={setOffset:function(e,t,n){var r,i,o,s,a=C.css(e,"position"),l=C(e),c={};"static"===a&&(e.style.position="relative"),o=l.offset(),r=C.css(e,"top"),s=C.css(e,"left"),a=("absolute"===a||"fixed"===a)&&-1<(r+s).indexOf("auto")?(i=(a=l.position()).top,a.left):(i=parseFloat(r)||0,parseFloat(s)||0),null!=(t=b(t)?t.call(e,n,C.extend({},o)):t).top&&(c.top=t.top-o.top+i),null!=t.left&&(c.left=t.left-o.left+a),"using"in t?t.using.call(e,c):l.css(c)}},C.fn.extend({offset:function(t){var e,n;return arguments.length?void 0===t?this:this.each(function(e){C.offset.setOffset(this,t,e)}):(n=this[0])?n.getClientRects().length?(e=n.getBoundingClientRect(),n=n.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===C.css(r,"position"))t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===C.css(e,"position");)e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=C(e).offset()).top+=C.css(e,"borderTopWidth",!0),i.left+=C.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-C.css(r,"marginTop",!0),left:t.left-i.left-C.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===C.css(e,"position");)e=e.offsetParent;return e||S})}}),C.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,i){var o="pageYOffset"===i;C.fn[t]=function(e){return h(this,function(e,t,n){var r;if(g(e)?r=e:9===e.nodeType&&(r=e.defaultView),void 0===n)return r?r[i]:e[t];r?r.scrollTo(o?r.pageXOffset:n,o?n:r.pageYOffset):e[t]=n},t,e,arguments.length)}}),C.each(["top","left"],function(e,n){C.cssHooks[n]=tt(m.pixelPosition,function(e,t){if(t)return t=et(e,n),$e.test(t)?C(e).position()[n]+"px":t})}),C.each({Height:"height",Width:"width"},function(s,a){C.each({padding:"inner"+s,content:a,"":"outer"+s},function(r,o){C.fn[o]=function(e,t){var n=arguments.length&&(r||"boolean"!=typeof e),i=r||(!0===e||!0===t?"margin":"border");return h(this,function(e,t,n){var r;return g(e)?0===o.indexOf("outer")?e["inner"+s]:e.document.documentElement["client"+s]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+s],r["scroll"+s],e.body["offset"+s],r["offset"+s],r["client"+s])):void 0===n?C.css(e,t,i):C.style(e,t,n,i)},a,n?e:void 0,n)}})}),C.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){C.fn[t]=function(e){return this.on(t,e)}}),C.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),C.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,n){C.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}}),/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g),Jt=(C.proxy=function(e,t){var n,r;if("string"==typeof t&&(r=e[t],t=e,e=r),b(e))return n=a.call(arguments,2),(r=function(){return e.apply(t||this,n.concat(a.call(arguments)))}).guid=e.guid=e.guid||C.guid++,r},C.holdReady=function(e){e?C.readyWait++:C.ready(!0)},C.isArray=Array.isArray,C.parseJSON=JSON.parse,C.nodeName=l,C.isFunction=b,C.isWindow=g,C.camelCase=y,C.type=p,C.now=Date.now,C.isNumeric=function(e){var t=C.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},C.trim=function(e){return null==e?"":(e+"").replace(Qt,"$1")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return C}),x.jQuery),Zt=x.$;return C.noConflict=function(e){return x.$===C&&(x.$=Zt),e&&x.jQuery===C&&(x.jQuery=Jt),C},void 0===I&&(x.jQuery=x.$=C),C})},{}],7:[function(e,i,o){!function(It){!function(){var e,t,n,r;e=this,t=function(){var e="object"==typeof self&&self.self===self&&self||"object"==typeof It&&It.global===It&&It||Function("return this")()||{},r=Array.prototype,I=Object.prototype,P="undefined"!=typeof Symbol?Symbol.prototype:null,B=r.push,l=r.slice,h=I.toString,H=I.hasOwnProperty,t="undefined"!=typeof ArrayBuffer,n="undefined"!=typeof DataView,F=Array.isArray,q=Object.keys,z=Object.create,V=t&&ArrayBuffer.isView,W=isNaN,G=isFinite,U=!{toString:null}.propertyIsEnumerable("toString"),X=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],$=Math.pow(2,53)-1;function u(i,o){return o=null==o?i.length-1:+o,function(){for(var e=Math.max(arguments.length-o,0),t=Array(e),n=0;n<e;n++)t[n]=arguments[n+o];switch(o){case 0:return i.call(this,t);case 1:return i.call(this,arguments[0],t);case 2:return i.call(this,arguments[0],arguments[1],t)}for(var r=Array(o+1),n=0;n<o;n++)r[n]=arguments[n];return r[o]=t,i.apply(this,r)}}function o(e){var t=typeof e;return"function"==t||"object"==t&&!!e}function Y(e){return void 0===e}function K(e){return!0===e||!1===e||"[object Boolean]"===h.call(e)}function i(e){var t="[object "+e+"]";return function(e){return h.call(e)===t}}var Q=i("String"),J=i("Number"),s=i("Date"),Z=i("RegExp"),ee=i("Error"),te=i("Symbol"),ne=i("ArrayBuffer"),a=i("Function"),e=e.document&&e.document.childNodes,d=a="function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof e?function(e){return"function"==typeof e||!1}:a,e=i("Object"),re=n&&e(new DataView(new ArrayBuffer(8))),a="undefined"!=typeof Map&&e(new Map),n=i("DataView");var f=re?function(e){return null!=e&&d(e.getInt8)&&ne(e.buffer)}:n,p=F||i("Array");function g(e,t){return null!=e&&H.call(e,t)}var ie=i("Arguments"),oe=(!function(){ie(arguments)||(ie=function(e){return g(e,"callee")})}(),ie);function se(e){return J(e)&&W(e)}function ae(e){return function(){return e}}function le(t){return function(e){e=t(e);return"number"==typeof e&&0<=e&&e<=$}}function ce(t){return function(e){return null==e?void 0:e[t]}}var m=ce("byteLength"),ue=le(m),he=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;var de=t?function(e){return V?V(e)&&!f(e):ue(e)&&he.test(h.call(e))}:ae(!1),v=ce("length");function fe(e,t){t=function(t){for(var n={},e=t.length,r=0;r<e;++r)n[t[r]]=!0;return{contains:function(e){return!0===n[e]},push:function(e){return n[e]=!0,t.push(e)}}}(t);var n=X.length,r=e.constructor,i=d(r)&&r.prototype||I,o="constructor";for(g(e,o)&&!t.contains(o)&&t.push(o);n--;)(o=X[n])in e&&e[o]!==i[o]&&!t.contains(o)&&t.push(o)}function b(e){if(!o(e))return[];if(q)return q(e);var t,n=[];for(t in e)g(e,t)&&n.push(t);return U&&fe(e,n),n}function pe(e,t){var n=b(t),r=n.length;if(null==e)return!r;for(var i=Object(e),o=0;o<r;o++){var s=n[o];if(t[s]!==i[s]||!(s in i))return!1}return!0}function y(e){return e instanceof y?e:this instanceof y?void(this._wrapped=e):new y(e)}function ge(e){return new Uint8Array(e.buffer||e,e.byteOffset||0,m(e))}y.VERSION="1.13.6",y.prototype.valueOf=y.prototype.toJSON=y.prototype.value=function(){return this._wrapped},y.prototype.toString=function(){return String(this._wrapped)};var me="[object DataView]";function ve(e,t,n,r){var i;return e===t?0!==e||1/e==1/t:null!=e&&null!=t&&(e!=e?t!=t:("function"==(i=typeof e)||"object"==i||"object"==typeof t)&&function e(t,n,r,i){t instanceof y&&(t=t._wrapped);n instanceof y&&(n=n._wrapped);var o=h.call(t);if(o!==h.call(n))return!1;if(re&&"[object Object]"==o&&f(t)){if(!f(n))return!1;o=me}switch(o){case"[object RegExp]":case"[object String]":return""+t==""+n;case"[object Number]":return+t!=+t?+n!=+n:0==+t?1/+t==1/n:+t==+n;case"[object Date]":case"[object Boolean]":return+t==+n;case"[object Symbol]":return P.valueOf.call(t)===P.valueOf.call(n);case"[object ArrayBuffer]":case me:return e(ge(t),ge(n),r,i)}o="[object Array]"===o;if(!o&&de(t)){var s=m(t);if(s!==m(n))return!1;if(t.buffer===n.buffer&&t.byteOffset===n.byteOffset)return!0;o=!0}if(!o){if("object"!=typeof t||"object"!=typeof n)return!1;var s=t.constructor,a=n.constructor;if(s!==a&&!(d(s)&&s instanceof s&&d(a)&&a instanceof a)&&"constructor"in t&&"constructor"in n)return!1}r=r||[];i=i||[];var l=r.length;for(;l--;)if(r[l]===t)return i[l]===n;r.push(t);i.push(n);if(o){if((l=t.length)!==n.length)return!1;for(;l--;)if(!ve(t[l],n[l],r,i))return!1}else{var c,u=b(t);if(l=u.length,b(n).length!==l)return!1;for(;l--;)if(c=u[l],!g(n,c)||!ve(t[c],n[c],r,i))return!1}r.pop();i.pop();return!0}(e,t,n,r))}function c(e){if(!o(e))return[];var t,n=[];for(t in e)n.push(t);return U&&fe(e,n),n}function be(r){var i=v(r);return function(e){if(null==e)return!1;var t=c(e);if(v(t))return!1;for(var n=0;n<i;n++)if(!d(e[r[n]]))return!1;return r!==_e||!d(e[ye])}}var ye="forEach",e=["clear","delete"],n=["get","has","set"],F=e.concat(ye,n),_e=e.concat(n),t=["add"].concat(e,ye,"has"),n=a?be(F):i("Map"),e=a?be(_e):i("WeakMap"),F=a?be(t):i("Set"),a=i("WeakSet");function _(e){for(var t=b(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=e[t[i]];return r}function xe(e){for(var t={},n=b(e),r=0,i=n.length;r<i;r++)t[e[n[r]]]=n[r];return t}function we(e){var t,n=[];for(t in e)d(e[t])&&n.push(t);return n.sort()}function Ce(l,c){return function(e){var t=arguments.length;if(c&&(e=Object(e)),!(t<2||null==e))for(var n=1;n<t;n++)for(var r=arguments[n],i=l(r),o=i.length,s=0;s<o;s++){var a=i[s];c&&void 0!==e[a]||(e[a]=r[a])}return e}}var ke=Ce(c),x=Ce(b),Se=Ce(c,!0);function Ee(e){var t;return o(e)?z?z(e):((t=function(){}).prototype=e,e=new t,t.prototype=null,e):{}}function Ae(e){return p(e)?e:[e]}function w(e){return y.toPath(e)}function Te(e,t){for(var n=t.length,r=0;r<n;r++){if(null==e)return;e=e[t[r]]}return n?e:void 0}function Ne(e,t,n){e=Te(e,w(t));return Y(e)?n:e}function je(e){return e}function C(t){return t=x({},t),function(e){return pe(e,t)}}function Le(t){return t=w(t),function(e){return Te(e,t)}}function k(i,o,e){if(void 0===o)return i;switch(null==e?3:e){case 1:return function(e){return i.call(o,e)};case 3:return function(e,t,n){return i.call(o,e,t,n)};case 4:return function(e,t,n,r){return i.call(o,e,t,n,r)}}return function(){return i.apply(o,arguments)}}function Me(e,t,n){return null==e?je:d(e)?k(e,t,n):(o(e)&&!p(e)?C:Le)(e)}function Oe(e,t){return Me(e,t,1/0)}function S(e,t,n){return y.iteratee!==Oe?y.iteratee(e,t):Me(e,t,n)}function Re(){}function De(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))}y.toPath=Ae,y.iteratee=Oe;var E=Date.now||function(){return(new Date).getTime()};function Ie(t){function n(e){return t[e]}var e="(?:"+b(t).join("|")+")",r=RegExp(e),i=RegExp(e,"g");return function(e){return r.test(e=null==e?"":""+e)?e.replace(i,n):e}}var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},Pe=Ie(t),t=Ie(xe(t)),Be=y.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},He=/(.)^/,Fe={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},qe=/\\|'|\r|\n|\u2028|\u2029/g;function ze(e){return"\\"+Fe[e]}var Ve=/^\s*(\w|\$)+\s*$/;var We=0;function Ge(e,t,n,r,i){return r instanceof t?(r=Ee(e.prototype),o(t=e.apply(r,i))?t:r):e.apply(n,i)}var A=u(function(i,o){function s(){for(var e=0,t=o.length,n=Array(t),r=0;r<t;r++)n[r]=o[r]===a?arguments[e++]:o[r];for(;e<arguments.length;)n.push(arguments[e++]);return Ge(i,s,this,this,n)}var a=A.placeholder;return s}),Ue=(A.placeholder=y,u(function(t,n,r){var i;if(d(t))return i=u(function(e){return Ge(t,i,n,this,r.concat(e))});throw new TypeError("Bind must be called on a function")})),T=le(v);function N(e,t,n,r){if(r=r||[],t||0===t){if(t<=0)return r.concat(e)}else t=1/0;for(var i=r.length,o=0,s=v(e);o<s;o++){var a=e[o];if(T(a)&&(p(a)||oe(a)))if(1<t)N(a,t-1,n,r),i=r.length;else for(var l=0,c=a.length;l<c;)r[i++]=a[l++];else n||(r[i++]=a)}return r}var Xe=u(function(e,t){var n=(t=N(t,!1,!1)).length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var r=t[n];e[r]=Ue(e[r],e)}return e});var $e=u(function(e,t,n){return setTimeout(function(){return e.apply(null,n)},t)}),Ye=A($e,y,1);function Ke(e){return function(){return!e.apply(this,arguments)}}function Qe(e,t){var n;return function(){return 0<--e&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}}var Je=A(Qe,2);function Ze(e,t,n){t=S(t,n);for(var r,i=b(e),o=0,s=i.length;o<s;o++)if(t(e[r=i[o]],r,e))return r}function et(o){return function(e,t,n){t=S(t,n);for(var r=v(e),i=0<o?0:r-1;0<=i&&i<r;i+=o)if(t(e[i],i,e))return i;return-1}}var tt=et(1),nt=et(-1);function rt(e,t,n,r){for(var i=(n=S(n,r,1))(t),o=0,s=v(e);o<s;){var a=Math.floor((o+s)/2);n(e[a])<i?o=a+1:s=a}return o}function it(o,s,a){return function(e,t,n){var r=0,i=v(e);if("number"==typeof n)0<o?r=0<=n?n:Math.max(n+i,r):i=0<=n?Math.min(n+1,i):n+i+1;else if(a&&n&&i)return e[n=a(e,t)]===t?n:-1;if(t!=t)return 0<=(n=s(l.call(e,r,i),se))?n+r:-1;for(n=0<o?r:i-1;0<=n&&n<i;n+=o)if(e[n]===t)return n;return-1}}var ot=it(1,tt,rt),st=it(-1,nt);function at(e,t,n){t=(T(e)?tt:Ze)(e,t,n);if(void 0!==t&&-1!==t)return e[t]}function j(e,t,n){if(t=k(t,n),T(e))for(i=0,o=e.length;i<o;i++)t(e[i],i,e);else for(var r=b(e),i=0,o=r.length;i<o;i++)t(e[r[i]],r[i],e);return e}function L(e,t,n){t=S(t,n);for(var r=!T(e)&&b(e),i=(r||e).length,o=Array(i),s=0;s<i;s++){var a=r?r[s]:s;o[s]=t(e[a],a,e)}return o}function lt(d){return function(e,t,n,r){var i=3<=arguments.length,o=e,s=k(t,r,4),a=n,l=!T(o)&&b(o),c=(l||o).length,u=0<d?0:c-1;for(i||(a=o[l?l[u]:u],u+=d);0<=u&&u<c;u+=d){var h=l?l[u]:u;a=s(a,o[h],h,o)}return a}}var ct=lt(1),ut=lt(-1);function M(e,r,t){var i=[];return r=S(r,t),j(e,function(e,t,n){r(e,t,n)&&i.push(e)}),i}function ht(e,t,n){t=S(t,n);for(var r=!T(e)&&b(e),i=(r||e).length,o=0;o<i;o++){var s=r?r[o]:o;if(!t(e[s],s,e))return!1}return!0}function dt(e,t,n){t=S(t,n);for(var r=!T(e)&&b(e),i=(r||e).length,o=0;o<i;o++){var s=r?r[o]:o;if(t(e[s],s,e))return!0}return!1}function O(e,t,n,r){return T(e)||(e=_(e)),0<=ot(e,t,n="number"==typeof n&&!r?n:0)}var ft=u(function(e,n,r){var i,o;return d(n)?o=n:(n=w(n),i=n.slice(0,-1),n=n[n.length-1]),L(e,function(e){var t=o;if(!t){if(null==(e=i&&i.length?Te(e,i):e))return;t=e[n]}return null==t?t:t.apply(e,r)})});function pt(e,t){return L(e,Le(t))}function gt(e,r,t){var n,i,o=-1/0,s=-1/0;if(null==r||"number"==typeof r&&"object"!=typeof e[0]&&null!=e)for(var a=0,l=(e=T(e)?e:_(e)).length;a<l;a++)null!=(n=e[a])&&o<n&&(o=n);else r=S(r,t),j(e,function(e,t,n){i=r(e,t,n),(s<i||i===-1/0&&o===-1/0)&&(o=e,s=i)});return o}var mt=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function vt(e){return e?p(e)?l.call(e):Q(e)?e.match(mt):T(e)?L(e,je):_(e):[]}function bt(e,t,n){if(null==t||n)return(e=T(e)?e:_(e))[De(e.length-1)];for(var r=vt(e),n=v(r),i=(t=Math.max(Math.min(t,n),0),n-1),o=0;o<t;o++){var s=De(o,i),a=r[o];r[o]=r[s],r[s]=a}return r.slice(0,t)}function R(o,t){return function(n,r,e){var i=t?[[],[]]:{};return r=S(r,e),j(n,function(e,t){t=r(e,t,n);o(i,e,t)}),i}}var yt=R(function(e,t,n){g(e,n)?e[n].push(t):e[n]=[t]}),_t=R(function(e,t,n){e[n]=t}),xt=R(function(e,t,n){g(e,n)?e[n]++:e[n]=1}),wt=R(function(e,t,n){e[n?0:1].push(t)},!0);function Ct(e,t,n){return t in n}var kt=u(function(e,t){var n={},r=t[0];if(null!=e){d(r)?(1<t.length&&(r=k(r,t[1])),t=c(e)):(r=Ct,t=N(t,!1,!1),e=Object(e));for(var i=0,o=t.length;i<o;i++){var s=t[i],a=e[s];r(a,s,e)&&(n[s]=a)}}return n}),St=u(function(e,n){var t,r=n[0];return d(r)?(r=Ke(r),1<n.length&&(t=n[1])):(n=L(N(n,!1,!1),String),r=function(e,t){return!O(n,t)}),kt(e,r,t)});function Et(e,t,n){return l.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))}function At(e,t,n){return null==e||e.length<1?null==t||n?void 0:[]:null==t||n?e[0]:Et(e,e.length-t)}function D(e,t,n){return l.call(e,null==t||n?1:t)}var Tt=u(function(e,t){return t=N(t,!0,!0),M(e,function(e){return!O(t,e)})}),Nt=u(function(e,t){return Tt(e,t)});function jt(e,t,n,r){K(t)||(r=n,n=t,t=!1),null!=n&&(n=S(n,r));for(var i=[],o=[],s=0,a=v(e);s<a;s++){var l=e[s],c=n?n(l,s,e):l;t&&!n?(s&&o===c||i.push(l),o=c):n?O(o,c)||(o.push(c),i.push(l)):O(i,l)||i.push(l)}return i}var Lt=u(function(e){return jt(N(e,!0,!0))});function Mt(e){for(var t=e&&gt(e,v).length||0,n=Array(t),r=0;r<t;r++)n[r]=pt(e,r);return n}var Ot=u(Mt);function Rt(e,t){return e._chain?y(t).chain():t}function Dt(n){return j(we(n),function(e){var t=y[e]=n[e];y.prototype[e]=function(){var e=[this._wrapped];return B.apply(e,arguments),Rt(this,t.apply(y,e))}}),y}j(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var n=r[t];y.prototype[t]=function(){var e=this._wrapped;return null!=e&&(n.apply(e,arguments),"shift"!==t&&"splice"!==t||0!==e.length||delete e[0]),Rt(this,e)}}),j(["concat","join","slice"],function(e){var t=r[e];y.prototype[e]=function(){var e=this._wrapped;return Rt(this,e=null!=e?t.apply(e,arguments):e)}});s=Dt({__proto__:null,VERSION:"1.13.6",restArguments:u,isObject:o,isNull:function(e){return null===e},isUndefined:Y,isBoolean:K,isElement:function(e){return!(!e||1!==e.nodeType)},isString:Q,isNumber:J,isDate:s,isRegExp:Z,isError:ee,isSymbol:te,isArrayBuffer:ne,isDataView:f,isArray:p,isFunction:d,isArguments:oe,isFinite:function(e){return!te(e)&&G(e)&&!isNaN(parseFloat(e))},isNaN:se,isTypedArray:de,isEmpty:function(e){var t;return null==e||("number"==typeof(t=v(e))&&(p(e)||Q(e)||oe(e))?0===t:0===v(b(e)))},isMatch:pe,isEqual:function(e,t){return ve(e,t)},isMap:n,isWeakMap:e,isSet:F,isWeakSet:a,keys:b,allKeys:c,values:_,pairs:function(e){for(var t=b(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=[t[i],e[t[i]]];return r},invert:xe,functions:we,methods:we,extend:ke,extendOwn:x,assign:x,defaults:Se,create:function(e,t){return e=Ee(e),t&&x(e,t),e},clone:function(e){return o(e)?p(e)?e.slice():ke({},e):e},tap:function(e,t){return t(e),e},get:Ne,has:function(e,t){for(var n=(t=w(t)).length,r=0;r<n;r++){var i=t[r];if(!g(e,i))return!1;e=e[i]}return!!n},mapObject:function(e,t,n){t=S(t,n);for(var r=b(e),i=r.length,o={},s=0;s<i;s++){var a=r[s];o[a]=t(e[a],a,e)}return o},identity:je,constant:ae,noop:Re,toPath:Ae,property:Le,propertyOf:function(t){return null==t?Re:function(e){return Ne(t,e)}},matcher:C,matches:C,times:function(e,t,n){var r=Array(Math.max(0,e));t=k(t,n,1);for(var i=0;i<e;i++)r[i]=t(i);return r},random:De,now:E,escape:Pe,unescape:t,templateSettings:Be,template:function(o,e,t){e=Se({},e=!e&&t?t:e,y.templateSettings);var n,t=RegExp([(e.escape||He).source,(e.interpolate||He).source,(e.evaluate||He).source].join("|")+"|$","g"),s=0,a="__p+='";if(o.replace(t,function(e,t,n,r,i){return a+=o.slice(s,i).replace(qe,ze),s=i+e.length,t?a+="'+\n((__t=("+t+"))==null?'':_.escape(__t))+\n'":n?a+="'+\n((__t=("+n+"))==null?'':__t)+\n'":r&&(a+="';\n"+r+"\n__p+='"),e}),a+="';\n",t=e.variable){if(!Ve.test(t))throw new Error("variable is not a bare identifier: "+t)}else a="with(obj||{}){\n"+a+"}\n",t="obj";a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{n=new Function(t,"_",a)}catch(e){throw e.source=a,e}function r(e){return n.call(this,e,y)}return r.source="function("+t+"){\n"+a+"}",r},result:function(e,t,n){var r=(t=w(t)).length;if(!r)return d(n)?n.call(e):n;for(var i=0;i<r;i++){var o=null==e?void 0:e[t[i]];void 0===o&&(o=n,i=r),e=d(o)?o.call(e):o}return e},uniqueId:function(e){var t=++We+"";return e?e+t:t},chain:function(e){return(e=y(e))._chain=!0,e},iteratee:Oe,partial:A,bind:Ue,bindAll:Xe,memoize:function(r,i){function o(e){var t=o.cache,n=""+(i?i.apply(this,arguments):e);return g(t,n)||(t[n]=r.apply(this,arguments)),t[n]}return o.cache={},o},delay:$e,defer:Ye,throttle:function(n,r,i){function o(){u=!1===i.leading?0:E(),s=null,c=n.apply(a,l),s||(a=l=null)}function e(){var e=E(),t=(u||!1!==i.leading||(u=e),r-(e-u));return a=this,l=arguments,t<=0||r<t?(s&&(clearTimeout(s),s=null),u=e,c=n.apply(a,l),s||(a=l=null)):s||!1===i.trailing||(s=setTimeout(o,t)),c}var s,a,l,c,u=0;return i=i||{},e.cancel=function(){clearTimeout(s),u=0,s=a=l=null},e},debounce:function(t,n,r){function i(){var e=E()-s;e<n?o=setTimeout(i,n-e):(o=null,r||(l=t.apply(c,a)),o||(a=c=null))}var o,s,a,l,c,e=u(function(e){return c=this,a=e,s=E(),o||(o=setTimeout(i,n),r&&(l=t.apply(c,a))),l});return e.cancel=function(){clearTimeout(o),o=a=c=null},e},wrap:function(e,t){return A(t,e)},negate:Ke,compose:function(){var n=arguments,r=n.length-1;return function(){for(var e=r,t=n[r].apply(this,arguments);e--;)t=n[e].call(this,t);return t}},after:function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},before:Qe,once:Je,findKey:Ze,findIndex:tt,findLastIndex:nt,sortedIndex:rt,indexOf:ot,lastIndexOf:st,find:at,detect:at,findWhere:function(e,t){return at(e,C(t))},each:j,forEach:j,map:L,collect:L,reduce:ct,foldl:ct,inject:ct,reduceRight:ut,foldr:ut,filter:M,select:M,reject:function(e,t,n){return M(e,Ke(S(t)),n)},every:ht,all:ht,some:dt,any:dt,contains:O,includes:O,include:O,invoke:ft,pluck:pt,where:function(e,t){return M(e,C(t))},max:gt,min:function(e,r,t){var n,i,o=1/0,s=1/0;if(null==r||"number"==typeof r&&"object"!=typeof e[0]&&null!=e)for(var a=0,l=(e=T(e)?e:_(e)).length;a<l;a++)null!=(n=e[a])&&n<o&&(o=n);else r=S(r,t),j(e,function(e,t,n){((i=r(e,t,n))<s||i===1/0&&o===1/0)&&(o=e,s=i)});return o},shuffle:function(e){return bt(e,1/0)},sample:bt,sortBy:function(e,r,t){var i=0;return r=S(r,t),pt(L(e,function(e,t,n){return{value:e,index:i++,criteria:r(e,t,n)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(r<n||void 0===n)return 1;if(n<r||void 0===r)return-1}return e.index-t.index}),"value")},groupBy:yt,indexBy:_t,countBy:xt,partition:wt,toArray:vt,size:function(e){return null==e?0:(T(e)?e:b(e)).length},pick:kt,omit:St,first:At,head:At,take:At,initial:Et,last:function(e,t,n){return null==e||e.length<1?null==t||n?void 0:[]:null==t||n?e[e.length-1]:D(e,Math.max(0,e.length-t))},rest:D,tail:D,drop:D,compact:function(e){return M(e,Boolean)},flatten:function(e,t){return N(e,t,!1)},without:Nt,uniq:jt,unique:jt,union:Lt,intersection:function(e){for(var t=[],n=arguments.length,r=0,i=v(e);r<i;r++){var o=e[r];if(!O(t,o)){for(var s=1;s<n&&O(arguments[s],o);s++);s===n&&t.push(o)}}return t},difference:Tt,unzip:Mt,transpose:Mt,zip:Ot,object:function(e,t){for(var n={},r=0,i=v(e);r<i;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},range:function(e,t,n){null==t&&(t=e||0,e=0),n=n||(t<e?-1:1);for(var r=Math.max(Math.ceil((t-e)/n),0),i=Array(r),o=0;o<r;o++,e+=n)i[o]=e;return i},chunk:function(e,t){if(null==t||t<1)return[];for(var n=[],r=0,i=e.length;r<i;)n.push(l.call(e,r,r+=t));return n},mixin:Dt,default:y});return s._=s},"object"==typeof o&&void 0!==i?i.exports=t():"function"==typeof define&&define.amd?define("underscore",t):(e="undefined"!=typeof globalThis?globalThis:e||self,n=e._,(r=e._=t()).noConflict=function(){return e._=n,r})}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],8:[function(e,t,n){"use strict";var o,s,a,l,c;e("./helpers"),e("jquery"),e("underscore"),s=e("./visualizer/visualizer"),o=e("dat-gui"),a=e("./model/world"),c=e("./settings"),l=e("./maps"),function(o,s){var a=o.length;new MutationObserver(function(e,i){return e.forEach(function(e){var t,n,r;if("childList"===e.type&&0<e.addedNodes.length){for(t=0,r=o.length;t<r;t++)n=o[t],document.getElementById(n)&&--a;if(0===a)return s(),i.disconnect()}})}).observe(document.body,{childList:!0,subtree:!0})}(["canvas","gui"],function(){var e,t,n,r,i;for(i in console.log("App started --\x3e "+(new Date).toLocaleTimeString()),window.settings=c,window.world=new a,world.load(),0===world.intersections.length&&(world.generateMap(),world.carsNumber=c.carsNumber),window.visualizer=new s(world),visualizer.start(),(e=new o.GUI({autoPlace:!1})).domElement.id="dat_gui",document.getElementById("gui").appendChild(e.domElement),(r=e.addFolder("world")).open(),r.add(world,"save"),r.add(world,"load"),r.add(world,"clear"),r.add(world,"generateMap"),r.add(world,"addMyCar"),(n=e.addFolder("visualizer")).open(),n.add(visualizer,"running").listen(),e.add(c,"debug").listen(),e.add(c,"showRedLights").listen(),e.add(c,"triangles").listen(),n.add(visualizer.zoomer,"scale",.1,2).listen(),n.add(visualizer,"timeFactor",.1,10).listen(),r.add(world,"carsNumber").min(0).max(200).step(1).listen(),r.add(world,"instantSpeed").step(1e-5).listen(),e.add(c,"lightsFlipInterval",0,400,.01).listen(),t=e.addFolder("saved maps"),l)l[i],console.log("adding map",i),t.add(world,i);t.open()})},{"./helpers":13,"./maps":14,"./model/world":23,"./settings":24,"./visualizer/visualizer":32,"dat-gui":2,jquery:6,underscore:7}],9:[function(e,t,n){"use strict";var i;e("../helpers"),i=e("./segment"),e=function(){class e{constructor(e,t,n,r){this.A=e,this.B=t,this.O=n,this.Q=r,this.AB=new i(this.A,this.B),this.AO=new i(this.A,this.O),this.OQ=new i(this.O,this.Q),this.QB=new i(this.Q,this.B),this._length=null}getPoint(e){var t=this.AO.getPoint(e),n=this.OQ.getPoint(e),r=this.QB.getPoint(e),t=new i(t,n).getPoint(e),n=new i(n,r).getPoint(e);return new i(t,n).getPoint(e)}getDirection(e){var t=this.AO.getPoint(e),n=this.OQ.getPoint(e),r=this.QB.getPoint(e),t=new i(t,n).getPoint(e),n=new i(n,r).getPoint(e);return new i(t,n).direction}}return e.property("length",{get:function(){var e,t,n,r;if(null==this._length)for(r=null,e=t=this._length=0,0;t<=10;e=++t)n=this.getPoint(e/10),r&&(this._length+=n.subtract(r).length),r=n;return this._length}}),e}.call(this),t.exports=e},{"../helpers":13,"./segment":12}],10:[function(e,t,n){"use strict";var r,i;({sqrt:i,atan2:r}=Math),e("../helpers"),e=function(){class t{constructor(e=0,t=0){this.x=e,this.y=t}add(e){return new t(this.x+e.x,this.y+e.y)}subtract(e){return new t(this.x-e.x,this.y-e.y)}mult(e){return new t(this.x*e,this.y*e)}divide(e){return new t(this.x/e,this.y/e)}}return t.property("length",{get:function(){return i(this.x*this.x+this.y*this.y)}}),t.property("direction",{get:function(){return r(this.y,this.x)}}),t.property("normalized",{get:function(){return new t(this.x/this.length,this.y/this.length)}}),t}.call(this),t.exports=e},{"../helpers":13}],11:[function(e,t,n){"use strict";var r,i,o,s,a;a=Math.abs,e("../helpers"),s=e("underscore"),r=e("./point"),o=e("./segment"),t.exports=i=class i{constructor(e,t,n=0,r=0){this.x=e,this.y=t,this._width=n,this._height=r}static copy(e){return new i(e.x,e.y,e._width,e._height)}toJSON(){return s.extend({},this)}area(){return this.width()*this.height()}left(e){return null!=e&&(this.x=e),this.x}right(e){return null!=e&&(this.x=e-this.width()),this.x+this.width()}width(e){return null!=e&&(this._width=e),this._width}top(e){return null!=e&&(this.y=e),this.y}bottom(e){return null!=e&&(this.y=e-this.height()),this.y+this.height()}height(e){return null!=e&&(this._height=e),this._height}center(e){return null!=e&&(this.x=e.x-this.width()/2,this.y=e.y-this.height()/2),new r(this.x+this.width()/2,this.y+this.height()/2)}containsPoint(e){var t;return this.left()<=(t=e.x)&&t<=this.right()&&this.top()<=(t=e.y)&&t<=this.bottom()}containsRect(e){return this.left()<=e.left()&&e.right()<=this.right()&&this.top()<=e.top()&&e.bottom()<=this.bottom()}getVertices(){return[new r(this.left(),this.top()),new r(this.right(),this.top()),new r(this.right(),this.bottom()),new r(this.left(),this.bottom())]}getSide(e){var t=this.getVertices();return new o(t[e],t[(e+1)%4])}getSectorId(e){e=e.subtract(this.center());if(e.y<=0&&a(e.x)<=a(e.y))return 0;if(0<=e.x&&a(e.x)>=a(e.y))return 1;if(0<=e.y&&a(e.x)<=a(e.y))return 2;if(e.x<=0&&a(e.x)>=a(e.y))return 3;throw Error("algorithm error")}getSector(e){return this.getSide(this.getSectorId(e))}}},{"../helpers":13,"./point":10,"./segment":12,underscore:7}],12:[function(e,t,n){"use strict";e("../helpers"),e=function(){class r{constructor(e,t){this.source=e,this.target=t}split(r,e){for(var t,n,i=(e?function(){for(var e=[],t=n=r-1;n<=0?t<=0:0<=t;n<=0?t++:t--)e.push(t);return e}:function(){for(var e=[],t=0,n=r-1;0<=n?t<=n:n<=t;0<=n?t++:t--)e.push(t);return e}).apply(this),o=[],s=0,a=i.length;s<a;s++)t=i[s],o.push(this.subsegment(t/r,(t+1)/r));return o}getPoint(e){return this.source.add(this.vector.mult(e))}subsegment(e,t){var n=this.vector,e=this.source.add(n.mult(e)),n=this.source.add(n.mult(t));return new r(e,n)}}return r.property("vector",{get:function(){return this.target.subtract(this.source)}}),r.property("length",{get:function(){return this.vector.length}}),r.property("direction",{get:function(){return this.vector.direction}}),r.property("center",{get:function(){return this.getPoint(.5)}}),r}.call(this),t.exports=e},{"../helpers":13}],13:[function(e,t,n){"use strict";var r;Function.prototype.property=function(e,t){return Object.defineProperty(this.prototype,e,t)},r={},t.exports=function(e){return e+(++r[e]||(r[e]=1))}},{}],14:[function(e,t,n){"use strict";t.exports={map_media:{intersections:{intersection1:{id:"intersection1",rect:{x:-56,y:-70,_width:14,_height:14},controlSignals:{flipMultiplier:.49333182358600114,phaseOffset:36.003182098761854}},intersection2:{id:"intersection2",rect:{x:-56,y:-28,_width:14,_height:14},controlSignals:{flipMultiplier:.9931487871201317,phaseOffset:94.45425662419179}},intersection3:{id:"intersection3",rect:{x:-56,y:14,_width:14,_height:14},controlSignals:{flipMultiplier:.5111694993383065,phaseOffset:98.9535040345068}},intersection4:{id:"intersection4",rect:{x:-14,y:14,_width:14,_height:14},controlSignals:{flipMultiplier:.5204929088669135,phaseOffset:11.398725456699443}},intersection5:{id:"intersection5",rect:{x:28,y:14,_width:14,_height:14},controlSignals:{flipMultiplier:.3368730313018393,phaseOffset:76.21517814974356}},intersection6:{id:"intersection6",rect:{x:28,y:-28,_width:14,_height:14},controlSignals:{flipMultiplier:.6838292154389645,phaseOffset:16.695407344145806}},intersection7:{id:"intersection7",rect:{x:28,y:-70,_width:14,_height:14},controlSignals:{flipMultiplier:.05686790274246234,phaseOffset:91.24943975662923}},intersection8:{id:"intersection8",rect:{x:-14,y:-70,_width:14,_height:14},controlSignals:{flipMultiplier:.7500457945655898,phaseOffset:.17302231486515662}},intersection9:{id:"intersection9",rect:{x:-14,y:-28,_width:14,_height:14},controlSignals:{flipMultiplier:.060722805547838155,phaseOffset:35.01749440910415}}},roads:{road1:{id:"road1",source:"intersection8",target:"intersection9"},road2:{id:"road2",source:"intersection9",target:"intersection8"},road3:{id:"road3",source:"intersection9",target:"intersection6"},road4:{id:"road4",source:"intersection6",target:"intersection9"},road5:{id:"road5",source:"intersection6",target:"intersection5"},road6:{id:"road6",source:"intersection5",target:"intersection6"},road7:{id:"road7",source:"intersection5",target:"intersection4"},road8:{id:"road8",source:"intersection4",target:"intersection5"},road9:{id:"road9",source:"intersection4",target:"intersection3"},road10:{id:"road10",source:"intersection3",target:"intersection4"},road11:{id:"road11",source:"intersection3",target:"intersection2"},road12:{id:"road12",source:"intersection2",target:"intersection3"},road13:{id:"road13",source:"intersection2",target:"intersection1"},road14:{id:"road14",source:"intersection1",target:"intersection2"},road15:{id:"road15",source:"intersection1",target:"intersection8"},road16:{id:"road16",source:"intersection8",target:"intersection1"},road17:{id:"road17",source:"intersection8",target:"intersection7"},road18:{id:"road18",source:"intersection7",target:"intersection8"},road19:{id:"road19",source:"intersection7",target:"intersection6"},road20:{id:"road20",source:"intersection6",target:"intersection7"},road21:{id:"road21",source:"intersection9",target:"intersection4"},road22:{id:"road22",source:"intersection4",target:"intersection9"},road23:{id:"road23",source:"intersection9",target:"intersection2"},road24:{id:"road24",source:"intersection2",target:"intersection9"}},carsNumber:2,time:173.50094999999797},map_semplice:{intersections:{intersection21:{id:"intersection21",rect:{x:-42,y:0,_width:14,_height:14},controlSignals:{flipMultiplier:.9479743836461125,phaseOffset:94.66763575323544}},intersection22:{id:"intersection22",rect:{x:0,y:0,_width:14,_height:14},controlSignals:{flipMultiplier:.9741343229976489,phaseOffset:3.8664580723590136}},intersection23:{id:"intersection23",rect:{x:42,y:0,_width:14,_height:14},controlSignals:{flipMultiplier:.6763116557404703,phaseOffset:27.113770026741115}},intersection24:{id:"intersection24",rect:{x:42,y:-42,_width:14,_height:14},controlSignals:{flipMultiplier:.7196118014172435,phaseOffset:42.09140048192721}},intersection25:{id:"intersection25",rect:{x:0,y:-42,_width:14,_height:14},controlSignals:{flipMultiplier:.31777769449575577,phaseOffset:28.50633200161039}},intersection26:{id:"intersection26",rect:{x:-42,y:-42,_width:14,_height:14},controlSignals:{flipMultiplier:.050492654229082,phaseOffset:91.51886321434517}}},roads:{road57:{id:"road57",source:"intersection26",target:"intersection21"},road58:{id:"road58",source:"intersection21",target:"intersection26"},road59:{id:"road59",source:"intersection21",target:"intersection22"},road60:{id:"road60",source:"intersection22",target:"intersection21"},road61:{id:"road61",source:"intersection22",target:"intersection23"},road62:{id:"road62",source:"intersection23",target:"intersection22"},road63:{id:"road63",source:"intersection23",target:"intersection24"},road64:{id:"road64",source:"intersection24",target:"intersection23"},road65:{id:"road65",source:"intersection24",target:"intersection25"},road66:{id:"road66",source:"intersection25",target:"intersection24"},road67:{id:"road67",source:"intersection25",target:"intersection26"},road68:{id:"road68",source:"intersection26",target:"intersection25"},road69:{id:"road69",source:"intersection25",target:"intersection22"},road70:{id:"road70",source:"intersection22",target:"intersection25"}},carsNumber:2,time:138.33831499999914},mappa_complicata:{intersections:{intersection87:{id:"intersection87",rect:{x:-112,y:-70,_width:14,_height:14},controlSignals:{flipMultiplier:.5217022137739413,phaseOffset:1.5642095884635498}},intersection88:{id:"intersection88",rect:{x:-112,y:-42,_width:14,_height:14},controlSignals:{flipMultiplier:.9398669531001806,phaseOffset:35.77074627552086}},intersection89:{id:"intersection89",rect:{x:-112,y:-14,_width:14,_height:14},controlSignals:{flipMultiplier:.642267830383092,phaseOffset:17.473850551103844}},intersection90:{id:"intersection90",rect:{x:-112,y:14,_width:14,_height:14},controlSignals:{flipMultiplier:.09020765115496143,phaseOffset:22.21522877435507}},intersection91:{id:"intersection91",rect:{x:-28,y:14,_width:14,_height:14},controlSignals:{flipMultiplier:.7514962471148281,phaseOffset:48.78687282771161}},intersection92:{id:"intersection92",rect:{x:-28,y:-14,_width:14,_height:14},controlSignals:{flipMultiplier:.3602489087495704,phaseOffset:66.47258451973501}},intersection93:{id:"intersection93",rect:{x:-28,y:-42,_width:14,_height:14},controlSignals:{flipMultiplier:.5532482246415711,phaseOffset:15.743268270901535}},intersection94:{id:"intersection94",rect:{x:-28,y:-70,_width:14,_height:14},controlSignals:{flipMultiplier:.606836705799384,phaseOffset:79.34935652703616}},intersection95:{id:"intersection95",rect:{x:42,y:-70,_width:14,_height:14},controlSignals:{flipMultiplier:.6984370810517877,phaseOffset:19.39702370556622}},intersection96:{id:"intersection96",rect:{x:42,y:-42,_width:14,_height:14},controlSignals:{flipMultiplier:.10535891056544133,phaseOffset:.7379432534991848}},intersection97:{id:"intersection97",rect:{x:42,y:-14,_width:14,_height:14},controlSignals:{flipMultiplier:.22950889256440132,phaseOffset:14.990724495653529}},intersection98:{id:"intersection98",rect:{x:42,y:14,_width:14,_height:14},controlSignals:{flipMultiplier:.6392255718911695,phaseOffset:41.65034216633665}}},roads:{road201:{id:"road201",source:"intersection91",target:"intersection98"},road202:{id:"road202",source:"intersection98",target:"intersection91"},road203:{id:"road203",source:"intersection98",target:"intersection97"},road204:{id:"road204",source:"intersection97",target:"intersection98"},road205:{id:"road205",source:"intersection97",target:"intersection96"},road206:{id:"road206",source:"intersection96",target:"intersection97"},road207:{id:"road207",source:"intersection96",target:"intersection95"},road208:{id:"road208",source:"intersection95",target:"intersection96"},road209:{id:"road209",source:"intersection95",target:"intersection94"},road210:{id:"road210",source:"intersection94",target:"intersection95"},road211:{id:"road211",source:"intersection94",target:"intersection93"},road212:{id:"road212",source:"intersection93",target:"intersection94"},road213:{id:"road213",source:"intersection93",target:"intersection88"},road214:{id:"road214",source:"intersection88",target:"intersection93"},road215:{id:"road215",source:"intersection87",target:"intersection88"},road216:{id:"road216",source:"intersection88",target:"intersection87"},road217:{id:"road217",source:"intersection87",target:"intersection94"},road218:{id:"road218",source:"intersection94",target:"intersection87"},road219:{id:"road219",source:"intersection92",target:"intersection93"},road220:{id:"road220",source:"intersection93",target:"intersection92"},road221:{id:"road221",source:"intersection92",target:"intersection89"},road222:{id:"road222",source:"intersection89",target:"intersection92"},road223:{id:"road223",source:"intersection89",target:"intersection90"},road224:{id:"road224",source:"intersection90",target:"intersection89"},road225:{id:"road225",source:"intersection90",target:"intersection91"},road226:{id:"road226",source:"intersection91",target:"intersection90"},road227:{id:"road227",source:"intersection88",target:"intersection89"},road228:{id:"road228",source:"intersection89",target:"intersection88"},road231:{id:"road231",source:"intersection91",target:"intersection92"},road232:{id:"road232",source:"intersection92",target:"intersection91"}},carsNumber:4,time:353.8403300000037}}},{}],15:[function(e,t,n){"use strict";var r,i,a,o,s,l,c,u;({max:a,min:o,random:s,sqrt:c}=Math),e("../helpers"),i=e("underscore"),r=e("./trajectory"),u=e("../helpers"),l=e("../settings"),e=function(){class e{constructor(e,t){this.id=u("car"),this.color=(300+240*s()|0)%360,this._speed=0,this.width=1.7,this.length=3+2*s(),this.maxSpeed=30,this.s0=2,this.timeHeadway=1.5,this.maxAcceleration=1,this.maxDeceleration=3,this.trajectory=new r(this,e,t),this.alive=!0,this.preferedLane=null,this.tooLongStop=0,this.trackPoints=[]}release(){return this.trajectory.release()}getAcceleration(){var e=this.trajectory.nextCarDistance,t=a(e.distance,0),n=this.maxAcceleration,r=this.maxDeceleration,e=this.speed-(null!=(e=e.car)?e.speed:void 0)||0,i=(this.speed/this.maxSpeed)**4,o=this.s0,s=this.speed*this.timeHeadway,e=this.speed*e/(2*c(n*r)),n=((1+s+this.speed**2/(2*r))/this.trajectory.distanceToStopLine)**2;return this.maxAcceleration*(1-i-((o+s+e)/t)**2-n)}move(e){var t,n,r,i;return this.id===l.myCar.id?this.moveMACCHINA(e):(t=this.getAcceleration(),this.speed+=t*e,!this.trajectory.isChangingLanes&&this.nextLane&&(n=this.trajectory.current.lane,i=n.getTurnDirection(this.nextLane),(r=function(){switch(i){case 0:return n.leftmostAdjacent;case 2:return n.rightmostAdjacent;default:return n}}())!==n)&&this.trajectory.changeLane(r),(r=this.speed*e+.5*t*e**2)<=0&&(this.tooLongStop+=1,1e3<this.tooLongStop)&&(this.alive=!1),this.trajectory.nextCarDistance.distance<r&&console.log("bad IDM"),this.trajectory.timeToMakeTurn(r)&&null==this.nextLane?this.alive=!1:this.trajectory.moveForward(r))}moveMACCHINA(e){var t,n,r,i=this.getAcceleration();return this.speed+=i*e,!this.trajectory.isChangingLanes&&this.nextLane&&(t=this.trajectory.current.lane,r=t.getTurnDirection(this.nextLane),(n=function(){switch(r){case 0:return t.leftmostAdjacent;case 2:return t.rightmostAdjacent;default:return t}}())!==t)&&this.trajectory.changeLane(n),n=this.speed*e+.5*i*e**2,this.trajectory.nextCarDistance.distance<n&&(this.speed,this.speed,n=this.speed*e+.5*i*e**2),this.trajectory.timeToMakeTurn(n)&&null==this.nextLane?this.alive=!1:this.trajectory.moveForward(n)}pickNextRoad(){var e=this.trajectory.nextIntersection,t=this.trajectory.current.lane,e=e.roads.filter(function(e){return e.target!==t.road.source});return 0===e.length?null:i.sample(e)}pickNextLane(){var e,t,n;if(this.nextLane)throw Error("next lane is already chosen");if(this.nextLane=null,!(t=this.pickNextRoad()))return null;if(n=this.trajectory.current.lane.road.getTurnDirection(t),e=function(){switch(n){case 0:return t.lanesNumber-1;case 1:return i.random(0,t.lanesNumber-1);case 2:return 0}}(),this.nextLane=t.lanes[e],this.nextLane)return this.nextLane;throw Error("can not pick next lane")}popNextLane(){var e=this.nextLane;return this.nextLane=null,this.preferedLane=null,e}}return e.property("coords",{get:function(){return this.id===l.myCar.id&&(this.alive&&0<l.myCar.maxFollowPoints?(this.trackPoints.push(this.trajectory.coords),this.trackPoints.length>l.myCar.maxFollowPoints&&(this.trackPoints=this.trackPoints.slice(this.trackPoints.length-l.myCar.maxFollowPoints))):this.trackPoints=[]),this.trajectory.coords}}),e.property("speed",{get:function(){return this._speed},set:function(e){return(e=e<0?0:e)>this.maxSpeed&&(e=this.maxSpeed),this._speed=e}}),e.property("direction",{get:function(){return this.trajectory.direction}}),e}.call(this),t.exports=e},{"../helpers":13,"../settings":24,"./trajectory":22,underscore:7}],16:[function(e,t,n){"use strict";var i,o,s=[].indexOf;i=Math.random,e("../helpers"),o=e("../settings"),e=function(){class r{constructor(e){this.onTick=this.onTick.bind(this),this.intersection=e,this.flipMultiplier=i(),this.phaseOffset=100*i(),this.time=this.phaseOffset,this.stateNum=0}static copy(e,t){var n;return null==e?new r(t):((n=Object.create(r.prototype)).flipMultiplier=e.flipMultiplier,n.time=n.phaseOffset=e.phaseOffset,n.stateNum=0,n.intersection=t,n)}toJSON(){return{flipMultiplier:this.flipMultiplier,phaseOffset:this.phaseOffset}}_decode(e){var t=[0,0,0];return 0<=s.call(e,"L")&&(t[0]=1),0<=s.call(e,"F")&&(t[1]=1),0<=s.call(e,"R")&&(t[2]=1),t}flip(){return this.stateNum+=1}onTick(e){if(this.time+=e,this.time>this.flipInterval)return this.flip(),this.time-=this.flipInterval}}return r.prototype.states=[["L","","L",""],["FR","","FR",""],["","L","","L"],["","FR","","FR"]],r.STATE=[{RED:0,GREEN:1}],r.property("flipInterval",{get:function(){return(.1+.05*this.flipMultiplier)*o.lightsFlipInterval}}),r.property("state",{get:function(){for(var e,t=this.states[this.stateNum%this.states.length],n=[],r=0,i=(t=this.intersection.roads.length<=2?["LFR","LFR","LFR","LFR"]:t).length;r<i;r++)e=t[r],n.push(this._decode(e));return n}}),r}.call(this),t.exports=e},{"../helpers":13,"../settings":24}],17:[function(e,t,n){"use strict";var r,i,o,s,a;e("../helpers"),s=e("underscore"),r=e("./control-signals"),o=e("../geom/rect"),a=e("../helpers"),t.exports=i=class i{constructor(e){this.rect=e,this.id=a("intersection"),this.roads=[],this.inRoads=[],this.controlSignals=new r(this)}static copy(e){var t;return e.rect=o.copy(e.rect),t=Object.create(i.prototype),s.extend(t,e),t.roads=[],t.inRoads=[],t.controlSignals=r.copy(t.controlSignals,t),t}toJSON(){return{id:this.id,rect:this.rect,controlSignals:this.controlSignals}}update(){for(var e,t,n,r,i,o=this.roads,s=0,a=o.length;s<a;s++)(i=o[s]).update();for(r=[],e=0,t=(n=this.inRoads).length;e<t;e++)i=n[e],r.push(i.update());return r}}},{"../geom/rect":11,"../helpers":13,"./control-signals":16,underscore:7}],18:[function(e,t,n){"use strict";var r;e("../helpers"),e("underscore"),r=e("../helpers"),e=function(){class e{constructor(e,t,n){this.car=e,this.position=n,this.id=r("laneposition"),this.free=!0,this.lane=t}acquire(){var e;if(null!=(null!=(e=this.lane)?e.addCarPosition:void 0))return this.free=!1,this.lane.addCarPosition(this)}release(){var e;if(!this.free&&null!=(e=this.lane)&&e.removeCar)return this.free=!0,this.lane.removeCar(this)}getNext(){if(this.lane&&!this.free)return this.lane.getNext(this)}}return e.property("lane",{get:function(){return this._lane},set:function(e){return this.release(),this._lane=e}}),e.property("relativePosition",{get:function(){return this.position/this.lane.length}}),e.property("nextCarDistance",{get:function(){var e,t,n=this.getNext();return n?(t=n.position-n.car.length/2,e=this.position+this.car.length/2,{car:n.car,distance:t-e}):{car:null,distance:1/0}}}),e}.call(this),t.exports=e},{"../helpers":13,underscore:7}],19:[function(e,t,n){"use strict";var r,i;e("../helpers"),i=e("underscore"),r=e("../geom/segment"),e=function(){class e{constructor(e,t,n){this.sourceSegment=e,this.targetSegment=t,this.road=n,this.leftAdjacent=null,this.rightAdjacent=null,this.leftmostAdjacent=null,this.rightmostAdjacent=null,this.carsPositions={},this.update()}toJSON(){var e=i.extend({},this);return delete e.carsPositions,e}update(){return this.middleLine=new r(this.sourceSegment.center,this.targetSegment.center),this.length=this.middleLine.length,this.direction=this.middleLine.direction}getTurnDirection(e){return this.road.getTurnDirection(e.road)}getDirection(){return this.direction}getPoint(e){return this.middleLine.getPoint(e)}addCarPosition(e){if(e.id in this.carsPositions)throw Error("car is already here");return this.carsPositions[e.id]=e}removeCar(e){if(e.id in this.carsPositions)return delete this.carsPositions[e.id];throw Error("removing unknown car")}getNext(e){var t,n,r,i,o,s;if(e.lane!==this)throw Error("car is on other lane");for(r in i=null,t=1/0,s=this.carsPositions)n=(o=s[r]).position-e.position,!o.free&&0<n&&n<t&&(t=n,i=o);return i}}return e.property("sourceSideId",{get:function(){return this.road.sourceSideId}}),e.property("targetSideId",{get:function(){return this.road.targetSideId}}),e.property("isRightmost",{get:function(){return this===this.rightmostAdjacent}}),e.property("isLeftmost",{get:function(){return this===this.leftmostAdjacent}}),e.property("leftBorder",{get:function(){return new r(this.sourceSegment.source,this.targetSegment.target)}}),e.property("rightBorder",{get:function(){return new r(this.sourceSegment.target,this.targetSegment.source)}}),e}.call(this),t.exports=e},{"../geom/segment":12,"../helpers":13,underscore:7}],20:[function(e,t,n){"use strict";e("../helpers"),e=function(){class e{constructor(e,t){var n,r,i;if(this.factory=e,this.objects={},null!=t&&null!=t.objects)for(n in r=t.objects)i=r[n],this.objects[n]=this.factory.copy(i)}toJSON(){return this.objects}get(e){return this.objects[e]}put(e){return this.objects[e.id]=e}pop(e){var t=null!=(t=e.id)?t:e,e=this.objects[t];return"function"==typeof e.release&&e.release(),delete this.objects[t],e}all(){return this.objects}clear(){return this.objects={}}}return e.property("length",{get:function(){return Object.keys(this.objects).length}}),e}.call(this),t.exports=e},{"../helpers":13}],21:[function(e,t,n){"use strict";var c,r,u,h,d,i;({min:h,max:u}=Math),e("../helpers"),r=e("underscore"),c=e("./lane"),d=e("../settings"),i=e("../helpers"),e=function(){class n{constructor(e,t){this.source=e,this.target=t,this.id=i("road"),this.lanes=[],this.lanesNumber=null,this.update()}static copy(e){var t=Object.create(n.prototype);return r.extend(t,e),null==t.lanes&&(t.lanes=[]),t}toJSON(){return{id:this.id,source:this.source.id,target:this.target.id}}getTurnDirection(e){var t;if(this.target!==e.source)throw Error("invalid roads");return t=this.targetSideId,(e.sourceSideId-t-1+8)%4}update(){var e,t,n,r,i,o,s,a,l;if(!this.source||!this.target)throw Error("incomplete road");if(this.sourceSideId=this.source.rect.getSectorId(this.target.rect.center()),this.sourceSide=this.source.rect.getSide(this.sourceSideId).subsegment(.5,1),this.targetSideId=this.target.rect.getSectorId(this.source.rect.center()),this.targetSide=this.target.rect.getSide(this.targetSideId).subsegment(0,.5),this.lanesNumber=0|h(this.sourceSide.length,this.targetSide.length),this.lanesNumber=u(2,this.lanesNumber/d.gridSize|0),a=this.sourceSide.split(this.lanesNumber,!0),l=this.targetSide.split(this.lanesNumber),null==this.lanes||this.lanes.length<this.lanesNumber)for(null==this.lanes&&(this.lanes=[]),t=n=0,i=this.lanesNumber-1;0<=i?n<=i:i<=n;t=0<=i?++n:--n)null==(e=this.lanes)[t]&&(e[t]=new c(a[t],l[t],this));for(s=[],t=r=0,o=this.lanesNumber-1;0<=o?r<=o:o<=r;t=0<=o?++r:--r)this.lanes[t].sourceSegment=a[t],this.lanes[t].targetSegment=l[t],this.lanes[t].leftAdjacent=this.lanes[t+1],this.lanes[t].rightAdjacent=this.lanes[t-1],this.lanes[t].leftmostAdjacent=this.lanes[this.lanesNumber-1],this.lanes[t].rightmostAdjacent=this.lanes[0],s.push(this.lanes[t].update());return s}}return n.property("length",{get:function(){return this.targetSide.target.subtract(this.sourceSide.source).length}}),n.property("leftmostLane",{get:function(){return this.lanes[this.lanesNumber-1]}}),n.property("rightmostLane",{get:function(){return this.lanes[0]}}),n}.call(this),t.exports=e},{"../helpers":13,"../settings":24,"./lane":19,underscore:7}],22:[function(e,t,n){"use strict";var i,r,o,s;({min:s,max:o}=Math),e("../helpers"),r=e("./lane-position"),i=e("../geom/curve"),e("underscore"),e=function(){class e{constructor(e,t,n){this.car=e,this.current=new r(this.car,t,n=null==n?0:n),this.current.acquire(),this.next=new r(this.car),this.temp=new r(this.car),this.isChangingLanes=!1}isValidTurn(){var e=this.car.nextLane,t=this.current.lane;if(!e)throw Error("no road to enter");if(3===(e=t.getTurnDirection(e)))throw Error("no U-turns are allowed");if(0===e&&!t.isLeftmost)throw Error("no left turns from this lane");if(2!==e||t.isRightmost)return!0;throw Error("no right turns from this lane")}canEnterIntersection(){var e,t=this.car.nextLane,n=this.current.lane;return!t||(e=this.nextIntersection,t=n.getTurnDirection(t),n=n.road.targetSideId,e.controlSignals.state[n][t])}getDistanceToIntersection(){var e=this.current.lane.length-this.car.length/2-this.current.position;return this.isChangingLanes?1/0:o(e,0)}timeToMakeTurn(e=0){return this.getDistanceToIntersection()<=e}moveForward(e){var t;if(e=o(e,0),this.current.position+=e,this.next.position+=e,this.temp.position+=e,this.timeToMakeTurn()&&this.canEnterIntersection()&&this.isValidTurn()&&this._startChangingLanes(this.car.popNextLane(),0),e=this.temp.position/(null!=(e=this.temp.lane)?e.length:void 0),t=settings.carsGap*this.car.length,this.isChangingLanes&&this.temp.position>t&&!this.current.free&&this.current.release(),this.isChangingLanes&&this.next.free&&this.temp.position+t>(null!=(t=this.temp.lane)?t.length:void 0)&&this.next.acquire(),this.isChangingLanes&&1<=e&&this._finishChangingLanes(),this.current.lane&&!this.isChangingLanes&&!this.car.nextLane)return this.car.pickNextLane()}changeLane(e){var t;if(this.isChangingLanes)throw Error("already changing lane");if(null==e)throw Error("no next lane");if(e===this.lane)throw Error("next lane == current lane");if(this.lane.road!==e.road)throw Error("not neighbouring lanes");if((t=this.current.position+3*this.car.length)<this.lane.length)return this._startChangingLanes(e,t);throw Error("too late to change lane")}_getIntersectionLaneChangeCurve(){}_getAdjacentLaneChangeCurve(){var e=this.current.lane.getPoint(this.current.relativePosition),t=this.next.lane.getPoint(this.next.relativePosition),n=t.subtract(e).length,r=this.current.lane.middleLine.vector.normalized.mult(.3*n),r=e.add(r),n=this.next.lane.middleLine.vector.normalized.mult(.3*n),n=t.subtract(n);return new i(e,t,r,n)}_getCurve(){return this._getAdjacentLaneChangeCurve()}_startChangingLanes(e,t){if(this.isChangingLanes)throw Error("already changing lane");if(null==e)throw Error("no next lane");return this.isChangingLanes=!0,this.next.lane=e,this.next.position=t,e=this._getCurve(),this.temp.lane=e,this.temp.position=0,this.next.position-=this.temp.lane.length}_finishChangingLanes(){if(this.isChangingLanes)return this.isChangingLanes=!1,this.current.lane=this.next.lane,this.current.position=this.next.position||0,this.current.acquire(),this.next.lane=null,this.next.position=NaN,this.temp.lane=null,this.temp.position=NaN,this.current.lane;throw Error("no lane changing is going on")}release(){var e;return null!=(e=this.current)&&e.release(),null!=(e=this.next)&&e.release(),null!=(e=this.temp)?e.release():void 0}}return e.property("lane",{get:function(){return this.temp.lane||this.current.lane}}),e.property("absolutePosition",{get:function(){return(null!=this.temp.lane?this.temp:this.current).position}}),e.property("relativePosition",{get:function(){return this.absolutePosition/this.lane.length}}),e.property("direction",{get:function(){return this.lane.getDirection(this.relativePosition)}}),e.property("coords",{get:function(){return this.lane.getPoint(this.relativePosition)}}),e.property("nextCarDistance",{get:function(){var e=this.current.nextCarDistance,t=this.next.nextCarDistance;return e.distance<t.distance?e:t}}),e.property("distanceToStopLine",{get:function(){return this.canEnterIntersection()?1/0:this.getDistanceToIntersection()}}),e.property("nextIntersection",{get:function(){return this.current.lane.road.target}}),e.property("previousIntersection",{get:function(){return this.current.lane.road.source}}),e}.call(this),t.exports=e},{"../geom/curve":9,"../helpers":13,"./lane-position":18,underscore:7}],23:[function(e,t,n){"use strict";var r,S,i,E,A,T,N,o,j;N=Math.random,e("../helpers"),T=e("underscore"),r=e("./car"),S=e("./intersection"),A=e("./road"),i=e("./pool"),E=e("../geom/rect"),j=e("../settings"),o=e("../maps"),e=function(){class e{constructor(){this.onTick=this.onTick.bind(this),this.set({}),this.createDynamicMapMethods()}createDynamicMapMethods(){var e,t,n=this.constructor,r=[];for(t in o)e=o[t],r.push(function(e,t){return n.prototype[e]=function(){return this.load(t,!1)}}(t,e));return r}set(e){return this.intersections=new i(S,(e=null==e?{}:e).intersections),this.roads=new i(A,e.roads),this.cars=new i(r,e.cars),this.carsNumber=0,this.time=0}save(){var e=T.extend({},this);return delete e.cars,localStorage.world=JSON.stringify(e)}load(e,t=!0){var n,r,i,o,s,a;if(null!=(e=(e=e||localStorage.world)&&t?JSON.parse(e):e)){for(n in this.clear(),this.carsNumber=e.carsNumber||0,i=e.intersections)r=i[n],this.addIntersection(S.copy(r));for(n in s=[],o=e.roads)a=o[n],(a=A.copy(a)).source=this.getIntersection(a.source),a.target=this.getIntersection(a.target),s.push(this.addRoad(a));return s}}generateMap(e=-2,t=2,n=-2,r=2){var i,o,s,a,l,c,u,h,d,f,p,g,m,v,b,y,_,x,w,C,k;for(this.clear(),a=.8*(t-e+1)*(r-n+1)|0,h={},w=5*(i=j.gridSize),this.carsNumber=j.carsNumber;0<a;)null==h[[C=T.random(e,t),k=T.random(n,r)]]&&(f=new E(w*C,w*k,i,i),s=new S(f),this.addIntersection(h[[C,k]]=s),--a);for(C=o=p=e,g=t;p<=g?o<=g:g<=o;C=p<=g?++o:--o)for(d=null,k=l=m=n,v=r;m<=v?l<=v:v<=l;k=m<=v?++l:--l)null!=(s=h[[C,k]])&&(N()<.9&&(null!=d&&this.addRoad(new A(s,d)),null!=d)&&this.addRoad(new A(d,s)),d=s);for(k=c=b=n,y=r;b<=y?c<=y:y<=c;k=b<=y?++c:--c)for(d=null,C=u=_=e,x=t;_<=x?u<=x:x<=u;C=_<=x?++u:--u)null!=(s=h[[C,k]])&&(N()<.9&&(null!=d&&this.addRoad(new A(s,d)),null!=d)&&this.addRoad(new A(d,s)),d=s);return null}addMyCar(e){var t;if(console.log("road1"),t=this.getRoad("road1"))return t=t.lanes[0],this.removeCarById("MACCHINA"),this.carsNumber=this.carsNumber+1,(t=new r(t)).speed=1,t.id=j.myCar.id,t.color=j.myCar.color,this.addCar(t)}clear(){return this.set({})}onTick(e){var t,n,r,i,o;if(1<e)throw Error("delta > 1");for(n in this.time+=e,this.refreshCars(),r=this.intersections.all())r[n].controlSignals.onTick(e);for(n in o=[],i=this.cars.all())(t=i[n]).move(e),t.alive?o.push(void 0):o.push(this.removeCar(t));return o}refreshCars(){if(this.cars.length<this.carsNumber&&this.addRandomCar(),this.cars.length>this.carsNumber)return this.removeRandomCar()}addRoad(e){return this.roads.put(e),e.source.roads.push(e),e.target.inRoads.push(e),e.update()}getRoad(e){return this.roads.get(e)}addCar(e){return this.cars.put(e)}getCar(e){return this.cars.get(e)}removeCarById(e){e=this.getCar(e);if(e)return this.removeCar(e)}removeCar(e){return this.cars.pop(e),e.release()}addIntersection(e){return this.intersections.put(e)}getIntersection(e){return this.intersections.get(e)}addRandomCar(){var e=T.sample(this.roads.all());if(null!=e&&null!=(e=T.sample(e.lanes)))return this.addCar(new r(e))}removeRandomCar(){var e=T.sample(this.cars.all());if(null!=e)return this.removeCar(e)}}return e.property("instantSpeed",{get:function(){var e=T.map(this.cars.all(),function(e){return e.speed});return 0===e.length?0:T.reduce(e,function(e,t){return e+t})/e.length}}),e}.call(this),t.exports=e},{"../geom/rect":11,"../helpers":13,"../maps":14,"../settings":24,"./car":15,"./intersection":17,"./pool":20,"./road":21,underscore:7}],24:[function(e,t,n){"use strict";t.exports={colors:{background:"#FFFFFF",redLight:"hsl(0, 100%, 50%)",greenLight:"#85ee00",intersection:"#586970",road:"#586970",roadMarking:"#bbb",hoveredIntersection:"#3d4c53",tempRoad:"#aaa",gridPoint:"#586970",grid1:"rgba(255, 255, 255, 0.5)",grid2:"rgba(220, 220, 220, 0.5)",hoveredGrid:"#f4e8e1"},fps:30,lightsFlipInterval:160,gridSize:14,defaultTimeFactor:5,defaultZoomLevel:6,debug:!0,canvasWidth:1400,canvasHeight:1100,fullScreen:!0,showRedLights:!0,triangles:!0,carsNumber:5,myCar:{id:"MACCHINA",color:"#000000",maxFollowPoints:1e3}}},{}],25:[function(e,t,n){"use strict";var r,s;s=Math.PI,e("../helpers.coffee"),t.exports=r=class{constructor(e){this.ctx=e}fillRect(e,t,n){return null!=t&&(this.ctx.fillStyle=t),t=this.ctx.globalAlpha,null!=n&&(this.ctx.globalAlpha=n),this.ctx.fillRect(e.left(),e.top(),e.width(),e.height()),this.ctx.globalAlpha=t}drawRect(e){var t,n,r,i;for(this.ctx.beginPath,e=e.getVertices(),this.ctx.beginPath(),this.moveTo(e[0]),t=0,n=(i=e.slice(1)).length;t<n;t++)r=i[t],this.lineTo(r);return this.ctx.closePath()}drawImage(e,t){return this.ctx.drawImage(e,t.left(),t.top(),t.width(),t.height())}clear(e){return this.ctx.fillStyle=e,this.ctx.fillRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height)}moveTo(e){return this.ctx.moveTo(e.x,e.y)}lineTo(e){return this.ctx.lineTo(e.x,e.y)}drawLine(e,t){return this.ctx.beginPath(),this.moveTo(e),this.lineTo(t)}drawSegment(e,t=null,n=null){return n&&this.stroke(n),t&&(this.ctx.lineWidth=t),this.drawLine(e.source,e.target)}drawCurve(e,t,n){var r,i,o;for(this.ctx.lineWidth=t,this.ctx.beginPath(),this.moveTo(e.getPoint(0)),r=i=0,0;i<=10;r=++i)o=e.getPoint(r/10),this.lineTo(o);if(e.O&&(this.moveTo(e.O),this.ctx.arc(e.O.x,e.O.y,t,0,2*s)),e.Q&&(this.moveTo(e.Q),this.ctx.arc(e.Q.x,e.Q.y,t,0,2*s)),n)return this.stroke(n)}drawTriangle(e,t,n){return this.ctx.beginPath(),this.moveTo(e),this.lineTo(t),this.lineTo(n)}drawCircle(e,t,n,r){if(this.ctx.beginPath(),this.ctx.arc(e.x,e.y,t,0,2*s),this.ctx.lineWidth=n,r)return this.stroke(r)}fill(e,t){return this.ctx.fillStyle=e,e=this.ctx.globalAlpha,null!=t&&(this.ctx.globalAlpha=t),this.ctx.fill(),this.ctx.globalAlpha=e}stroke(e){return this.ctx.strokeStyle=e,this.ctx.stroke()}polyline(...e){var t,n,r,i;if(1<=e.length){for(this.ctx.beginPath(),this.moveTo(e[0]),t=0,n=(i=e.slice(1)).length;t<n;t++)r=i[t],this.lineTo(r);return this.ctx.closePath()}}save(){return this.ctx.save()}restore(){return this.ctx.restore()}}},{"../helpers.coffee":13}],26:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new Error("Bound instance method accessed before binding")}var r,o,s;e("../helpers.coffee"),r=e("./tool.coffee"),s=e("../settings.coffee"),o=class o extends r{constructor(){super(...arguments),this.mousemove=this.mousemove.bind(this),this.mouseout=this.mouseout.bind(this),this.draw=this.draw.bind(this),this.hoveredCell=null}mousemove(e){var t,n,r;for(n in i(this,o),e=this.getCell(e),t=this.getHoveredIntersection(e),this.hoveredCell=e,r=this.visualizer.world.intersections.all())r[n].color=null;if(null!=t)return t.color=s.colors.hoveredIntersection}mouseout(){return i(this,o),this.hoveredCell=null}draw(){var e;if(i(this,o),this.hoveredCell)return e=s.colors.hoveredGrid,this.visualizer.graphics.fillRect(this.hoveredCell,e,.5)}},t.exports=o},{"../helpers.coffee":13,"../settings.coffee":24,"./tool.coffee":31}],27:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new Error("Bound instance method accessed before binding")}var i,o,s;e("../helpers.coffee"),o=e("./tool.coffee"),i=e("../model/intersection.coffee"),s=class s extends o{constructor(){super(...arguments),this.mousedown=this.mousedown.bind(this),this.mouseup=this.mouseup.bind(this),this.mousemove=this.mousemove.bind(this),this.mouseout=this.mouseout.bind(this),this.draw=this.draw.bind(this),this.tempIntersection=null,this.mouseDownPos=null}mousedown(e){if(r(this,s),this.mouseDownPos=this.getCell(e),e.shiftKey)return this.tempIntersection=new i(this.mouseDownPos),e.stopImmediatePropagation()}mouseup(){return r(this,s),this.tempIntersection&&(this.visualizer.world.addIntersection(this.tempIntersection),this.tempIntersection=null),this.mouseDownPos=null}mousemove(e){if(r(this,s),this.tempIntersection)return e=this.visualizer.zoomer.getBoundingBox(this.mouseDownPos,this.getCell(e)),this.tempIntersection.rect=e}mouseout(){return r(this,s),this.mouseDownPos=null,this.tempIntersection=null}draw(){if(r(this,s),this.tempIntersection)return this.visualizer.drawIntersection(this.tempIntersection,.4)}},t.exports=s},{"../helpers.coffee":13,"../model/intersection.coffee":17,"./tool.coffee":31}],28:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new Error("Bound instance method accessed before binding")}var i;e("../helpers.coffee"),i=class i extends e("./tool.coffee"){constructor(){super(...arguments),this.mousedown=this.mousedown.bind(this),this.mouseup=this.mouseup.bind(this),this.mousemove=this.mousemove.bind(this),this.mouseout=this.mouseout.bind(this),this.intersection=null}mousedown(e){var t;if(r(this,i),t=this.getHoveredIntersection(this.getCell(e)))return this.intersection=t,e.stopImmediatePropagation()}mouseup(){return r(this,i),this.intersection=null}mousemove(e){if(r(this,i),this.intersection)return e=this.getCell(e),this.intersection.rect.left(e.x),this.intersection.rect.top(e.y),this.intersection.update()}mouseout(){return r(this,i),this.intersection=null}},t.exports=i},{"../helpers.coffee":13,"./tool.coffee":31}],29:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new Error("Bound instance method accessed before binding")}var i;e("../helpers.coffee"),i=class i extends e("./tool.coffee"){constructor(){super(...arguments),this.mousedown=this.mousedown.bind(this),this.mouseup=this.mouseup.bind(this),this.mousemove=this.mousemove.bind(this),this.mouseout=this.mouseout.bind(this),this.startPosition=null}contextmenu(){return!1}mousedown(e){return r(this,i),this.startPosition=this.getPoint(e),e.stopImmediatePropagation()}mouseup(){return r(this,i),this.startPosition=null}mousemove(e){var t;if(r(this,i),this.startPosition)return t=this.getPoint(e).subtract(this.startPosition),this.visualizer.zoomer.moveCenter(t),this.startPosition=this.getPoint(e)}mouseout(){return r(this,i),this.startPosition=null}},t.exports=i},{"../helpers.coffee":13,"./tool.coffee":31}],30:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new Error("Bound instance method accessed before binding")}var i,o,s,a,l,c;e("../helpers.coffee"),l=e("underscore"),s=e("./tool.coffee"),i=e("../model/car.coffee"),o=e("../model/road.coffee"),c=e("../settings.coffee"),a=class a extends s{constructor(){super(...arguments),this.mousedown=this.mousedown.bind(this),this.mouseup=this.mouseup.bind(this),this.mousemove=this.mousemove.bind(this),this.mouseout=this.mouseout.bind(this),this.draw=this.draw.bind(this),this.sourceIntersection=null,this.road=null,this.dualRoad=null}mousedown(e){var t,n;if(r(this,a),n=this.getCell(e),t=this.getHoveredIntersection(n),e.shiftKey&&null!=t&&(this.sourceIntersection=t,e.stopImmediatePropagation()),t=this.getHoveredIntersection(n),e.ctrlKey&&null!=t)return t=this.getHoveredIntersection(n),n=l.sample(t.roads),t=l.sample(n.lanes),(n=new i(t)).speed=0,n.id=c.myCar.id,n.color=c.myCar.color,this.visualizer.world.addCar(n),e.stopImmediatePropagation()}mouseup(e){return r(this,a),null!=this.road&&this.visualizer.world.addRoad(this.road),null!=this.dualRoad&&this.visualizer.world.addRoad(this.dualRoad),this.road=this.dualRoad=this.sourceIntersection=null}mousemove(e){return r(this,a),e=this.getCell(e),e=this.getHoveredIntersection(e),this.sourceIntersection&&e&&this.sourceIntersection.id!==e.id?null!=this.road?(this.road.target=e,this.dualRoad.source=e):(this.road=new o(this.sourceIntersection,e),this.dualRoad=new o(e,this.sourceIntersection)):this.road=this.dualRoad=null}mouseout(e){return r(this,a),this.road=this.dualRoad=this.sourceIntersection=null}draw(){if(r(this,a),null!=this.road&&this.visualizer.drawRoad(this.road,.4),null!=this.dualRoad)return this.visualizer.drawRoad(this.dualRoad,.4)}},t.exports=a},{"../helpers.coffee":13,"../model/car.coffee":15,"../model/road.coffee":21,"../settings.coffee":24,"./tool.coffee":31,underscore:7}],31:[function(e,t,n){"use strict";var i,o,r,s;e("../helpers.coffee"),i=e("jquery"),e("underscore"),r=e("../geom/point.coffee"),e("../geom/rect.coffee"),e("jquery-mousewheel"),o=["click","mousedown","mouseup","mousemove","mouseout","mousewheel","contextmenu"],t.exports=s=class{constructor(e,t){this.draw=this.draw.bind(this),this.getPoint=this.getPoint.bind(this),this.getCell=this.getCell.bind(this),this.getHoveredIntersection=this.getHoveredIntersection.bind(this),this.visualizer=e,this.ctx=this.visualizer.ctx,this.canvas=this.ctx.canvas,this.isBound=!1,this.bind=this.bind.bind(this),this.unbind=this.unbind.bind(this),this.click=this.click.bind(this),this.mousedown=this.mousedown.bind(this),this.mouseup=this.mouseup.bind(this),this.mousemove=this.mousemove.bind(this),this.mouseout=this.mouseout.bind(this),this.mousewheel=this.mousewheel.bind(this),this.contextmenu=this.contextmenu.bind(this),t&&this.bind()}bind(){var e,t,n,r;for(this.isBound=!0,r=[],e=0,t=o.length;e<t;e++)null!=this[n=o[e]]&&r.push(i(this.canvas).on(n,this[n]));return r}unbind(){var e,t,n,r;for(this.isBound=!1,r=[],e=0,t=o.length;e<t;e++)null!=this[n=o[e]]&&r.push(i(this.canvas).off(n,this[n]));return r}toggleState(){return this.isBound?this.unbind():this.bind()}draw(){}getPoint(e){return new r(e.pageX-this.canvas.offsetLeft,e.pageY-this.canvas.offsetTop)}getCell(e){return this.visualizer.zoomer.toCellCoords(this.getPoint(e))}getHoveredIntersection(e){var t,n,r=this.visualizer.world.intersections.all();for(t in r)if((n=r[t]).rect.containsRect(e))return n}click(e){}mousedown(e){}mouseup(e){}mousemove(e){}mouseout(e){}mousewheel(e){}contextmenu(e){}}},{"../geom/point.coffee":10,"../geom/rect.coffee":11,"../helpers.coffee":13,jquery:6,"jquery-mousewheel":5,underscore:7}],32:[function(e,t,n){"use strict";var r,i,c,u,h,o,s,a,l,d,f,p,g;c=Math.PI,e("../helpers"),r=e("jquery"),e("underscore"),p=e("chroma-js"),u=e("../geom/point"),h=e("../geom/rect"),i=e("./graphics"),l=e("./mover"),a=e("./intersection-mover"),s=e("./intersection-builder"),d=e("./road-builder"),o=e("./highlighter"),f=e("./zoomer"),g=e("../settings"),Math.abs,e=function(){class e{constructor(e){this.draw=this.draw.bind(this),this.world=e,this.$canvas=r("#canvas"),this.canvas=this.$canvas[0],this.ctx=this.canvas.getContext("2d"),this.carImage=new Image,this.carImage.src="images/car.png",this.updateCanvasSize(),this.zoomer=new f(g.defaultZoomLevel,this,!0),this.graphics=new i(this.ctx),this.toolRoadbuilder=new d(this,!0),this.toolIntersectionBuilder=new s(this,!0),this.toolHighlighter=new o(this,!0),this.toolIntersectionMover=new a(this,!0),this.toolMover=new l(this,!0),this._running=!1,this.previousTime=0,this.timeFactor=g.defaultTimeFactor}drawIntersection(e,t){var n=e.color||g.colors.intersection;if(this.graphics.drawRect(e.rect),this.ctx.lineWidth=.4,this.graphics.stroke(g.colors.roadMarking),this.graphics.fillRect(e.rect,n,t),g.debug)return this.ctx.save(),this.ctx.fillStyle="black",this.ctx.font="1.0px Arial",n=e.rect.center(),this.ctx.fillText(e.id,n.x,n.y-1),this.ctx.restore()}fixSignal(e){var t,n,r,i,o,s,a,l,c,u,h,d,f,p,g,m,v,b,y,_,x,w,C,k,S,E,A,I,P,T,N,j,L,M,O,R,D=[!0,!0,!0];switch(e.targetSideId){case 0:for(D[1]=!1,t=0,n=(b=e.target.inRoads).length;t<n;t++)0===b[t].sourceSideId&&(D[1]=!0);for(D[0]=!1,p=0,r=(y=e.target.inRoads).length;p<r;p++)3===y[p].sourceSideId&&(D[0]=!0);for(D[2]=!1,g=0,s=(w=e.target.inRoads).length;g<s;g++)1===w[g].sourceSideId&&(D[2]=!0);break;case 1:for(D[0]=!1,m=0,a=(C=e.target.inRoads).length;m<a;m++)0===C[m].sourceSideId&&(D[0]=!0);for(D[2]=!1,v=0,l=(k=e.target.inRoads).length;v<l;v++)2===k[v].sourceSideId&&(D[2]=!0);for(D[1]=!1,T=0,c=(S=e.target.inRoads).length;T<c;T++)1===S[T].sourceSideId&&(D[1]=!0);break;case 2:for(D[1]=!1,N=0,u=(E=e.target.inRoads).length;N<u;N++)2===E[N].sourceSideId&&(D[1]=!0);for(D[0]=!1,j=0,h=(A=e.target.inRoads).length;j<h;j++)1===A[j].sourceSideId&&(D[0]=!0);for(D[2]=!1,L=0,d=(I=e.target.inRoads).length;L<d;L++)3===I[L].sourceSideId&&(D[2]=!0);break;case 3:for(D[2]=!1,M=0,f=(P=e.target.inRoads).length;M<f;M++)0===P[M].sourceSideId&&(D[2]=!0);for(D[0]=!1,O=0,i=(_=e.target.inRoads).length;O<i;O++)2===_[O].sourceSideId&&(D[0]=!0);for(D[1]=!1,R=0,o=(x=e.target.inRoads).length;R<o;R++)3===x[R].sourceSideId&&(D[1]=!0)}return D}drawSignals(e){g.colors.redLight,g.colors.greenLight;var t,n,r,i,o=e.target,s=e.targetSide,a=e.targetSideId,l=o.controlSignals.state[a];if(this.ctx.save(),this.ctx.translate(s.center.x,s.center.y),this.ctx.rotate((a+1)*c/2),this.ctx.scale(+s.length,+s.length),1!==o.inRoads.length&&2!==o.inRoads.length){if(3===o.inRoads.length)for(n=t=0,r=(i=this.fixSignal(e)).length;n<r;n++)!1===i[n]&&(l[t]=-1),t+=1;return 1===l[0]?(g.triangles?this.graphics.drawTriangle(new u(.1,-.2),new u(.2,-.4),new u(.3,-.2)):this.graphics.drawCircle(new u(.2,-.3),.1),this.graphics.fill(g.colors.greenLight)):-1!==l[0]&&0===l[0]&&g.showRedLights&&(g.triangles?this.graphics.drawTriangle(new u(.1,-.2),new u(.2,-.4),new u(.3,-.2)):this.graphics.drawCircle(new u(.2,-.3),.1),this.graphics.fill(g.colors.redLight)),1===l[1]?(g.triangles?this.graphics.drawTriangle(new u(.3,-.1),new u(.5,0),new u(.3,.1)):this.graphics.drawCircle(new u(.4,0),.1),this.graphics.fill(g.colors.greenLight)):-1!==l[1]&&0===l[1]&&g.showRedLights&&(g.triangles?this.graphics.drawTriangle(new u(.3,-.1),new u(.5,0),new u(.3,.1)):this.graphics.drawCircle(new u(.4,0),.1),this.graphics.fill(g.colors.redLight)),1===l[2]?(g.triangles?this.graphics.drawTriangle(new u(.1,.2),new u(.2,.4),new u(.3,.2)):this.graphics.drawCircle(new u(.2,.3),.1),this.graphics.fill(g.colors.greenLight)):-1!==l[2]&&0===l[2]&&g.showRedLights&&(g.triangles?this.graphics.drawTriangle(new u(.1,.2),new u(.2,.4),new u(.3,.2)):this.graphics.drawCircle(new u(.2,.3),.1),this.graphics.fill(g.colors.redLight)),this.ctx.restore(),g.debug?(this.ctx.save(),this.ctx.fillStyle="black",this.ctx.font="1px Arial",a=o.rect.center(),s=Math.round(100*o.controlSignals.flipInterval)/100,e=Math.round(100*o.controlSignals.phaseOffset)/100,this.ctx.fillText(s+" - "+e,a.x,a.y),this.ctx.restore()):void 0}this.ctx.restore()}drawRoad(e,t){var n,r,i,o,s,a,l;if(null==e.source||null==e.target)throw Error("invalid road");for(a=e.sourceSide,l=e.targetSide,this.ctx.save(),this.ctx.lineWidth=.4,s=e.leftmostLane.leftBorder,this.graphics.drawSegment(s),this.graphics.stroke(g.colors.roadMarking),s=e.rightmostLane.rightBorder,this.graphics.drawSegment(s),this.graphics.stroke(g.colors.roadMarking),this.ctx.restore(),this.graphics.polyline(a.source,a.target,l.source,l.target),this.graphics.fill(g.colors.road,t),this.ctx.save(),n=0,r=(o=e.lanes.slice(1)).length;n<r;n++)i=o[n].rightBorder,this.graphics.drawSegment(i),this.ctx.lineWidth=.2,this.ctx.lineDashOffset=1.5,this.ctx.setLineDash([1]),this.graphics.stroke(g.colors.roadMarking);if(this.ctx.restore(),g.debug)return this.ctx.save(),this.ctx.fillStyle="black",this.ctx.font="1px Arial",s=e.lanes[0].middleLine.center,a=e.lanes[1].middleLine.center,l=new u((s.x+a.x)/2,(s.y+a.y)/2),this.ctx.fillText(e.id,l.x,l.y),this.ctx.restore()}drawCar(e){var t,n,r=e.direction,i=e.coords;if(new h(0,0,1.1*e.length,1.7*e.width).center(new u(0,0)),(n=new h(0,0,e.length,e.width)).center(new u(0,0)),this.graphics.save(),this.ctx.translate(i.x,i.y),this.ctx.rotate(r),r=e.id===g.myCar.id?g.myCar.color:(r=.9-.3*e.speed/e.maxSpeed,p(e.color,.8,r,"hsl").hex()),this.graphics.fillRect(n,r),this.graphics.restore(),g.debug){if(this.ctx.save(),this.ctx.fillStyle="black",this.ctx.font="1px Arial",this.ctx.fillText(e.id,i.x,i.y),e.id!==g.myCar.id)return null!=(t=null!=(n=e.trajectory.temp)?n.lane:void 0)&&this.graphics.drawCurve(t,.1,"red"),this.ctx.restore();null!=(t=null!=(r=e.trajectory.temp)?r.lane:void 0)&&this.graphics.drawCurve(t,.1,"blue"),this.ctx.restore()}}drawGrid(){var i,o,e,s,t,n,r,a=g.gridSize,l=this.zoomer.getBoundingBox();if(!(l.area()>=2e3*a*a)){for(r=[],i=e=l.left(),t=l.right(),n=a;0!==n&&(0<n?e<=t:t<=e);i=e+=n)r.push(function(){var e,t,n,r=[];for(o=e=l.top(),t=l.bottom(),n=a;0!==n&&(0<n?e<=t:t<=e);o=e+=n)s=new h(i-.2,o-.2,.4,.4),r.push(this.graphics.fillRect(s,g.colors.gridPoint));return r}.call(this));return r}}drawCarLines(e){var t,n,r,i;if(e.id===g.myCar.id){for(this.ctx.beginPath(),this.ctx.moveTo(e.trackPoints[0].x,e.trackPoints[0].y),t=0,n=(i=e.trackPoints).length;t<n;t++)r=i[t],this.graphics.drawCircle(r,.2),this.graphics.fill("black");return this.ctx.stroke(),this.ctx.restore()}}updateCanvasSize(){var e,t=!0===g.fullScreen?(e=r(window).width(),r(window).height()):(e=g.canvasWidth,g.canvasHeight);if(this.$canvas.attr("width")!==e||this.$canvas.attr("height")!==t)return this.$canvas.attr({width:e,height:t})}draw(e){var t,n,r,i,o,s,a,l,c,u=e-this.previousTime||0;if(30<u){for(n in 100<u&&(u=100),this.previousTime=e,this.world.onTick(this.timeFactor*u/1e3),this.updateCanvasSize(),this.graphics.clear(g.colors.background),this.graphics.save(),this.zoomer.transform(),this.drawGrid(),i=this.world.intersections.all())r=i[n],this.drawIntersection(r,.9);for(n in o=this.world.roads.all())c=o[n],this.drawRoad(c,.9);for(n in s=this.world.roads.all())c=s[n],this.drawSignals(c);for(n in a=this.world.cars.all())t=a[n],this.drawCar(t);for(n in this.toolIntersectionBuilder.draw(),this.toolRoadbuilder.draw(),this.toolHighlighter.draw(),l=this.world.cars.all())t=l[n],this.drawCarLines(t);this.graphics.restore()}if(this.running)return window.requestAnimationFrame(this.draw)}start(){if(!this._running)return this._running=!0,this.draw()}stop(){return this._running=!1}}return e.property("running",{get:function(){return this._running},set:function(e){return e?this.start():this.stop()}}),e}.call(this),t.exports=e},{"../geom/point":10,"../geom/rect":11,"../helpers":13,"../settings":24,"./graphics":25,"./highlighter":26,"./intersection-builder":27,"./intersection-mover":28,"./mover":29,"./road-builder":30,"./zoomer":33,"chroma-js":1,jquery:6,underscore:7}],33:[function(e,t,n){"use strict";var o,s,r,a,l,i;({min:l,max:a}=Math),e("../helpers.coffee"),o=e("../geom/point.coffee"),s=e("../geom/rect.coffee"),r=e("./tool.coffee"),i=e("../settings.coffee"),e=function(){class e extends r{constructor(e,t,n){super(t,n),this.defaultZoom=e,this.ctx=t.ctx,this.canvas=this.ctx.canvas,this._scale=1,this.screenCenter=new o(this.canvas.width/2,this.canvas.height/2),this.center=new o(this.canvas.width/2,this.canvas.height/2)}toCellCoords(e){var t=i.gridSize,e=e.subtract(this.center).divide(this.scale),n=Math.floor(e.x/(this.defaultZoom*t))*t,e=Math.floor(e.y/(this.defaultZoom*t))*t;return new s(n,e,t,t)}getBoundingBox(e,t){var n,r,i;return null==e&&(e=this.toCellCoords(new o(0,0))),null==t&&(t=this.toCellCoords(new o(this.canvas.width,this.canvas.height))),e.x,e.y,t.x,t.y,r=l(e.left(),t.left()),n=a(e.right(),t.right()),i=l(e.top(),t.top()),e=a(e.bottom(),t.bottom()),new s(r,i,n-r,e-i)}transform(){var e;return this.ctx.translate(this.center.x,this.center.y),e=this.scale*this.defaultZoom,this.ctx.scale(e,e)}zoom(e,t){var n;return null==e&&(e=1),n=this.center.subtract(t),this.center=t.add(n.mult(e/this._scale)),this._scale=e}moveCenter(e){return this.center=this.center.add(e)}mousewheel(e){var t=e.originalEvent.deltaY*-e.originalEvent.eventPhase;return this.zoom(this.scale*2**(.001*t),this.getPoint(e)),e.preventDefault()}}return e.property("scale",{get:function(){return this._scale},set:function(e){return this.zoom(e,this.screenCenter)}}),e}.call(this),t.exports=e},{"../geom/point.coffee":10,"../geom/rect.coffee":11,"../helpers.coffee":13,"../settings.coffee":24,"./tool.coffee":31}]},{},[8]);